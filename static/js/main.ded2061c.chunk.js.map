{"version":3,"sources":["logic/stampduty/stampduty-bands.js","components/formconfig.js","components/StatelessFormComponents.jsx","components/FormComponent.jsx","components/ResultListComponent.jsx","components/SavedStateComponents.jsx","logic/stampduty/stampduty-calculator.js","logic/calculations/allInputCosts.js","labels/calculations-labels.js","logic/calculations/index.js","logic/calculations/freeCash.js","logic/calculations/initialFinance.js","logic/calculations/flip.js","logic/calculations/stressTest.js","util/validate-postcode.js","App.jsx","serviceWorker.js","index.js"],"names":["module","exports","commercial","upto","rate","residential","load","ireland","residentialWales","commercialWales","residentialScotland","commercialScotland","percentSign","String","fromCharCode","types","NUMBER","TEXT","CHECKBOX","SELECT","fields","label","name","type","defVal","required","concat","options","value","currencyPlaceholder","currRegEx","RegExp","addCurrencySymbolToLabel","currencyCode","currSymbol","replace","Label","_ref","doLabelClass","dynamicLabel","currency","labelWithCurrency","react_default","a","createElement","className","htmlFor","StatelessComponents","Input","_ref2","onInput","placeholder","onblur","key","id","onChange","ev","autoComplete","checked","onBlur","e","Select","_ref3","map","opt","FormColumn","render","Form","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","doLabel","bind","assertThisInitialized","renderFields","renderFieldCols","handleChange","handleSave","calculate","fname","formData","val","Number","isNaN","parseFloat","preventDefault","onsave","target","blur","_this2","formFields","_this$props","currsymbol","forEach","field","ob","objectSpread","n","l","push","arrLength","Math","floor","length","left","slice","right","splice","_this$props2","twocols","button","showsave","onClick","Component","ListItem","ResultList","data","ind","ResultListComponent_ListItem","handleClick","callback","split","SavedStateListItem","milis","ondelete","onclick","style","width","dateFormat","Date","parseInt","SavedStateList","onselect","projectName","SavedStateComponents_SavedStateListItem","calculateStampDuty","sdltType","bandLimit","previousBandLimit","onePercentOfVal","bands","sdltBands","tax","idx","allInputCosts","initSurveyorsFee","initLegalFee","initMortgageFee","refurbCost","otherCost","propertyValue","stampDutyType","calculations_labels","calculations","freeCash","loanToValue","doneUpValue","mortgageInterestRatePercent","monthlyRent","moePercent","agentsPercent","remortgageFee","remortgageValuationFee","remortgageLegalFee","repairingLease","loanToVal","remortgageAdvance","round","remortgageDeposit","remortgageMonthlyInterest","moe","lettingAgentsFees","freeCashFlowMonthly","remortgageFees","initialCost","labels","calculationsLabels","toFixed","initialFinance","buyingCash","initialLoanToValue","isCash","initMortgageAdvance","initFees","other","initialDeposit","sdltTotal","totCost","totIn","flip","sellingLegalFee","agentSellingFee","fees","flipGain","col","stressTest","mortgageStressInterestRatePercent","mortgageStressMultipePercent","minRent","ceil","pass","getCurrencyCode","postCodeRegEx","validatePostcode","postCode","test","toUpperCase","urls","process","App","state","dealFinance","buyToLet","stress","savedStates","Items","currentState","hasWorkingAPI","doResults","saveState","deleteState","selectState","stateId","find","defaults","getSavedStates","setDefault","fetch","then","response","json","sort","idA","b","idB","loadState","catch","newState","setDefaultFormData","setState","changedField","newValue","inputData","defineProperty","document","getElementById","text","_this$state","askingPrice","oneK","oneHundredK","maxPrice","maxRent","links","Fragment","rel","href","color","fontStyle","ResultListComponent","_this3","method","headers","Accept","Content-Type","body","JSON","stringify","finally","error","_this4","resp","ok","Error","_this5","selectedState","findState","_this6","_this$state2","savedStateList","SavedStateComponents","savedList","newButton","textAlign","FormComponent","Boolean","window","location","hostname","match","ReactDOM","src_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ded2061c.chunk.js","sourcesContent":["const bands = {\n\n  commercial: [\n    { upto: 150000, rate: 0 },\n    { upto: 250000, rate: 2 },\n    { upto: 'end', rate: 5 },\n  ],\n\n  residential: [\n    { upto: 125000, rate: 0, load: 3 },\n    { upto: 250000, rate: 2, load: 3 },\n    { upto: 925000, rate: 5, load: 3 },\n    { upto: 1500000, rate: 10, load: 3 },\n    { upto: 'end', rate: 12, load: 3 },\n  ],\n\n  ireland: [\n    { upto: 1000000, rate: 1 },\n    { upto: 'end', rate: 2 },\n  ],\n\n  residentialWales: [\n    { upto: 180000, rate: 0, load: 3 },\n    { upto: 250000, rate: 3.5, load: 3 },\n    { upto: 400000, rate: 5, load: 3 },\n    { upto: 750000, rate: 7.5, load: 3 },\n    { upto: 1500000, rate: 10, load: 3 },\n    { upto: 'end', rate: 12, load: 3 },\n  ],\n\n  commercialWales: [\n    { upto: 150000, rate: 0 },\n    { upto: 250000, rate: 1 },\n    { upto: 1000000, rate: 5 },\n    { upto: 'end', rate: 6 },\n  ],\n\n  residentialScotland: [\n    { upto: 145000, rate: 0, load: 3 },\n    { upto: 250000, rate: 2, load: 3 },\n    { upto: 325000, rate: 5, load: 3 },\n    { upto: 750000, rate: 10, load: 3 },\n    { upto: 'end', rate: 12, load: 3 },\n  ],\n\n  commercialScotland: [\n    { upto: 150000, rate: 0 },\n    { upto: 250000, rate: 1 },\n    { upto: 'end', rate: 5 },\n  ],\n};\n\nmodule.exports = bands;\n","const currencyPlaceholder = '##CURR##';\nconst percentSign = String.fromCharCode(37);\nconst types = {\n  NUMBER: 'number',\n  TEXT: 'text',\n  CHECKBOX: 'checkbox',\n  SELECT: 'select',\n};\n\nconst fields = [\n  {\n    label: 'Project name',\n    name: 'projectName',\n    type: types.TEXT,\n    defVal: '',\n    required: true,\n  },\n  {\n    label: 'Post code',\n    name: 'postCode',\n    type: types.TEXT,\n    defVal: '',\n    required: true,\n  },\n  {\n    label: `Asking price(${currencyPlaceholder})`,\n    name: 'askingPrice',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Purchase price(${currencyPlaceholder})`,\n    name: 'propertyValue',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Done up value(${currencyPlaceholder})`,\n    name: 'doneUpValue',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Monthly rent(${currencyPlaceholder})`,\n    name: 'monthlyRent',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: 'Cash purchase',\n    name: 'buyingCash',\n    type: types.CHECKBOX,\n    defVal: 'no',\n  },\n  {\n    label: `Initial LTV(${percentSign})`,\n    name: 'initialLoanToValue',\n    type: types.NUMBER,\n    defVal: 75,\n  },\n  {\n    label: `Surveyors fee(${currencyPlaceholder})`,\n    name: 'initSurveyorsFee',\n    type: types.NUMBER,\n    defVal: 600,\n  },\n  {\n    label: `Mortgage fee(${currencyPlaceholder})`,\n    name: 'initMortgageFee',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Legal fees(${currencyPlaceholder})`,\n    name: 'initLegalFee',\n    type: types.NUMBER,\n    defVal: 1500,\n  },\n  {\n    label: 'Stamp duty',\n    name: 'stampDutyType',\n    type: types.SELECT,\n    options: [\n      { value: 'residential', name: 'Residential Eng/NI' },\n      { value: 'commercial', name: 'Commercial Eng/NI' },\n      { value: 'residentialWales', name: 'Residential Wales' },\n      { value: 'commercialWales', name: 'Commercial Wales' },\n      { value: 'residentialScotland', name: 'Residential Scotland' },\n      { value: 'commercialScotland', name: 'Commercial Scotland' },\n      { value: 'ireland', name: 'Ireland' },\n    ],\n    defVal: 'residential',\n  },\n  {\n    label: `Refurbishment cost(${currencyPlaceholder})`,\n    name: 'refurbCost',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Other cost(${currencyPlaceholder})`,\n    name: 'otherCost',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Remortgage fee(${currencyPlaceholder})`,\n    name: 'remortgageFee',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Remortgage valuation fee(${currencyPlaceholder})`,\n    name: 'remortgageValuationFee',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Remortgage legal fees(${currencyPlaceholder})`,\n    name: 'remortgageLegalFee',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Letting agents rate(${percentSign})`,\n    name: 'agentsPercent',\n    type: types.NUMBER,\n    defVal: 10,\n  },\n  {\n    label: `\n    MOE rate(${percentSign})`,\n    name: 'moePercent',\n    type: types.NUMBER,\n    defVal: 15,\n  },\n  {\n    label: 'Repairing lease',\n    name: 'repairingLease',\n    type: types.CHECKBOX,\n    defVal: 'no',\n  },\n  {\n    label: `Interest rate(${percentSign})`,\n    name: 'mortgageInterestRatePercent',\n    type: types.NUMBER,\n    defVal: 6.0,\n  },\n  {\n    label: `Remortgage LTV(${percentSign})`,\n    name: 'loanToValue',\n    type: types.NUMBER,\n    defVal: 75,\n  },\n  {\n    label: `Solicitors selling fee(${currencyPlaceholder})`,\n    name: 'sellingLegalFee',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Agent/selling fee(${currencyPlaceholder})`,\n    name: 'agentSellingFee',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Mortgage stress test(${percentSign})`,\n    name: 'mortgageStressMultipePercent',\n    type: types.NUMBER,\n    defVal: 125,\n  },\n  {\n    label: `Stress interest rate(${percentSign})`,\n    name: 'mortgageStressInterestRatePercent',\n    type: types.NUMBER,\n    defVal: 5.0,\n  },\n];\n\nmodule.exports = {\n  fields,\n  currencyPlaceholder,\n  types,\n};\n","// stateless component Input. Currently handles types text, number, checkbox\n// passed through props\n/* eslint react/prop-types: 0 */\nimport React from 'react';\nimport { currencyPlaceholder } from './formconfig';\n\nconst currRegEx = new RegExp(currencyPlaceholder, 'g');\n\nconst addCurrencySymbolToLabel = (label, currencyCode) => {\n  const currSymbol = String.fromCharCode(currencyCode);\n  return label.replace(currRegEx, currSymbol);\n};\n\n// stateless component Label\nfunction Label({\n  name, doLabelClass, dynamicLabel, label, type, currency,\n}) {\n  const labelWithCurrency = addCurrencySymbolToLabel(label, currency);\n\n  return (\n    <div className={type === 'checkbox' ? 'checkbox-label' : 'input-label'}>\n      <label\n        htmlFor={name}\n        className={doLabelClass(name)}\n      >\n        {dynamicLabel(name, labelWithCurrency)}\n      </label>\n    </div>\n  );\n}\n\nfunction Input({\n  className, name, type, onInput,\n  placeholder, label, defVal, onblur, doLabelClass, dynamicLabel, currency, required,\n}) {\n  const labelWithCurrency = addCurrencySymbolToLabel(label, currency);\n\n  return (\n    <li key={name}>\n      <input\n        className={className || 'form-control'}\n        key={name}\n        type={type}\n        name={name}\n        id={name}\n        onChange={ev => onInput(ev)}\n        autoComplete=\"off\"\n        placeholder={placeholder || labelWithCurrency || `${name} [${type}]`}\n        value={defVal || ''}\n        checked={defVal === 'yes'}\n        onBlur={e => onblur(e)}\n        required={required || false}\n      />\n      {Label({\n        name, doLabelClass, dynamicLabel, label, type, currency,\n      })}\n    </li>\n  );\n}\n\n// stateless component Select\nfunction Select({\n  className, name, type, onInput, label, defVal, onblur, options, doLabelClass, dynamicLabel,\n}) {\n  return (\n    <li key={name}>\n      <select\n        value={defVal}\n        className={className || 'form-control'}\n        key={name}\n        name={name}\n        id={name}\n        onChange={ev => onInput(ev)}\n        onBlur={e => onblur(e)}\n      >\n        {options.map(\n          opt => (\n            <option\n              key={opt.value}\n              name={opt.name}\n              value={opt.value}\n            >\n              {opt.name}\n            </option>\n          ),\n        )}\n      </select>\n      {Label({\n        name, doLabelClass, dynamicLabel, label, type,\n      })}\n    </li>\n  );\n}\n\nconst StatelessComponents = {\n  Input,\n  Select,\n};\n\nexport default StatelessComponents;\n","/* eslint react/prop-types: 0 */\n/* eslint-env browser */\nimport React, { Component } from 'react';\nimport StatelessComponents from './StatelessFormComponents';\nimport { types } from './formconfig';\n\nconst { Input, Select } = StatelessComponents;\n\nfunction FormColumn({ render, fields, className }) {\n  return (\n    <ul className={className}>\n      {render(fields)}\n    </ul>\n  );\n}\n\nclass Form extends Component {\n  constructor(props) {\n    super(props);\n    this.doLabel = this.doLabel.bind(this);\n    this.doLabelClass = this.doLabelClass.bind(this);\n    this.renderFields = this.renderFields.bind(this);\n    this.renderFieldCols = this.renderFieldCols.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSave = this.handleSave.bind(this);\n  }\n\n  componentDidMount() {\n    const { props } = this;\n    props.calculate();\n  }\n\n  doLabel(fname, label) {\n    const { formData } = this.props;\n    return formData && formData[fname] ? label || fname : '';\n  }\n\n  doLabelClass(fname) {\n    const { formData } = this.props;\n    return formData && formData[fname] ? 'show' : 'hide';\n  }\n\n  handleChange({\n    type,\n    value,\n    checked,\n    name,\n  }) {\n    const { props } = this;\n    let val;\n\n    switch (type) {\n      case types.NUMBER:\n        val = Number.isNaN(value) ? 0 : (parseFloat(value) || 0);\n        break;\n      case types.CHECKBOX:\n        val = checked ? 'yes' : 'no';\n        break;\n      default:\n        val = value || '';\n    }\n\n    props.calculate(name, val);\n  }\n\n  handleSave(e) {\n    e.preventDefault();\n    const { props } = this;\n    const { onsave } = props;\n    onsave();\n    e.target.blur();\n  }\n\n  renderFields(fields) {\n    const formFields = [];\n    const { currsymbol, formData } = this.props;\n    fields.forEach((field) => {\n      const ob = { ...field };\n      ob.dynamicLabel = (n, l) => this.doLabel(n, l);\n      ob.doLabelClass = n => this.doLabelClass(n);\n      ob.onInput = e => this.handleChange(e.target);\n      ob.onblur = e => this.handleChange(e.target);\n      ob.currency = currsymbol;\n      ob.defVal = formData[ob.name];\n      if (ob.type === 'select') {\n        formFields.push(Select(ob));\n      } else {\n        formFields.push(Input(ob));\n      }\n    });\n    return formFields;\n  }\n\n  renderFieldCols() {\n    const { fields } = this.props;\n    const arrLength = Math.floor(fields.length / 2);\n    const left = fields.slice(0);\n    const right = left.splice(arrLength);\n\n    return [\n      <FormColumn\n        key=\"1\"\n        fields={left}\n        className=\"left\"\n        render={this.renderFields}\n      />,\n      <FormColumn\n        key=\"2\"\n        fields={right}\n        className=\"right\"\n        render={this.renderFields}\n      />,\n    ];\n  }\n\n  render() {\n    const {\n      name,\n      twocols,\n      fields,\n      showsave,\n    } = this.props;\n    const button = showsave ? (\n      <ul className=\"left\">\n        <li>\n          <button\n            type=\"submit\"\n            className=\"btn-primary form-control\"\n            onClick={this.handleSave}\n          >\n            save this\n          </button>\n        </li>\n      </ul>\n    ) : '';\n\n    return (\n      <form\n        name={name}\n        id={name}\n      >\n        {twocols === 'yes' ? this.renderFieldCols() : this.renderFields(fields)}\n        {button}\n      </form>\n    );\n  }\n}\n\nexport default Form;\n","/* eslint react/prop-types: 0 */\n// eslint-disable-next-line\nimport React, { Component } from 'react';\n\nconst ListItem = ({ label, value }) => (\n  <li>\n    <div className=\"label\">{label}</div>\n    <div className=\"value\">{value}</div>\n  </li>\n);\n\nconst ResultList = ({ data, id }) => (\n  <ul>\n    {data.map(({ label, value }, ind) => {\n      const key = `li-${id}-${ind}`;\n      return <ListItem key={`li-${key}`} label={label} value={value} />;\n    })}\n  </ul>\n);\n\nexport default ResultList;\n","/* eslint-env browser */\n/* eslint react/prop-types: 0 */\n// eslint-disable-next-line\nimport React from 'react';\nimport dateFormat from 'date-format';\n\nconst handleClick = (e, callback) => {\n  e.preventDefault();\n  e.target.blur();\n  callback(e.target.id.split('-')[1]);\n};\n\nconst showDate = milis => dateFormat('dd/MM hh:mm:ss', new Date(parseInt(milis, 0)));\n\nconst SavedStateListItem = ({\n  label,\n  value,\n  ondelete,\n  onclick,\n}) => (\n  <li>\n    <div className=\"state\">\n      <button\n        className=\"btn-primary form-control\"\n        style={{ width: '100%' }}\n        type=\"submit\"\n        id={`select-${value}`}\n        onClick={e => handleClick(e, onclick)}\n      >\n        {`${label} (${showDate(value)})`}\n      </button>\n    </div>\n    <div className=\"remove-state\">\n      <button\n        className=\"btn-sm btn-primary btn-warning\"\n        type=\"submit\"\n        id={`delete-${value}`}\n        onClick={e => handleClick(e, ondelete)}\n      >\n        delete\n      </button>\n    </div>\n  </li>\n);\n\nconst SavedStateList = ({\n  data,\n  ondelete,\n  onselect,\n  onclick,\n}) => {\n  if (data.map) {\n    return (\n      <ul>\n        {data.map(({ projectName, id }, ind) => {\n          const key = `li-${id}-${ind}`;\n          return (\n            <SavedStateListItem\n              ondelete={ondelete}\n              key={`li-${key}`}\n              label={projectName || 'untitled'}\n              value={id}\n              onselect={onselect}\n              onclick={onclick}\n            />\n          );\n        })}\n      </ul>\n    );\n  }\n  return '';\n};\n\nexport default SavedStateList;\n","import sdltBands from './stampduty-bands';\n\nconst calculateStampDuty = (val, sdltType) => {\n  const onePercentOfVal = (val / 100);\n  const bands = sdltBands[sdltType];\n\n  let tax = 0;\n  let bandLimit;\n  let previousBandLimit;\n  let load;\n\n  if (!sdltType) return 0;\n\n  for (let idx = 0; idx < bands.length; idx += 1) {\n    load = bands[idx].load || 0;\n\n    bandLimit = bands[idx].upto;\n    const { rate } = bands[idx];\n    previousBandLimit = idx > 0 ? bands[idx - 1].upto : 0;\n\n    if (bandLimit === 'end') { // end and return\n      tax += ((onePercentOfVal - (previousBandLimit / 100)) * (rate + load));\n      return tax;\n    }\n    if (val <= bandLimit) { // return before end\n      if (idx === 0) { // below first limit\n        tax += (onePercentOfVal * (rate + load));\n      } else { // below this limit\n        tax += ((onePercentOfVal - (previousBandLimit / 100)) * (rate + load));\n      }\n      return tax;\n    }\n    // add the tax rate for the whole band and carry on\n    tax += ((bandLimit - previousBandLimit) / 100 * (rate + load));\n  }\n  // shouldn't get here but code won't know should throw error\n  // console.error(`check stampduty-test-bands for property without upto: 'end' in last entry`);\n  return tax;\n};\n\nexport default calculateStampDuty;\n","import calculateStampDuty from '../stampduty/stampduty-calculator';\n\nconst allInputCosts = (\n  initSurveyorsFee,\n  initLegalFee,\n  initMortgageFee,\n  refurbCost,\n  otherCost,\n  propertyValue,\n  stampDutyType,\n) => {\n  const stampDuty = calculateStampDuty(propertyValue, stampDutyType);\n\n  return (\n    initSurveyorsFee\n    + initLegalFee\n    + initMortgageFee\n    + refurbCost\n    + otherCost\n    + stampDuty\n    + propertyValue\n  );\n};\n\nexport default allInputCosts;","const freeCashLabels = [\n  'Remortgage advance',\n  'Remortgage deposit',\n  'Remortgage fees',\n  'Money in',\n  'Money out',\n  'Money left in',\n  'Monthly rental',\n  'Monthly mortgage payment',\n  'MOE',\n  'Letting agent fees',\n  'Monthly free cashflow',\n];\n\nconst initialFinanceLabels = [\n  'Mortgage advance',\n  'Deposit',\n  'Stamp duty',\n  'Professional fees',\n  'Refurb/other costs',\n  'Total money in',\n  'Total cost',\n];\n\nconst flipLabels = [\n  'Sale price',\n  'Selling costs',\n  'Total input costs',\n  'Profit (before tax)',\n  'Gain(%)',\n];\n\nconst stressLabels = [\n  'Stress test',\n  'Minimum rent'];\n\nexport default {\n  freeCashLabels,\n  initialFinanceLabels,\n  flipLabels,\n  stressLabels,\n};\n","import allInputCosts from './allInputCosts';\nimport freeCash from './freeCash';\nimport initialFinance from './initialFinance';\nimport flip from './flip';\nimport stressTest from './stressTest';\n\nconst getCurrencyCode = ({ stampDutyType }) => (stampDutyType === 'ireland' ? 8364 : 163);\n\nconst calculations = {\n  freeCash,\n  initialFinance,\n  flip,\n  allInputCosts,\n  stressTest,\n  getCurrencyCode,\n};\n\nexport default calculations;\n","import calculateStampDuty from '../stampduty/stampduty-calculator';\nimport calculationsLabels from '../../labels/calculations-labels';\n\nconst freeCash = ({\n  loanToValue,\n  propertyValue,\n  doneUpValue,\n  mortgageInterestRatePercent,\n  monthlyRent,\n  moePercent,\n  agentsPercent,\n  refurbCost,\n  otherCost,\n  stampDutyType,\n  remortgageFee,\n  remortgageValuationFee,\n  remortgageLegalFee,\n  initMortgageFee,\n  initLegalFee,\n  initSurveyorsFee,\n  repairingLease,\n}) => {\n  const loanToVal = loanToValue / 100;\n  const remortgageAdvance = Math.round(doneUpValue * loanToVal);\n  const remortgageDeposit = Math.round(doneUpValue * (1 - loanToVal));\n  const remortgageMonthlyInterest = Math\n    .round(remortgageAdvance * mortgageInterestRatePercent / 1200);\n  const moe = repairingLease === 'yes' ? 0 : (monthlyRent * moePercent / 100);\n  const lettingAgentsFees = monthlyRent * agentsPercent / 100;\n  const freeCashFlowMonthly = monthlyRent - (repairingLease === 'yes' ? 0 : moe) - remortgageMonthlyInterest - lettingAgentsFees;\n  const totalOtherCosts = refurbCost + otherCost;\n  const sdltTotal = calculateStampDuty(propertyValue, stampDutyType);\n  const remortgageFees = remortgageFee + remortgageValuationFee + remortgageLegalFee;\n  const initialFees = initMortgageFee + initLegalFee + initSurveyorsFee;\n  const initialCost = initialFees + totalOtherCosts + sdltTotal + propertyValue;\n  const labels = calculationsLabels.freeCashLabels;\n\n  return [\n    { label: labels[0], value: remortgageAdvance.toFixed(2) },\n    { label: labels[1], value: remortgageDeposit.toFixed(2) },\n    { label: labels[2], value: remortgageFees.toFixed(2) },\n    { label: labels[3], value: initialCost.toFixed(2) },\n    { label: labels[4], value: (remortgageAdvance - remortgageFees).toFixed(2) },\n    { label: labels[5], value: (initialCost - (remortgageAdvance - remortgageFees)).toFixed(2) },\n    { label: labels[6], value: monthlyRent.toFixed(2) },\n    { label: labels[7], value: remortgageMonthlyInterest.toFixed(2) },\n    { label: labels[8], value: moe.toFixed(2) },\n    { label: labels[9], value: lettingAgentsFees.toFixed(2) },\n    { label: labels[10], value: freeCashFlowMonthly.toFixed(2) },\n  ];\n};\n\nexport default freeCash;\n","import calculateStampDuty from '../stampduty/stampduty-calculator';\nimport allInputCosts from './allInputCosts';\nimport calculationsLabels from '../../labels/calculations-labels';\n\nconst initialFinance = ({\n  buyingCash,\n  initialLoanToValue,\n  propertyValue,\n  initSurveyorsFee,\n  initLegalFee,\n  initMortgageFee,\n  refurbCost,\n  otherCost,\n  stampDutyType,\n}) => {\n  const isCash = buyingCash === 'yes';\n  const loanToVal = initialLoanToValue / 100;\n  const initMortgageAdvance = isCash ? 0 : Math.round(propertyValue * loanToVal);\n  const initFees = initSurveyorsFee + initLegalFee + initMortgageFee;\n  const other = refurbCost + otherCost;\n  const initialDeposit = isCash ? propertyValue : Math.round(propertyValue * (1 - loanToVal));\n  const sdltTotal = calculateStampDuty(propertyValue, stampDutyType);\n  const totCost = allInputCosts(initSurveyorsFee, initLegalFee, initMortgageFee,\n    refurbCost, otherCost, propertyValue, stampDutyType);\n  const totIn = totCost - initMortgageAdvance;\n  const labels = calculationsLabels.initialFinanceLabels;\n\n  return [\n    { label: labels[0], value: initMortgageAdvance.toFixed(2) },\n    { label: labels[1], value: initialDeposit.toFixed(2) },\n    { label: labels[2], value: sdltTotal.toFixed(2) },\n    { label: labels[3], value: initFees.toFixed(2) },\n    { label: labels[4], value: other.toFixed(2) },\n    { label: labels[5], value: totIn.toFixed(2) },\n    { label: labels[6], value: totCost.toFixed(2) },\n  ];\n};\n\nexport default initialFinance;\n","import allInputCosts from './allInputCosts';\nimport calculationsLabels from '../../labels/calculations-labels';\n\nconst flip = ({\n  sellingLegalFee,\n  agentSellingFee,\n  initSurveyorsFee,\n  initLegalFee,\n  initMortgageFee,\n  refurbCost,\n  otherCost,\n  propertyValue,\n  stampDutyType,\n  doneUpValue,\n}) => {\n  const totCost = allInputCosts(initSurveyorsFee, initLegalFee, initMortgageFee,\n    refurbCost, otherCost, propertyValue, stampDutyType);\n\n  const fees = sellingLegalFee + agentSellingFee;\n  const flipGain = Math.round((doneUpValue - totCost) / totCost * 10000) / 100;\n  const col = (flipGain >= 20) ? 'green' : 'red';\n  const labels = calculationsLabels.flipLabels;\n\n  return [\n    { label: labels[0], value: doneUpValue.toFixed(2) },\n    { label: labels[1], value: fees.toFixed(2) },\n    { label: labels[2], value: totCost.toFixed(2) || '0' },\n    { label: labels[3], value: ((doneUpValue - (totCost + fees)).toFixed(2) || '0'), col },\n    { label: labels[4], value: flipGain.toFixed(2) || 0, col },\n  ];\n};\n\nexport default flip;\n","import calculationsLabels from '../../labels/calculations-labels';\n\nconst stressTest = ({\n  doneUpValue,\n  monthlyRent,\n  loanToValue,\n  mortgageStressInterestRatePercent,\n  mortgageStressMultipePercent,\n}) => {\n  const minRent = Math.ceil(\n    doneUpValue\n    * loanToValue / 100\n    * mortgageStressInterestRatePercent / 1200\n    * mortgageStressMultipePercent / 100,\n  );\n  const pass = monthlyRent >= minRent;\n  const labels = calculationsLabels.stressLabels;\n\n  return [\n    { label: labels[0], value: pass ? 'pass' : 'fail' },\n    { label: labels[1], value: minRent.toFixed(2) },\n  ];\n};\n\nexport default stressTest;\n","// postcode validation regex\nconst postCodeRegEx = /^(GIR[ ]?0AA|((AB|AL|B|BA|BB|BD|BH|BL|BN|BR|BS|BT|CA|CB|CF|CH|CM|CO|CR|CT|CV|CW|DA|DD|DE|DG|DH|DL|DN|DT|DY|E|EC|EH|EN|EX|FK|FY|G|GL|GY|GU|HA|HD|HG|HP|HR|HS|HU|HX|IG|IM|IP|IV|JE|KA|KT|KW|KY|L|LA|LD|LE|LL|LN|LS|LU|M|ME|MK|ML|N|NE|NG|NN|NP|NR|NW|OL|OX|PA|PE|PH|PL|PO|PR|RG|RH|RM|S|SA|SE|SG|SK|SL|SM|SN|SO|SP|SR|SS|ST|SW|SY|TA|TD|TF|TN|TQ|TR|TS|TW|UB|W|WA|WC|WD|WF|WN|WR|WS|WV|YO|ZE)(\\d[\\dA-Z]?[ ]?\\d[ABD-HJLN-UW-Z]{2}))|BFPO[ ]?\\d{1,4})$/;\n\nconst validatePostcode = postCode => postCodeRegEx.test(postCode.toUpperCase());\n\nexport default validatePostcode;\n","/* eslint-env browser */\n/* eslint react/prop-types: 0 */\nimport React, { Component } from 'react';\nimport Form from './components/FormComponent';\nimport { fields } from './components/formconfig';\nimport './css/app.css';\nimport ResultList from './components/ResultListComponent';\nimport SavedStateList from './components/SavedStateComponents';\nimport calculations from './logic/calculations/index';\nimport validatePostcode from './util/validate-postcode';\n\nconst urls = {\n  comparisons: process.env.REACT_APP_COMPARISONS_URL,\n  rmBuy: process.env.REACT_APP_RM_BUY_URL,\n  rmRent: process.env.REACT_APP_RM_LET_URL,\n  nhpSold: process.env.REACT_APP_NHP_SOLD_URL,\n};\n\nclass App extends Component {\n  static findState(savedStates, stateId) {\n    return savedStates.Items.find(state => state.id === stateId);\n  }\n\n  static setDefaultFormData() {\n    const defaults = {};\n    fields.map((ob) => {\n      defaults[ob.name] = ob.defVal;\n      return false;\n    });\n    return defaults;\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {\n        dealFinance: [],\n        buyToLet: [],\n        stress: [],\n        flip: [],\n      },\n      currency: 163,\n      savedStates: { Items: [] },\n      currentState: null,\n      hasWorkingAPI: false,\n    };\n    this.doResults = this.doResults.bind(this);\n    this.calculate = this.calculate.bind(this);\n    // this.setDefaultFormData = this.setDefaultFormData.bind(this);\n    this.saveState = this.saveState.bind(this);\n    this.deleteState = this.deleteState.bind(this);\n    this.selectState = this.selectState.bind(this);\n  }\n\n  componentDidMount() {\n    this.getSavedStates(true);\n  }\n\n  getSavedStates(setDefault) {\n    fetch(urls.comparisons)\n      .then(response => response.json())\n      .then((data) => {\n        if (data.Items.length > 0) {\n          data.Items.sort(({ projectName: a, id: idA }, { projectName: b, id: idB }) => {\n            if ((a + idA) < (b + idB)) return -1;\n            if ((a + idA) > (b + idB)) return 1;\n            return 0;\n          });\n        }\n        this.loadState(data, setDefault);\n      })\n      .catch(() => {\n        this.loadState(null, true);\n      });\n  }\n\n  loadState(data, setDefault) {\n    const newState = {\n      savedStates: data || { Items: [] },\n      hasWorkingAPI: !!data,\n    };\n\n    if (setDefault) {\n      newState.currentState = App.setDefaultFormData();\n    }\n\n    this.setState(newState);\n  }\n\n  calculate(changedField, newValue) {\n    const { currentState } = this.state;\n    const inputData = (changedField)\n      ? { ...currentState, [changedField]: newValue } : currentState;\n    const dealFinance = calculations.initialFinance(inputData);\n    const buyToLet = calculations.freeCash(inputData);\n    const flip = calculations.flip(inputData);\n    const stress = calculations.stressTest(inputData);\n    const currSymbol = calculations.getCurrencyCode(inputData);\n\n    document.getElementById('doc-title').text = inputData.projectName.replace(/ /g, '-');\n\n    const newState = {\n      data: {\n        dealFinance,\n        buyToLet,\n        stress,\n        flip,\n      },\n      currency: currSymbol,\n    };\n\n    if (changedField) {\n      newState.currentState = inputData;\n    }\n\n    this.setState(newState);\n  }\n\n  doResults() {\n    const { data, currentState } = this.state;\n    const {\n      postCode,\n      askingPrice,\n      monthlyRent,\n      propertyValue,\n    } = currentState;\n    const {\n      dealFinance,\n      buyToLet,\n      stress,\n      flip,\n    } = data;\n    const { oneK, oneHundredK } = { oneK: 1000, oneHundredK: 100000 };\n    const maxPrice = Math\n      .ceil((askingPrice || propertyValue || 400000) / oneHundredK * 1.2) * oneHundredK;\n    const maxRent = Math.ceil((monthlyRent || oneK) / oneK * 1.2) * oneK;\n    const links = (postCode && validatePostcode(postCode)) ? (\n      <React.Fragment>\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href={urls.nhpSold + postCode}\n        >\n          sold data\n        </a>\n        {' | '}\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href={`${urls.rmBuy + postCode}&maxPrice=${(maxPrice)}`}\n        >\n          for sale\n        </a>\n        {' | '}\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href={`${urls.rmRent + postCode}&maxPrice=${maxRent}`}\n        >\n          to rent\n        </a>\n      </React.Fragment>\n    ) : <span style={{ color: 'red', fontStyle: 'italic' }}>use a full valid post code to see links here</span>;\n    return (\n      <React.Fragment>\n        <div className=\"res-block\">\n          <h6>Links for this post code</h6>\n          {links}\n        </div>\n        <div className=\"res-block\">\n          <h6>Deal finance</h6>\n          <ResultList id=\"1\" data={dealFinance} />\n        </div>\n        <div className=\"res-block\">\n          <h6>Buy to let</h6>\n          <ResultList id=\"2\" data={buyToLet} />\n        </div>\n        <div className=\"res-block\">\n          <h6>Stress test</h6>\n          <ResultList id=\"3\" data={stress} />\n        </div>\n        <div className=\"res-block\">\n          <h6>Flip</h6>\n          <ResultList id=\"4\" data={flip} />\n        </div>\n      </React.Fragment>\n    );\n  }\n\n  saveState() {\n    const { currentState } = this.state;\n    const { projectName, postCode } = currentState;\n    if (projectName === '' || postCode === '') {\n      return;\n    }\n    fetch(urls.comparisons, {\n      method: 'PUT',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(currentState),\n    })\n      .then(response => response.json())\n      .then(() => {\n        this.getSavedStates(false);\n      })\n      .catch(() => this.setState({ savedStates: { Items: 'No save service avaialable' } }))\n      .finally(() => {\n        this.setState({ error: null });\n      });\n  }\n\n  deleteState(stateId) {\n    fetch(urls.comparisons, {\n      method: 'DELETE',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ id: stateId }),\n    })\n      .then((resp) => {\n        if (resp.ok) {\n          const { currentState } = this.state;\n          this.getSavedStates(stateId === currentState.id);\n        } else {\n          throw new Error('delete failed');\n        }\n      }).catch(() => this.setState({ savedStates: { Items: 'No delete service avaialable' } }));\n  }\n\n  selectState(stateId) {\n    const { savedStates } = this.state;\n    const selectedState = App.findState(savedStates, stateId);\n    this.setState({ currentState: selectedState }, () => this.calculate());\n  }\n\n  render() {\n    const {\n      currency,\n      savedStates,\n      currentState,\n      hasWorkingAPI,\n      error,\n    } = this.state;\n    const { Items } = savedStates;\n    const savedStateList = (\n      <SavedStateList\n        data={Items}\n        ondelete={this.deleteState}\n        onclick={this.selectState}\n      />\n    );\n    const savedList = Items ? savedStateList : '';\n    const newButton = (\n      <ul className=\"right\">\n        <li>\n          <button\n            type=\"submit\"\n            className=\"btn-primary form-control\"\n            onClick={\n              (e) => {\n                e.preventDefault();\n                this.setState(\n                  { currentState: App.setDefaultFormData() }, () => this.calculate(),\n                );\n                e.target.blur();\n              }\n            }\n          >\n            new\n          </button>\n        </li>\n      </ul>\n    );\n\n    return currentState ? (\n      <div className=\"App\">\n        <div className=\"column\" style={{ textAlign: 'center' }}>\n          <h5>Property investment deal analyser</h5>\n          <Form\n            name=\"propcalc\"\n            fields={fields}\n            formData={currentState}\n            twocols=\"yes\"\n            calculate={this.calculate}\n            currsymbol={currency}\n            onsave={this.saveState}\n            showsave={hasWorkingAPI}\n            error={error}\n          />\n          {newButton}\n        </div>\n        <div className=\"column results\">\n          {this.doResults()}\n        </div>\n        <div className=\"column states\">\n          {savedList}\n        </div>\n      </div>\n    ) : '';\n  }\n}\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport './css/bootstrap-override.scss';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}