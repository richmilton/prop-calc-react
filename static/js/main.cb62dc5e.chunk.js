(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,a){e.exports=[{label:"Project name",name:"projectName",type:"text"},{label:"Purchase price(\xa3)",name:"propertyValue",type:"number",defVal:0},{label:"Done up value(\xa3)",name:"doneUpValue",type:"number",defVal:0},{label:"Monthly rent(\xa3)",name:"monthlyRent",type:"number",defVal:0},{label:"Cash purchase",name:"buyingCash",type:"checkbox",defVal:"no"},{label:"Surveyors fee(\xa3)",name:"initSurveyorsFee",type:"number",defVal:600},{label:"Mortgage fee(\xa3)",name:"initMortgageFee",type:"number",defVal:0},{label:"Solicitors fee(\xa3)",name:"initLegalFee",type:"number",defVal:1500},{label:"Stamp duty",name:"stampDutyType",type:"select",options:[{value:"residential",name:"Residential"},{value:"commercial",name:"Commercial"}],defVal:"residential"},{label:"Refurbishment cost(\xa3)",name:"refurbCost",type:"number",defVal:0},{label:"Other cost(\xa3)",name:"otherCost",type:"number",defVal:0},{label:"Initial LTV(%)",name:"initialLoanToValue",type:"number",defVal:75},{label:"Remortgage fee(\xa3)",name:"remortgageFee",type:"number",defVal:0},{label:"Remortgage valuation fee(\xa3)",name:"remortgageValuationFee",type:"number",defVal:0},{label:"Remortgage solicitors fee(\xa3)",name:"remortgageLegalFee",type:"number",defVal:0},{label:"Letting agents rate(%)",name:"agentsPercent",type:"number",defVal:10},{label:"MOE rate(%)",name:"moePercent",type:"number",defVal:15},{label:"Full repairing lease",name:"repairingLease",type:"checkbox",defVal:"no"},{label:"Interest rate(%)",name:"mortgageInterestRatePercent",type:"number",defVal:6},{label:"Remortgage LTV(%)",name:"loanToValue",type:"number",defVal:75},{label:"Solicitors selling fee(\xa3)",name:"sellingLegalFee",type:"number",defVal:0},{label:"Agent/selling fee(\xa3)",name:"agentSellingFee",type:"number",defVal:0},{label:"Mortgage stress test(%)",name:"mortgageStressMultipePercent",type:"number",defVal:125},{label:"Stress interest rate(%)",name:"mortgageStressInterestRatePercent",type:"number",defVal:5},{name:"submit",type:"submit",className:"btn-primary form-control",value:"update"}]},function(e,a){e.exports={commercial:[{upto:15e4,rate:0},{upto:25e4,rate:2},{upto:"end",rate:5}],residential:[{upto:125e3,rate:0},{upto:25e4,rate:2},{upto:925e3,rate:5},{upto:15e5,rate:10},{upto:"end",rate:12}]}},function(e,a,t){e.exports=t(18)},,,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(7),o=t.n(r),s=t(1),u=t(2),i=t(4),c=t(3),m=t(5),d=function(e){var a=e.name,t=e.doLabelClass,n=e.dynamicLabel,r=e.label,o=e.type;return l.a.createElement("div",{className:"checkbox"===o?"checkbox-label":"input-label"},l.a.createElement("label",{htmlFor:a,className:t(a)},n(a,r)))},b={Input:function(e){var a=e.className,t=e.name,n=e.type,r=e.onInput,o=e.placeholder,s=e.label,u=e.defVal,i=e.onblur,c=e.doLabelClass,m=e.dynamicLabel;return l.a.createElement("li",{key:t},l.a.createElement("input",{className:a||"form-control",key:t,type:n,name:t,id:t,onChange:function(e){return r(e)},autoComplete:"off",placeholder:o||s||"".concat(t," [").concat(n,"]"),defaultValue:u||"",onBlur:function(e){return i(e)}}),"submit"!==n?d({name:t,doLabelClass:c,dynamicLabel:m,label:s,type:n}):"")},Select:function(e){var a=e.className,t=e.name,n=e.type,r=e.onInput,o=e.placeholder,s=e.label,u=(e.defVal,e.onblur),i=e.options,c=e.doLabelClass,m=e.dynamicLabel;return l.a.createElement("li",{key:t},l.a.createElement("select",{className:a||"form-control",key:t,name:t,id:t,onChange:function(e){return r(e)},onBlur:function(e){return u(e)}},l.a.createElement("option",{value:"",disabled:!0},o||s||t),i.map(function(e){return l.a.createElement("option",{key:e.value,name:e.name,value:e.value},e.name)})),d({name:t,doLabelClass:c,dynamicLabel:m,label:s,type:n}))}},p=b.Input,f=b.Select,y=function(e){var a=e.render,t=e.fields,n=e.className;return l.a.createElement("ul",{className:n},a(t))},g=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(i.a)(this,Object(c.a)(a).call(this,e))).renderFields=function(e){var a=[];return e.forEach(function(e){e.dynamicLabel=function(e,a){return t.doLabel(e,a)},e.doLabelClass=function(e){return t.doLabelClass(e)},e.onInput=function(e){return t.handleChange(e.target,e)},e.onblur=function(e){return t.handleSubmit(e)},"select"===e.type?a.push(f(e)):a.push(p(e))}),a},t.renderFieldCols=function(){var e=Math.floor(t.props.fields.length/2),a=t.props.fields.slice(0),n=a.splice(e);return[l.a.createElement(y,{key:"1",fields:a,className:"left",render:t.renderFields}),l.a.createElement(y,{key:"2",className:"right",fields:n,render:t.renderFields})]},t.handleChange=function(e){var a,n,l={};switch(e.type){case"number":a=isNaN(e.value)?0:parseFloat(e.value)||0;break;case"checkbox":a=e.checked?"yes":"no";break;default:a=e.value||""}/^submit/.test(e.type)||(l[e.name]=a,n=Object.assign(t.state.formData,l),t.setState({formData:n}),/^select-one$|^checkbox$|^number$/.test(e.type)&&t.props.onsubmit(t.state.formData))},t.state={fields:e.fields},t}return Object(m.a)(a,e),Object(u.a)(a,[{key:"defValues",value:function(){var e={};return this.props.fields.map(function(a){return/^submit/.test(a.type)||(e[a.name]=a.defVal),!1}),{formData:e}}},{key:"doLabel",value:function(e,a){var t=this.state.formData;return t&&t[e]?a||e:""}},{key:"doLabelClass",value:function(e){var a=this.state.formData;return a&&a[e]?"show":"hide"}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.onsubmit(this.state.formData)}},{key:"componentDidMount",value:function(){this.setState(this.defValues())}},{key:"componentDidUpdate",value:function(e,a,t){var n=this.state.formData.projectName,l=n?n.replace(/ /g,"-"):"Untitled";document.getElementById("doc-title").text=l}},{key:"render",value:function(){var e=this;return l.a.createElement("form",{name:this.props.name,id:this.props.name,onSubmit:function(a){return e.handleSubmit(a)}},"yes"===this.props.twocols?this.renderFieldCols():this.renderFields(this.props.fields))}}]),a}(n.Component),h=t(8),v=t.n(h),V=(t(16),function(e){return l.a.createElement("li",null,l.a.createElement("div",{className:"label"},e.label),l.a.createElement("div",{className:"value"},e.value))}),E=function(e){return l.a.createElement("ul",{key:e.id},e.data.map(function(a,t){return l.a.createElement(V,{key:"li-".concat(e.id,"-").concat(t),label:a.label,value:a.value})}))},F=t(9),k=t.n(F),L=function(e,a){var t,n,l,r=Math.round(e/100),o="commercial"===a?0:3,s=k.a[a],u=0;if(!a)return 0;for(var i=0;i<s.length;i++){if(t=s[i].upto,n=s[i].rate,l=i>0?s[i-1].upto:0,"end"===t)return u+=(r-l/100)*(n+o);if(e<=t)return u+=0===i?r*(n+o):(r-l/100)*(n+o);u+=(t-l)/100*(n+o)}return console.error("check stampduty-bands for property without upto: 'end' in last entry"),u},C=["Re-mortgage advance","Re-mortgage deposit","Re-mortgage fees","Money in","Money out","Money left in","Monthly rental","Monthly mortgage payment","MOE","Letting agent fees","Monthly free cashflow"],S=["Mortgage advance","Deposit","Stamp duty","Professional fees","Refurb/other costs","Total money in","Total cost"],M=["Sale price","Selling costs","Total input costs","Profit","Gain(%)"],N=["Stress test","Minimum rent"],R=function(e,a,t,n,l,r,o){return e+a+t+n+l+L(r,o)+r},T={freeCash:function(e){var a=e.loanToValue,t=(e.buyingCash,e.propertyValue),n=e.doneUpValue,l=e.mortgageInterestRatePercent,r=e.monthlyRent,o=e.moePercent,s=e.agentsPercent,u=e.refurbCost,i=e.otherCost,c=e.stampDutyType,m=e.remortgageFee,d=e.remortgageValuationFee,b=e.remortgageLegalFee,p=e.initMortgageFee,f=e.initLegalFee,y=e.initSurveyorsFee,g=e.repairingLease,h=a/100,v=Math.round(n*h),V=Math.round(n*(1-h)),E=Math.round(v*l/1200),F="yes"===g?0:r*o/100,k=r*s/100,S=r-("yes"===g?0:F)-E-k,M=m+d+b,N=p+f+y+(u+i)+L(t,c)+t,R=S>=100?"green":"red",T=C;return[{label:T[0],value:v},{label:T[1],value:V},{label:T[2],value:M},{label:T[3],value:N},{label:T[4],value:v-M},{label:T[5],value:N-(v-M)},{label:T[6],value:r},{label:T[7],value:E},{label:T[8],value:F},{label:T[9],value:k},{label:T[10],value:S,colour:R}]},initialFinance:function(e){var a=e.buyingCash,t=e.initialLoanToValue,n=e.propertyValue,l=e.initSurveyorsFee,r=e.initLegalFee,o=e.initMortgageFee,s=e.refurbCost,u=e.otherCost,i=e.stampDutyType,c="yes"===a,m=t/100,d=c?0:Math.round(n*m),b=l+r+o,p=s+u,f=c?n:Math.round(n*(1-m)),y=L(n,i),g=R(l,r,o,s,u,n,i),h=g-d,v=S;return[{label:v[0],value:d},{label:v[1],value:f},{label:v[2],value:y},{label:v[3],value:b},{label:v[4],value:p},{label:v[5],value:h},{label:v[6],value:g}]},flip:function(e){var a=e.sellingLegalFee,t=e.agentSellingFee,n=e.initSurveyorsFee,l=e.initLegalFee,r=e.initMortgageFee,o=e.refurbCost,s=e.otherCost,u=e.propertyValue,i=e.stampDutyType,c=e.doneUpValue,m=R(n,l,r,o,s,u,i),d=a+t,b=Math.round((c-m)/m*1e4)/100,p=b>=20?"green":"red",f=M;return[{label:f[0],value:c},{label:f[1],value:d},{label:f[2],value:m||0},{label:f[3],value:c-(m+d)||0,col:p},{label:f[4],value:b||0,col:p}]},allInputCosts:R,stressTest:function(e){var a=e.doneUpValue,t=e.monthlyRent,n=e.loanToValue,l=e.mortgageStressInterestRatePercent,r=e.mortgageStressMultipePercent,o=Math.ceil(a*n/100*l/1200*r/100),s=t>=o,u=N;return[{label:u[0],value:s?"pass":"fail"},{label:u[1],value:o}]}},w=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(i.a)(this,Object(c.a)(a).call(this,e))).handleSubmit=function(e){console.log(e);var a=T.initialFinance(e),n=T.freeCash(e),l=T.flip(e),r=T.stressTest(e);t.setState({data:{dealFinance:a,buyToLet:n,stress:r,flip:l}})},t.doResults=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"res-block"},l.a.createElement("h4",null,"Deal finance"),l.a.createElement(E,{id:"1",data:t.state.data.dealFinance})),l.a.createElement("div",{className:"res-block"},l.a.createElement("h4",null,"Buy to let"),l.a.createElement(E,{id:"2",data:t.state.data.buyToLet})),l.a.createElement("div",{className:"res-block"},l.a.createElement("h4",null,"Stress test"),l.a.createElement(E,{id:"3",data:t.state.data.stress})),l.a.createElement("div",{className:"res-block"},l.a.createElement("h4",null,"Flip"),l.a.createElement(E,{id:"4",data:t.state.data.flip})))},t.state={data:{dealFinance:[],buyToLet:[],stress:[],flip:[]}},t}return Object(m.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"column"},l.a.createElement(g,{name:"propcalc",fields:v.a,twocols:"yes",onsubmit:this.handleSubmit})),l.a.createElement("div",{className:"column results"},this.doResults()))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(17);o.a.render(l.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[10,1,2]]]);
//# sourceMappingURL=main.cb62dc5e.chunk.js.map