(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,a){e.exports=[{label:"Project name",name:"projectName",type:"text"},{label:"Purchase price(\xa3)",name:"propertyValue",type:"number",defVal:0},{label:"Done up value(\xa3)",name:"doneUpValue",type:"number",defVal:0},{label:"Monthly rent(\xa3)",name:"monthlyRent",type:"number",defVal:0},{label:"Initial LTV(%)",name:"initialLoanToValue",type:"number",defVal:75},{label:"Cash purchase",name:"buyingCash",type:"checkbox",defVal:"no"},{label:"Surveyors fee(\xa3)",name:"initSurveyorsFee",type:"number",defVal:600},{label:"Mortgage fee(\xa3)",name:"initMortgageFee",type:"number",defVal:0},{label:"Legal fees(\xa3)",name:"initLegalFee",type:"number",defVal:1500},{label:"Stamp duty",name:"stampDutyType",type:"select",options:[{value:"residential",name:"Residential"},{value:"commercial",name:"Commercial"}],defVal:"residential"},{label:"Refurbishment cost(\xa3)",name:"refurbCost",type:"number",defVal:0},{label:"Other cost(\xa3)",name:"otherCost",type:"number",defVal:0},{label:"Remortgage fee(\xa3)",name:"remortgageFee",type:"number",defVal:0},{label:"Remortgage valuation fee(\xa3)",name:"remortgageValuationFee",type:"number",defVal:0},{label:"Remortgage legal fees(\xa3)",name:"remortgageLegalFee",type:"number",defVal:0},{label:"Letting agents rate(%)",name:"agentsPercent",type:"number",defVal:10},{label:"MOE rate(%)",name:"moePercent",type:"number",defVal:15},{label:"Repairing lease",name:"repairingLease",type:"checkbox",defVal:"no"},{label:"Interest rate(%)",name:"mortgageInterestRatePercent",type:"number",defVal:6},{label:"Remortgage LTV(%)",name:"loanToValue",type:"number",defVal:75},{label:"Solicitors selling fee(\xa3)",name:"sellingLegalFee",type:"number",defVal:0},{label:"Agent/selling fee(\xa3)",name:"agentSellingFee",type:"number",defVal:0},{label:"Mortgage stress test(%)",name:"mortgageStressMultipePercent",type:"number",defVal:125},{label:"Stress interest rate(%)",name:"mortgageStressInterestRatePercent",type:"number",defVal:5}]},function(e,a){e.exports={commercial:[{upto:15e4,rate:0},{upto:25e4,rate:2},{upto:"end",rate:5}],residential:[{upto:125e3,rate:0},{upto:25e4,rate:2},{upto:925e3,rate:5},{upto:15e5,rate:10},{upto:"end",rate:12}]}},function(e,a,t){e.exports=t(18)},,,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),r=t(7),o=t.n(r),i=t(1),s=t(2),u=t(4),c=t(3),m=t(5),d=function(e){var a=e.name,t=e.doLabelClass,l=e.dynamicLabel,r=e.label,o=e.type;return n.a.createElement("div",{className:"checkbox"===o?"checkbox-label":"input-label"},n.a.createElement("label",{htmlFor:a,className:t(a)},l(a,r)))},p={Input:function(e){var a=e.className,t=e.name,l=e.type,r=e.onInput,o=e.placeholder,i=e.label,s=e.defVal,u=e.onblur,c=e.doLabelClass,m=e.dynamicLabel;return n.a.createElement("li",{key:t},n.a.createElement("input",{className:a||"form-control",key:t,type:l,name:t,id:t,onChange:function(e){return r(e)},autoComplete:"off",placeholder:o||i||"".concat(t," [").concat(l,"]"),defaultValue:s||"",onBlur:function(e){return u(e)}}),d({name:t,doLabelClass:c,dynamicLabel:m,label:i,type:l}))},Select:function(e){var a=e.className,t=e.name,l=e.type,r=e.onInput,o=e.placeholder,i=e.label,s=(e.defVal,e.onblur),u=e.options,c=e.doLabelClass,m=e.dynamicLabel;return n.a.createElement("li",{key:t},n.a.createElement("select",{className:a||"form-control",key:t,name:t,id:t,onChange:function(e){return r(e)},onBlur:function(e){return s(e)}},n.a.createElement("option",{value:"",disabled:!0},o||i||t),u.map(function(e){return n.a.createElement("option",{key:e.value,name:e.name,value:e.value},e.name)})),d({name:t,doLabelClass:c,dynamicLabel:m,label:i,type:l}))}},b=p.Input,f=p.Select,g=function(e){var a=e.render,t=e.fields,l=e.className;return n.a.createElement("ul",{className:l},a(t))},y=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(c.a)(a).call(this,e))).defValues=function(){var e={};return t.props.fields.map(function(a){return e[a.name]=a.defVal,!1}),t.props.calculate(e),{formData:e}},t.doLabel=function(e,a){var l=t.state.formData;return l&&l[e]?a||e:""},t.doLabelClass=function(e){var a=t.state.formData;return a&&a[e]?"show":"hide"},t.renderFields=function(e){var a=[];return e.forEach(function(e){e.dynamicLabel=function(e,a){return t.doLabel(e,a)},e.doLabelClass=function(e){return t.doLabelClass(e)},e.onInput=function(e){return t.handleChange(e.target)},e.onblur=function(e){return t.handleChange(e.target)},"select"===e.type?a.push(f(e)):a.push(b(e))}),a},t.renderFieldCols=function(){var e=Math.floor(t.props.fields.length/2),a=t.props.fields.slice(0),l=a.splice(e);return[n.a.createElement(g,{key:"1",fields:a,className:"left",render:t.renderFields}),n.a.createElement(g,{key:"2",fields:l,className:"right",render:t.renderFields})]},t.handleChange=function(e){var a,l,n=e.type,r=e.value,o=e.checked,i=e.name,s={};switch(n){case"number":a=isNaN(r)?0:parseFloat(r)||0;break;case"checkbox":a=o?"yes":"no";break;default:a=r||""}s[i]=a,l=Object.assign(t.state.formData,s),t.setState({formData:l}),/^select-one$|^checkbox$|^number$/.test(n)&&t.props.calculate(t.state.formData)},t.state={fields:e.fields},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState(this.defValues())}},{key:"componentDidUpdate",value:function(e,a,t){var l=this.state.formData.projectName;document.getElementById("doc-title").text=l?l.replace(/ /g,"-"):"Untitled"}},{key:"render",value:function(){return n.a.createElement("form",{name:this.props.name,id:this.props.name},"yes"===this.props.twocols?this.renderFieldCols():this.renderFields(this.props.fields))}}]),a}(l.Component),h=t(8),v=t.n(h),F=(t(16),function(e){var a=e.label,t=e.value;e.data;return n.a.createElement("li",null,n.a.createElement("div",{className:"label"},a),n.a.createElement("div",{className:"value"},t))}),V=function(e){var a=e.data,t=e.id;return n.a.createElement("ul",null,a.map(function(e,a){var l=e.label,r=e.value;return e.colour,n.a.createElement(F,{key:"li-".concat(t,"-").concat(a),label:l,value:r})}))},E=t(9),x=t.n(E),L=function(e,a){var t,l,n,r=Math.round(e/100),o="commercial"===a?0:3,i=x.a[a],s=0;if(!a)return 0;for(var u=0;u<i.length;u++){if(t=i[u].upto,l=i[u].rate,n=u>0?i[u-1].upto:0,"end"===t)return s+=(r-n/100)*(l+o);if(e<=t)return s+=0===u?r*(l+o):(r-n/100)*(l+o);s+=(t-n)/100*(l+o)}return console.error("check stampduty-bands for property without upto: 'end' in last entry"),s},C=["Remortgage advance","Remortgage deposit","Remortgage fees","Money in","Money out","Money left in","Monthly rental","Monthly mortgage payment","MOE","Letting agent fees","Monthly free cashflow"],k=["Mortgage advance","Deposit","Stamp duty","Professional fees","Refurb/other costs","Total money in","Total cost"],M=["Sale price","Selling costs","Total input costs","Profit (before tax)","Gain(%)"],S=["Stress test","Minimum rent"],N=function(e,a,t,l,n,r,o){return e+a+t+l+n+L(r,o)+r},R={freeCash:function(e){var a=e.loanToValue,t=(e.buyingCash,e.propertyValue),l=e.doneUpValue,n=e.mortgageInterestRatePercent,r=e.monthlyRent,o=e.moePercent,i=e.agentsPercent,s=e.refurbCost,u=e.otherCost,c=e.stampDutyType,m=e.remortgageFee,d=e.remortgageValuationFee,p=e.remortgageLegalFee,b=e.initMortgageFee,f=e.initLegalFee,g=e.initSurveyorsFee,y=e.repairingLease,h=a/100,v=Math.round(l*h),F=Math.round(l*(1-h)),V=Math.round(v*n/1200),E="yes"===y?0:r*o/100,x=r*i/100,k=r-("yes"===y?0:E)-V-x,M=m+d+p,S=b+f+g+(s+u)+L(t,c)+t,N=C;return[{label:N[0],value:v.toFixed(2)},{label:N[1],value:F.toFixed(2)},{label:N[2],value:M.toFixed(2)},{label:N[3],value:S.toFixed(2)},{label:N[4],value:(v-M).toFixed(2)},{label:N[5],value:(S-(v-M)).toFixed(2)},{label:N[6],value:r.toFixed(2)},{label:N[7],value:V.toFixed(2)},{label:N[8],value:E.toFixed(2)},{label:N[9],value:x.toFixed(2)},{label:N[10],value:k.toFixed(2)}]},initialFinance:function(e){var a=e.buyingCash,t=e.initialLoanToValue,l=e.propertyValue,n=e.initSurveyorsFee,r=e.initLegalFee,o=e.initMortgageFee,i=e.refurbCost,s=e.otherCost,u=e.stampDutyType,c="yes"===a,m=t/100,d=c?0:Math.round(l*m),p=n+r+o,b=i+s,f=c?l:Math.round(l*(1-m)),g=L(l,u),y=N(n,r,o,i,s,l,u),h=y-d,v=k;return[{label:v[0],value:d.toFixed(2)},{label:v[1],value:f.toFixed(2)},{label:v[2],value:g.toFixed(2)},{label:v[3],value:p.toFixed(2)},{label:v[4],value:b.toFixed(2)},{label:v[5],value:h.toFixed(2)},{label:v[6],value:y.toFixed(2)}]},flip:function(e){var a=e.sellingLegalFee,t=e.agentSellingFee,l=e.initSurveyorsFee,n=e.initLegalFee,r=e.initMortgageFee,o=e.refurbCost,i=e.otherCost,s=e.propertyValue,u=e.stampDutyType,c=e.doneUpValue,m=N(l,n,r,o,i,s,u),d=a+t,p=Math.round((c-m)/m*1e4)/100,b=p>=20?"green":"red",f=M;return[{label:f[0],value:c.toFixed(2)},{label:f[1],value:d.toFixed(2)},{label:f[2],value:m.toFixed(2)||"0"},{label:f[3],value:(c-(m+d)).toFixed(2)||"0",col:b},{label:f[4],value:p.toFixed(2)||0,col:b}]},allInputCosts:N,stressTest:function(e){var a=e.doneUpValue,t=e.monthlyRent,l=e.loanToValue,n=e.mortgageStressInterestRatePercent,r=e.mortgageStressMultipePercent,o=Math.ceil(a*l/100*n/1200*r/100),i=t>=o,s=S;return[{label:s[0],value:i?"pass":"fail"},{label:s[1],value:o.toFixed(2)}]}},T=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(c.a)(a).call(this,e))).calculate=function(e){var a=R.initialFinance(e),l=R.freeCash(e),n=R.flip(e),r=R.stressTest(e);t.setState({data:{dealFinance:a,buyToLet:l,stress:r,flip:n}})},t.doResults=function(){var e=t.state.data,a=e.dealFinance,l=e.buyToLet,r=e.stress,o=e.flip;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"res-block"},n.a.createElement("h4",null,"Deal finance"),n.a.createElement(V,{id:"1",data:a})),n.a.createElement("div",{className:"res-block"},n.a.createElement("h4",null,"Buy to let"),n.a.createElement(V,{id:"2",data:l})),n.a.createElement("div",{className:"res-block"},n.a.createElement("h4",null,"Stress test"),n.a.createElement(V,{id:"3",data:r})),n.a.createElement("div",{className:"res-block"},n.a.createElement("h4",null,"Flip"),n.a.createElement(V,{id:"4",data:o})))},t.state={data:{dealFinance:[],buyToLet:[],stress:[],flip:[]}},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"column"},n.a.createElement(y,{name:"propcalc",fields:v.a,twocols:"yes",calculate:this.calculate})),n.a.createElement("div",{className:"column results"},this.doResults()))}}]),a}(l.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(17);o.a.render(n.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[10,1,2]]]);
//# sourceMappingURL=main.e5f3ab24.chunk.js.map