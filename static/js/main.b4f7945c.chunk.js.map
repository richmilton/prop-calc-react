{"version":3,"sources":["components/formconfig.js","logic/stampduty/stampduty-bands.js","components/StatelessFormComponents.js","components/FormComponent.js","components/ResultListComponent.js","logic/stampduty/stampduty-calculator.js","labels/calculations-labels.js","logic/calculations.js","App.js","serviceWorker.js","index.js"],"names":["percentSign","String","fromCharCode","fields","label","name","type","concat","defVal","options","value","module","exports","currencyPlaceholder","commercial","upto","rate","residential","load","ireland","residentialWales","commercialWales","residentialScotland","commercialScotland","currRegEx","RegExp","Label","_ref3","doLabelClass","dynamicLabel","currency","labelWithCurrency","addCurrencySymbolToLabel","react_default","a","createElement","className","htmlFor","currencyCode","currSymbol","replace","StatelessComponents","Input","_ref","onInput","placeholder","onblur","key","id","onChange","ev","autoComplete","defaultValue","onBlur","e","Select","_ref2","disabled","map","opt","FormColumn","render","Form","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","defValues","v","ob","calculate","formData","doLabel","fname","fData","state","renderFields","formFields","forEach","n","l","handleChange","target","push","renderFieldCols","arrLength","Math","floor","length","left","slice","right","splice","FormComponent_FormColumn","val","newFormData","checked","newValObject","isNaN","parseFloat","assign","setState","test","prevProps","prevState","snapshot","projName","document","getElementById","text","Component","ListItem","data","ResultList","ind","colour","ResultListComponent_ListItem","calculateStampDuty","sdltType","bandLimit","previousBandLimit","onePercentOfVal","bands","sdltBands","tax","idx","console","error","calculations_labels","allInputCosts","initSurveyorsFee","initLegalFee","initMortgageFee","refurbCost","otherCost","propertyValue","stampDutyType","calculations","freeCash","loanToValue","buyingCash","doneUpValue","mortgageInterestRatePercent","monthlyRent","moePercent","agentsPercent","remortgageFee","remortgageValuationFee","remortgageLegalFee","repairingLease","loanToVal","remortgageAdvance","round","remortgageDeposit","remortgageMonthlyInterest","moe","lettingAgentsFees","freeCashFlowMonthly","remortgageFees","initialCost","labels","calculationsLabels","toFixed","initialFinance","initialLoanToValue","isCash","initMortgageAdvance","initFees","other","initialDeposit","sdltTotal","totCost","totIn","flip","sellingLegalFee","agentSellingFee","fees","flipGain","col","stressTest","_ref4","mortgageStressInterestRatePercent","mortgageStressMultipePercent","minRent","ceil","pass","getCurrencyCode","_ref5","App","inputData","dfResult","btlResult","stress","dealFinance","buyToLet","doResults","_this$state$data","Fragment","ResultListComponent","FormComponent","twocols","currsymbol","Boolean","window","location","hostname","match","ReactDOM","src_App","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.b4f7945c.chunk.js","sourcesContent":["\nconst currencyPlaceholder = '##CURR##';\nconst percentSign = String.fromCharCode(37);\n\nconst fields = [\n  {\n    label: 'Project name',\n    name: 'projectName',\n    type: 'text',\n  },\n  {\n    label: `Purchase price(${currencyPlaceholder})`,\n    name: 'propertyValue',\n    type: 'number',\n    defVal: 0\n  },\n  {\n    label: `Done up value(${currencyPlaceholder})`,\n    name: 'doneUpValue',\n    type: 'number',\n    defVal: 0\n  },\n  {\n    label: `Monthly rent(${currencyPlaceholder})`,\n    name: 'monthlyRent',\n    type: 'number',\n    defVal: 0\n  },\n  {\n    label: `Initial LTV(${percentSign})`,\n    name: 'initialLoanToValue',\n    type: 'number',\n    defVal: 75\n  },\n  {\n    label: 'Cash purchase',\n    name: 'buyingCash',\n    type: 'checkbox',\n    defVal: 'no'\n  },\n  {\n    label: `Surveyors fee(${currencyPlaceholder})`,\n    name: 'initSurveyorsFee',\n    type: 'number',\n    defVal: 600\n  },\n  {\n    label: `Mortgage fee(${currencyPlaceholder})`,\n    name: 'initMortgageFee',\n    type: 'number',\n    defVal: 0\n  },\n  {\n    label: `Legal fees(${currencyPlaceholder})`,\n    name: 'initLegalFee',\n    type: 'number',\n    defVal: 1500\n  },\n  {\n    label: 'Stamp duty',\n    name: 'stampDutyType',\n    type: 'select',\n    options: [\n      {value: 'residential', name: 'Residential Eng/NI'},\n      {value: 'commercial', name: 'Commercial Eng/NI'},\n      {value: 'residentialWales', name: 'Residential Wales'},\n      {value: 'commercialWales', name: 'Commercial Wales'},\n      {value: 'residentialScotland', name: 'Residential Scotland'},\n      {value: 'commercialScotland', name: 'Commercial Scotland'},\n      {value: 'ireland', name: 'Ireland'}\n      ],\n    defVal: 'residential'\n  },\n  {\n    label: `Refurbishment cost(${currencyPlaceholder})`,\n    name: 'refurbCost',\n    type: 'number',\n    defVal: 0\n  },\n  {\n    label: `Other cost(${currencyPlaceholder})`,\n    name: 'otherCost',\n    type: 'number',\n    defVal: 0\n  },\n  {\n    label: `Remortgage fee(${currencyPlaceholder})`,\n    name: 'remortgageFee',\n    type: 'number',\n    defVal: 0\n  },\n  {\n    label: `Remortgage valuation fee(${currencyPlaceholder})`,\n    name: 'remortgageValuationFee',\n    type: 'number',\n    defVal: 0\n  },\n  {\n    label: `Remortgage legal fees(${currencyPlaceholder})`,\n    name: 'remortgageLegalFee',\n    type: 'number',\n    defVal: 0\n  },\n  {\n    label: `Letting agents rate(${percentSign})`,\n    name: 'agentsPercent',\n    type: 'number',\n    defVal: 10\n  },\n  {\n    label: `\n    MOE rate(${percentSign})`,\n    name: 'moePercent',\n    type: 'number',\n    defVal: 15\n  },\n  {\n    label: 'Repairing lease',\n    name: 'repairingLease',\n    type: 'checkbox',\n    defVal: 'no'\n  },\n  {\n    label: `Interest rate(${percentSign})`,\n    name: 'mortgageInterestRatePercent',\n    type: 'number',\n    defVal: 6.0\n  },\n  {\n    label: `Remortgage LTV(${percentSign})`,\n    name: 'loanToValue',\n    type: 'number',\n    defVal: 75\n  },\n  {\n    label: `Solicitors selling fee(${currencyPlaceholder})`,\n    name: 'sellingLegalFee',\n    type: 'number',\n    defVal: 0\n  },\n  {\n    label: `Agent/selling fee(${currencyPlaceholder})`,\n    name: 'agentSellingFee',\n    type: 'number',\n    defVal: 0\n  },\n  {\n    label: `Mortgage stress test(${percentSign})`,\n    name: 'mortgageStressMultipePercent',\n    type: 'number',\n    defVal: 125\n  },\n  {\n    label: `Stress interest rate(${percentSign})`,\n    name: 'mortgageStressInterestRatePercent',\n    type: 'number',\n    defVal: 5.0\n  }\n\n];\n\nmodule.exports = {\n  fields,\n  currencyPlaceholder\n};","const bands = {\n\n  commercial: [\n    {upto: 150000, rate: 0},\n    {upto: 250000, rate: 2},\n    {upto: 'end', rate: 5}\n  ],\n\n  residential:[\n    {upto: 125000, rate: 0, load: 3},\n    {upto: 250000, rate: 2, load: 3},\n    {upto: 925000, rate: 5, load: 3},\n    {upto: 1500000, rate: 10, load: 3},\n    {upto: 'end', rate: 12, load: 3}\n  ],\n\n  ireland: [\n    {upto: 1000000, rate: 1},\n    {upto: 'end', rate: 2}\n  ],\n\n  residentialWales: [\n    {upto: 180000, rate: 0, load: 3},\n    {upto: 250000, rate: 3.5, load: 3},\n    {upto: 400000, rate: 5, load: 3},\n    {upto: 750000, rate: 7.5, load: 3},\n    {upto: 1500000, rate: 10, load: 3},\n    {upto: 'end', rate: 12, load: 3}\n  ],\n\n  commercialWales: [\n    {upto: 150000, rate: 0},\n    {upto: 250000, rate: 1},\n    {upto: 1000000, rate: 5},\n    {upto: 'end', rate: 6}\n  ],\n\n  residentialScotland: [\n    {upto: 145000, rate: 0, load: 3},\n    {upto: 250000, rate: 2, load: 3},\n    {upto: 325000, rate: 5, load: 3},\n    {upto: 750000, rate: 10, load: 3},\n    {upto: 'end', rate: 12, load: 3}\n  ],\n\n  commercialScotland: [\n    {upto: 150000, rate: 0},\n    {upto: 250000, rate: 1},\n    {upto: 'end', rate: 5}\n  ]\n};\n\nmodule.exports = bands;","//stateless component Input. Currently handles types text, number, checkbox\n// passed through props\nimport React from \"react\";\nimport {currencyPlaceholder} from './formconfig'\n\nconst currRegEx = new RegExp(currencyPlaceholder, 'g');\n\nconst Input = ({className, name, type, onInput,\n                 placeholder, label, defVal, onblur, doLabelClass, dynamicLabel, currency}) => {\n\n  const labelWithCurrency = addCurrencySymbolToLabel(label, currency);\n\n  return (\n    <li key={name}>\n      <input\n        className={className || 'form-control'}\n        key={name}\n        type={type}\n        name={name}\n        id={name}\n        onChange={(ev) => onInput(ev)}\n        autoComplete={'off'}\n        placeholder={placeholder || labelWithCurrency || `${name} [${type}]`}\n        defaultValue={defVal || ''}\n        onBlur={(e)=>onblur(e)}\n      />\n      {Label({name, doLabelClass, dynamicLabel, label, type, currency})}\n    </li>\n  )\n};\n\n//stateless component Select\nconst Select = ({className, name, type, onInput,\n                  placeholder, label, defVal, onblur, options, doLabelClass, dynamicLabel}) => {\n  return (\n    <li key={name}>\n      <select\n        //defaultValue={defVal}\n        className={className || 'form-control'}\n        key={name}\n        name={name}\n        id={name}\n        onChange={(ev) => onInput(ev)}\n        onBlur={(e)=>onblur(e)}\n        //placeholder={placeholder || label || name}\n      >\n        <option value=\"\" disabled>{placeholder || label || name}</option>\n        {options.map(\n          opt =>\n            <option\n              key={opt.value}\n              name={opt.name}\n              value={opt.value}>{opt.name}\n            </option>\n        )}\n      </select>\n      {Label({name, doLabelClass, dynamicLabel, label, type})}\n    </li>\n  )\n};\n\n//stateless component Label\nconst Label = ({name, doLabelClass, dynamicLabel, label, type, currency}) => {\n\n  const labelWithCurrency = addCurrencySymbolToLabel(label, currency);\n\n  return (\n    <div className={type === 'checkbox' ? 'checkbox-label' : 'input-label'} >\n      <label\n        htmlFor={name}\n        className={doLabelClass(name)}\n      >\n        {dynamicLabel(name, labelWithCurrency)}\n      </label>\n    </div>\n  )\n};\n\nconst addCurrencySymbolToLabel = (label, currencyCode) => {\n  const currSymbol = String.fromCharCode(currencyCode);\n  return label.replace(currRegEx, currSymbol);\n};\n\nconst StatelessComponents = {\n  Input,\n  Select\n};\n\nexport default StatelessComponents;","import React, { Component } from 'react';\nimport StatelessComponents from './StatelessFormComponents';\n\nconst {Input, Select} = StatelessComponents;\n\nconst FormColumn = ({render, fields, className}) => {\n  return (\n    <ul className={className}>\n      {render(fields)}\n    </ul>\n  )\n};\n\nclass Form extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      fields: props.fields,\n    };\n  }\n\n  defValues = () => {\n    let v = {};\n    this.props.fields.map(ob => {\n      v[ob.name] = ob.defVal;\n      return false;\n    });\n    this.props.calculate(v);\n    return {formData: v};\n  };\n\n  doLabel = (fname, label) => {\n    const fData = this.state.formData;\n    return fData && fData[fname] ? label || fname : '';\n  };\n\n  doLabelClass = (fname) => {\n    const fData = this.state.formData;\n    return fData && fData[fname] ? 'show' : 'hide';\n  };\n\n  renderFields = (fields) => {\n    let formFields = [];\n    fields.forEach((ob) => {\n      ob.dynamicLabel = (n, l) => this.doLabel(n, l);\n      //ob.doStyle = n => this.doStyle(n);\n      ob.doLabelClass = n => this.doLabelClass(n);\n      ob.onInput = e => this.handleChange(e.target);\n      ob.onblur = e => this.handleChange(e.target);\n      //console.log(this.state.currency);\n      ob.currency = this.props['currsymbol'];\n      if (ob.type === 'select') {\n        formFields.push(Select(ob));\n      }\n      else {\n        formFields.push(Input(ob));\n      }\n    });\n    return formFields;\n  };\n\n  renderFieldCols = () => {\n\n    const arrLength = Math.floor(this.props.fields.length / 2);\n    let left = this.props.fields.slice(0);\n    const right = left.splice(arrLength);\n\n    return [\n      <FormColumn\n        key=\"1\"\n        fields={left}\n        className='left'\n        render={this.renderFields}\n      />,\n      <FormColumn\n        key=\"2\"\n        fields={right}\n        className='right'\n        render={this.renderFields}\n      />\n      ]\n\n  };\n\n  handleChange = ({type, value, checked, name}) => {\n    let newValObject = {}, val;\n    let newFormData;\n    switch(type) {\n      case 'number':\n        val = isNaN(value) ? 0 : (parseFloat(value) || 0);\n        break;\n      case 'checkbox':\n        val = checked ? 'yes' : 'no';\n        break;\n      default:\n        val = value || '';\n    }\n\n    newValObject[name] = val;\n    newFormData = Object.assign(this.state.formData, newValObject);\n    this.setState({formData: newFormData});\n    if (/^select-one$|^checkbox$|^number$/.test(type)) {\n      this.props.calculate(this.state.formData);\n    }\n\n  };\n\n  componentDidMount() {\n    this.setState(this.defValues());\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    const projName = this.state.formData['projectName'];\n    document.getElementById('doc-title').text = projName ? projName.replace(/ /g, '-') : 'Untitled';\n  };\n\n  render() {\n\n    return <form\n      name={this.props.name}\n      id={this.props.name}\n    >\n      {this.props['twocols'] === 'yes' ? this.renderFieldCols() : this.renderFields(this.props.fields)}\n    </form>\n  }\n}\n\nexport default Form;","// eslint-disable-next-line\nimport React, { Component } from 'react';\n\nconst ListItem = ({label, value, data}) => {\n\n  return (\n    <li>\n      <div className=\"label\">{label}</div>\n      <div className=\"value\">{value}</div>\n    </li>\n  )\n\n};\n\nconst ResultList = ({data, id}) => {\n\n  return (\n    <ul>\n      {data.map(({label, value, colour}, ind) => <ListItem key={`li-${id}-${ind}`} label={label} value={value} />)}\n    </ul>\n  )\n\n};\n\nexport default ResultList;","import sdltBands from './stampduty-bands';\n\nconst calculateStampDuty = (val, sdltType) => {\n  const onePercentOfVal = (val / 100);\n  //const load = sdltType === 'residential' ? 3 : 0;\n  const bands = sdltBands[sdltType];\n\n  let tax = 0;\n  let bandLimit;\n  let rate;\n  let previousBandLimit;\n  let load;\n\n  if (!sdltType) return 0;\n\n  for (let idx = 0; idx < bands.length; idx++) {\n\n    load = bands[idx].load || 0;\n\n    bandLimit = bands[idx].upto;\n    rate = bands[idx].rate;\n    previousBandLimit = idx > 0 ? bands[idx - 1].upto : 0;\n\n    if (bandLimit === 'end') { //end and return\n      tax += ((onePercentOfVal - (previousBandLimit / 100)) * (rate + load));\n      return tax;\n    }\n    if (val <= bandLimit) { //return before end\n      if (idx === 0) {      //below first limit\n        tax += (onePercentOfVal * (rate + load));\n      }\n      else {                //below this limit\n        tax += ((onePercentOfVal - (previousBandLimit / 100)) * (rate + load));\n      }\n      return tax;\n    }\n    else {                  //add the tax rate for the whole band and carry on\n      tax += ((bandLimit - previousBandLimit) / 100 * (rate + load));\n    }\n  }\n  // shouldn't get here but code won't know should throw error\n  console.error(`check stampduty-bands for property without upto: 'end' in last entry`);\n  return tax;\n\n};\n\nexport default calculateStampDuty;\n","\nconst freeCashLabels = [\n  \"Remortgage advance\",\n  \"Remortgage deposit\",\n  \"Remortgage fees\",\n  \"Money in\",\n  \"Money out\",\n  \"Money left in\",\n  \"Monthly rental\",\n  \"Monthly mortgage payment\",\n  \"MOE\",\n  \"Letting agent fees\",\n  \"Monthly free cashflow\"\n];\n\nconst initialFinanceLabels = [\n  \"Mortgage advance\",\n  \"Deposit\",\n  \"Stamp duty\",\n  \"Professional fees\",\n  \"Refurb/other costs\",\n  \"Total money in\",\n  \"Total cost\"\n];\n\nconst flipLabels = [\n  'Sale price',\n  'Selling costs',\n  'Total input costs',\n  'Profit (before tax)',\n  'Gain(%)'\n];\n\nconst stressLabels = [\n  'Stress test',\n  'Minimum rent'];\n\nexport default {\n  freeCashLabels: freeCashLabels,\n  initialFinanceLabels: initialFinanceLabels,\n  flipLabels: flipLabels,\n  stressLabels: stressLabels\n};","import calculateStampDuty from './stampduty/stampduty-calculator';\nimport calculationsLabels from \"../labels/calculations-labels\";\n\nconst freeCash = ( {loanToValue, buyingCash, propertyValue, doneUpValue,\n                    mortgageInterestRatePercent, monthlyRent, moePercent,\n                    agentsPercent, refurbCost, otherCost, stampDutyType,\n                    remortgageFee, remortgageValuationFee, remortgageLegalFee,\n                    initMortgageFee, initLegalFee, initSurveyorsFee, repairingLease} ) => {\n\n  const loanToVal = loanToValue / 100;\n  const remortgageAdvance = Math.round(doneUpValue * loanToVal);\n  const remortgageDeposit = Math.round(doneUpValue * (1 - loanToVal));\n  const remortgageMonthlyInterest = Math.round(remortgageAdvance * mortgageInterestRatePercent / 1200);\n  const moe = repairingLease === 'yes' ? 0 : (monthlyRent * moePercent / 100);\n  const lettingAgentsFees = monthlyRent * agentsPercent / 100;\n  const freeCashFlowMonthly = monthlyRent - (repairingLease === 'yes' ? 0 : moe) - remortgageMonthlyInterest - lettingAgentsFees;\n  const totalOtherCosts = refurbCost + otherCost;\n  const sdltTotal = calculateStampDuty(propertyValue, stampDutyType);\n  const remortgageFees = remortgageFee + remortgageValuationFee + remortgageLegalFee;\n  const initialFees = initMortgageFee + initLegalFee + initSurveyorsFee;\n  const initialCost = initialFees + totalOtherCosts + sdltTotal + propertyValue;\n  const labels = calculationsLabels.freeCashLabels;\n\n  return [\n    {label: labels[0], value: remortgageAdvance.toFixed(2)},\n    {label: labels[1], value: remortgageDeposit.toFixed(2)},\n    {label: labels[2], value: remortgageFees.toFixed(2)},\n    {label: labels[3], value: initialCost.toFixed(2)},\n    {label: labels[4], value: (remortgageAdvance - remortgageFees).toFixed(2)},\n    {label: labels[5], value: (initialCost - (remortgageAdvance - remortgageFees)).toFixed(2)},\n    {label: labels[6], value: monthlyRent.toFixed(2)},\n    {label: labels[7], value: remortgageMonthlyInterest.toFixed(2)},\n    {label: labels[8], value: moe.toFixed(2)},\n    {label: labels[9], value: lettingAgentsFees.toFixed(2)},\n    {label: labels[10], value: freeCashFlowMonthly.toFixed(2)}\n    ];\n};\n\nconst initialFinance = ( {buyingCash, initialLoanToValue, propertyValue, initSurveyorsFee,\n                           initLegalFee, initMortgageFee, refurbCost, otherCost, stampDutyType} ) => {\n\n  const isCash = buyingCash === 'yes';\n  const loanToVal = initialLoanToValue / 100;\n  const initMortgageAdvance = isCash ? 0 : Math.round(propertyValue * loanToVal);\n  const initFees = initSurveyorsFee + initLegalFee + initMortgageFee;\n  const other = refurbCost + otherCost;\n  const initialDeposit = isCash ? propertyValue : Math.round(propertyValue * (1 - loanToVal));\n  const sdltTotal = calculateStampDuty(propertyValue, stampDutyType);\n  const totCost = allInputCosts(initSurveyorsFee, initLegalFee, initMortgageFee,\n    refurbCost, otherCost, propertyValue, stampDutyType);\n  const totIn = totCost-initMortgageAdvance;\n  const labels = calculationsLabels.initialFinanceLabels;\n\n\n  return [\n    {label: labels[0], value: initMortgageAdvance.toFixed(2)},\n    {label: labels[1], value: initialDeposit.toFixed(2)},\n    {label: labels[2], value: sdltTotal.toFixed(2)},\n    {label: labels[3], value: initFees.toFixed(2)},\n    {label: labels[4], value: other.toFixed(2)},\n    {label: labels[5], value: totIn.toFixed(2)},\n    {label: labels[6], value: totCost.toFixed(2)}\n    ];\n};\n\nconst flip = ( {sellingLegalFee, agentSellingFee, initSurveyorsFee, initLegalFee,\n                 initMortgageFee, refurbCost, otherCost, propertyValue, stampDutyType, doneUpValue} ) => {\n\n  const totCost = allInputCosts(initSurveyorsFee, initLegalFee, initMortgageFee,\n    refurbCost, otherCost, propertyValue, stampDutyType);\n\n  const fees = sellingLegalFee + agentSellingFee;\n  const flipGain = Math.round((doneUpValue-totCost)/totCost*10000)/100;\n  const col = (flipGain >= 20) ? 'green' : 'red';\n  const labels = calculationsLabels.flipLabels;\n\n  return [\n    {label: labels[0], value: doneUpValue.toFixed(2)},\n    {label: labels[1], value: fees.toFixed(2)},\n    {label: labels[2], value: totCost.toFixed(2) || '0'},\n    {label: labels[3], value:  ((doneUpValue - (totCost + fees)).toFixed(2) || '0'), col},\n    {label: labels[4], value: flipGain.toFixed(2) || 0, col}\n  ];\n};\n\nconst stressTest = ( {doneUpValue, monthlyRent, loanToValue,\n                       mortgageStressInterestRatePercent, mortgageStressMultipePercent} ) => {\n\n  const minRent = Math.ceil(\n    doneUpValue *\n    loanToValue / 100 *\n    mortgageStressInterestRatePercent / 1200 *\n    mortgageStressMultipePercent / 100\n  );\n  const pass = monthlyRent >= minRent;\n  const labels = calculationsLabels.stressLabels;\n\n  return [\n    {label: labels[0], value: pass ? 'pass' : 'fail'},\n    {label: labels[1], value: minRent.toFixed(2)}\n  ];\n};\n\nconst allInputCosts = (initSurveyorsFee, initLegalFee, initMortgageFee,\n                         refurbCost, otherCost, propertyValue, stampDutyType) => {\n\n  const stampDuty = calculateStampDuty(propertyValue, stampDutyType);\n\n  return (\n    initSurveyorsFee +\n    initLegalFee +\n    initMortgageFee +\n    refurbCost +\n    otherCost +\n    stampDuty\n    + propertyValue\n  );\n};\n\nconst getCurrencyCode = ({stampDutyType}) => {\n  return stampDutyType === 'ireland' ? 8364 : 163\n};\n\nconst calculations = {\n  freeCash: freeCash,\n  initialFinance: initialFinance,\n  flip: flip,\n  allInputCosts: allInputCosts,\n  stressTest: stressTest,\n  getCurrencyCode: getCurrencyCode\n};\n\nexport default calculations;","import React, { Component } from 'react';\nimport Form from './components/FormComponent';\nimport {fields} from './components/formconfig';\nimport './css/app.css';\nimport ResultList from './components/ResultListComponent';\nimport calculations from './logic/calculations';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {\n        dealFinance: [],\n        buyToLet: [],\n        stress: [],\n        flip: []\n      },\n      currency: 163\n    };\n  }\n\n  calculate = (inputData) => {\n\n    const dfResult = calculations.initialFinance(inputData);\n    const btlResult = calculations.freeCash(inputData);\n    const flip = calculations.flip(inputData);\n    const stress = calculations.stressTest(inputData);\n    const currSymbol = calculations.getCurrencyCode(inputData);\n\n    this.setState({\n      data: {\n        dealFinance: dfResult,\n        buyToLet: btlResult,\n        stress: stress,\n        flip: flip\n      },\n      currency: currSymbol\n    });\n  };\n\n  doResults = () => {\n\n    const {dealFinance, buyToLet, stress, flip} = this.state.data;\n\n    return (\n      <React.Fragment>\n        <div className=\"res-block\">\n          <h4>Deal finance</h4>\n          <ResultList id=\"1\" data={dealFinance}/>\n        </div>\n        <div className=\"res-block\">\n          <h4>Buy to let</h4>\n          <ResultList id=\"2\" data={buyToLet}/>\n        </div>\n        <div className=\"res-block\">\n          <h4>Stress test</h4>\n          <ResultList id=\"3\" data={stress}/>\n        </div>\n        <div className=\"res-block\">\n          <h4>Flip</h4>\n          <ResultList id=\"4\" data={flip}/>\n        </div>\n      </React.Fragment>\n    )\n  };\n\n  render() {\n\n    return (\n      <div className=\"App\">\n          <div className=\"column\">\n            <Form\n              name={'propcalc'}\n              fields={fields}\n              twocols=\"yes\"\n              calculate={this.calculate}\n              currsymbol={this.state.currency}\n            />\n          </div>\n          <div className=\"column results\">\n            {this.doResults()}\n          </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport './css/bootstrap-override.scss';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}