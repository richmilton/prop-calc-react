(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,function(e,a){var t=String.fromCharCode(37),n=[{label:"Project name",name:"projectName",type:"text"},{label:"Purchase price(".concat("##CURR##",")"),name:"propertyValue",type:"number",defVal:0},{label:"Done up value(".concat("##CURR##",")"),name:"doneUpValue",type:"number",defVal:0},{label:"Monthly rent(".concat("##CURR##",")"),name:"monthlyRent",type:"number",defVal:0},{label:"Initial LTV(".concat(t,")"),name:"initialLoanToValue",type:"number",defVal:75},{label:"Cash purchase",name:"buyingCash",type:"checkbox",defVal:"no"},{label:"Surveyors fee(".concat("##CURR##",")"),name:"initSurveyorsFee",type:"number",defVal:600},{label:"Mortgage fee(".concat("##CURR##",")"),name:"initMortgageFee",type:"number",defVal:0},{label:"Legal fees(".concat("##CURR##",")"),name:"initLegalFee",type:"number",defVal:1500},{label:"Stamp duty",name:"stampDutyType",type:"select",options:[{value:"residential",name:"Residential Eng/NI"},{value:"commercial",name:"Commercial Eng/NI"},{value:"residentialWales",name:"Residential Wales"},{value:"commercialWales",name:"Commercial Wales"},{value:"residentialScotland",name:"Residential Scotland"},{value:"commercialScotland",name:"Commercial Scotland"},{value:"ireland",name:"Ireland"}],defVal:"residential"},{label:"Refurbishment cost(".concat("##CURR##",")"),name:"refurbCost",type:"number",defVal:0},{label:"Other cost(".concat("##CURR##",")"),name:"otherCost",type:"number",defVal:0},{label:"Remortgage fee(".concat("##CURR##",")"),name:"remortgageFee",type:"number",defVal:0},{label:"Remortgage valuation fee(".concat("##CURR##",")"),name:"remortgageValuationFee",type:"number",defVal:0},{label:"Remortgage legal fees(".concat("##CURR##",")"),name:"remortgageLegalFee",type:"number",defVal:0},{label:"Letting agents rate(".concat(t,")"),name:"agentsPercent",type:"number",defVal:10},{label:"\n    MOE rate(".concat(t,")"),name:"moePercent",type:"number",defVal:15},{label:"Repairing lease",name:"repairingLease",type:"checkbox",defVal:"no"},{label:"Interest rate(".concat(t,")"),name:"mortgageInterestRatePercent",type:"number",defVal:6},{label:"Remortgage LTV(".concat(t,")"),name:"loanToValue",type:"number",defVal:75},{label:"Solicitors selling fee(".concat("##CURR##",")"),name:"sellingLegalFee",type:"number",defVal:0},{label:"Agent/selling fee(".concat("##CURR##",")"),name:"agentSellingFee",type:"number",defVal:0},{label:"Mortgage stress test(".concat(t,")"),name:"mortgageStressMultipePercent",type:"number",defVal:125},{label:"Stress interest rate(".concat(t,")"),name:"mortgageStressInterestRatePercent",type:"number",defVal:5}];e.exports={fields:n,currencyPlaceholder:"##CURR##"}},,,,,,function(e,a){e.exports={commercial:[{upto:15e4,rate:0},{upto:25e4,rate:2},{upto:"end",rate:5}],residential:[{upto:125e3,rate:0,load:3},{upto:25e4,rate:2,load:3},{upto:925e3,rate:5,load:3},{upto:15e5,rate:10,load:3},{upto:"end",rate:12,load:3}],ireland:[{upto:1e6,rate:1},{upto:"end",rate:2}],residentialWales:[{upto:18e4,rate:0,load:3},{upto:25e4,rate:3.5,load:3},{upto:4e5,rate:5,load:3},{upto:75e4,rate:7.5,load:3},{upto:15e5,rate:10,load:3},{upto:"end",rate:12,load:3}],commercialWales:[{upto:15e4,rate:0},{upto:25e4,rate:1},{upto:1e6,rate:5},{upto:"end",rate:6}],residentialScotland:[{upto:145e3,rate:0,load:3},{upto:25e4,rate:2,load:3},{upto:325e3,rate:5,load:3},{upto:75e4,rate:10,load:3},{upto:"end",rate:12,load:3}],commercialScotland:[{upto:15e4,rate:0},{upto:25e4,rate:1},{upto:"end",rate:5}]}},function(e,a,t){e.exports=t(20)},,,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(9),o=t.n(r),c=t(1),u=t(2),i=t(6),s=t(3),d=t(7),m=t(4),p=t(10),f=t(5),b=new RegExp(f.currencyPlaceholder,"g"),y=function(e){var a=e.name,t=e.doLabelClass,n=e.dynamicLabel,r=e.label,o=e.type,c=e.currency,u=g(r,c);return l.a.createElement("div",{className:"checkbox"===o?"checkbox-label":"input-label"},l.a.createElement("label",{htmlFor:a,className:t(a)},n(a,u)))},g=function(e,a){var t=String.fromCharCode(a);return e.replace(b,t)},v={Input:function(e){var a=e.className,t=e.name,n=e.type,r=e.onInput,o=e.placeholder,c=e.label,u=e.defVal,i=e.onblur,s=e.doLabelClass,d=e.dynamicLabel,m=e.currency,p=g(c,m);return l.a.createElement("li",{key:t},l.a.createElement("input",{className:a||"form-control",key:t,type:n,name:t,id:t,onChange:function(e){return r(e)},autoComplete:"off",placeholder:o||p||"".concat(t," [").concat(n,"]"),defaultValue:u||"",onBlur:function(e){return i(e)}}),y({name:t,doLabelClass:s,dynamicLabel:d,label:c,type:n,currency:m}))},Select:function(e){var a=e.className,t=e.name,n=e.type,r=e.onInput,o=e.placeholder,c=e.label,u=(e.defVal,e.onblur),i=e.options,s=e.doLabelClass,d=e.dynamicLabel;return l.a.createElement("li",{key:t},l.a.createElement("select",{className:a||"form-control",key:t,name:t,id:t,onChange:function(e){return r(e)},onBlur:function(e){return u(e)}},l.a.createElement("option",{value:"",disabled:!0},o||c||t),i.map(function(e){return l.a.createElement("option",{key:e.value,name:e.name,value:e.value},e.name)})),y({name:t,doLabelClass:s,dynamicLabel:d,label:c,type:n}))}},h=v.Input,F=v.Select,C=function(e){var a=e.render,t=e.fields,n=e.className;return l.a.createElement("ul",{className:n},a(t))},R=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(i.a)(this,Object(s.a)(a).call(this,e))).defValues=function(){var e={};return t.props.fields.map(function(a){return e[a.name]=a.defVal,!1}),t.props.calculate(e),{formData:e}},t.doLabel=function(e,a){var n=t.state.formData;return n&&n[e]?a||e:""},t.doLabelClass=function(e){var a=t.state.formData;return a&&a[e]?"show":"hide"},t.renderFields=function(e){var a=[];return e.forEach(function(e){e.dynamicLabel=function(e,a){return t.doLabel(e,a)},e.doLabelClass=function(e){return t.doLabelClass(e)},e.onInput=function(e){return t.handleChange(e.target)},e.onblur=function(e){return t.handleChange(e.target)},e.currency=t.props.currsymbol,"select"===e.type?a.push(F(e)):a.push(h(e))}),a},t.renderFieldCols=function(){var e=Math.floor(t.props.fields.length/2),a=t.props.fields.slice(0),n=a.splice(e);return[l.a.createElement(C,{key:"1",fields:a,className:"left",render:t.renderFields}),l.a.createElement(C,{key:"2",fields:n,className:"right",render:t.renderFields})]},t.handleChange=function(e){var a,n,l=e.type,r=e.value,o=e.checked,c=e.name;switch(l){case"number":a=isNaN(r)?0:parseFloat(r)||0;break;case"checkbox":a=o?"yes":"no";break;default:a=r||""}n=Object(p.a)({},t.state.formData,Object(m.a)({},c,a)),t.setState({formData:n},function(){/^select-one$|^checkbox$|^number$/.test(l)&&t.props.calculate(t.state.formData)})},t.state={fields:e.fields},t}return Object(d.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){this.setState(this.defValues())}},{key:"componentDidUpdate",value:function(e,a,t){var n=this.state.formData.projectName;document.getElementById("doc-title").text=n?n.replace(/ /g,"-"):"Untitled"}},{key:"render",value:function(){return l.a.createElement("form",{name:this.props.name,id:this.props.name},"yes"===this.props.twocols?this.renderFieldCols():this.renderFields(this.props.fields))}}]),a}(n.Component),V=(t(18),function(e){var a=e.label,t=e.value;e.data;return l.a.createElement("li",null,l.a.createElement("div",{className:"label"},a),l.a.createElement("div",{className:"value"},t))}),E=function(e){var a=e.data,t=e.id;return l.a.createElement("ul",null,a.map(function(e,a){var n=e.label,r=e.value;return e.colour,l.a.createElement(V,{key:"li-".concat(t,"-").concat(a),label:n,value:r})}))},x=t(11),L=t.n(x),S=function(e,a){var t,n,l,r,o=e/100,c=L.a[a],u=0;if(!a)return 0;for(var i=0;i<c.length;i++){if(r=c[i].load||0,t=c[i].upto,n=c[i].rate,l=i>0?c[i-1].upto:0,"end"===t)return u+=(o-l/100)*(n+r);if(e<=t)return u+=0===i?o*(n+r):(o-l/100)*(n+r);u+=(t-l)/100*(n+r)}return console.error("check stampduty-bands for property without upto: 'end' in last entry"),u},k=["Remortgage advance","Remortgage deposit","Remortgage fees","Money in","Money out","Money left in","Monthly rental","Monthly mortgage payment","MOE","Letting agent fees","Monthly free cashflow"],M=["Mortgage advance","Deposit","Stamp duty","Professional fees","Refurb/other costs","Total money in","Total cost"],N=["Sale price","Selling costs","Total input costs","Profit (before tax)","Gain(%)"],T=["Stress test","Minimum rent"],U=function(e,a,t,n,l,r,o){return e+a+t+n+l+S(r,o)+r},w={freeCash:function(e){var a=e.loanToValue,t=(e.buyingCash,e.propertyValue),n=e.doneUpValue,l=e.mortgageInterestRatePercent,r=e.monthlyRent,o=e.moePercent,c=e.agentsPercent,u=e.refurbCost,i=e.otherCost,s=e.stampDutyType,d=e.remortgageFee,m=e.remortgageValuationFee,p=e.remortgageLegalFee,f=e.initMortgageFee,b=e.initLegalFee,y=e.initSurveyorsFee,g=e.repairingLease,v=a/100,h=Math.round(n*v),F=Math.round(n*(1-v)),C=Math.round(h*l/1200),R="yes"===g?0:r*o/100,V=r*c/100,E=r-("yes"===g?0:R)-C-V,x=d+m+p,L=f+b+y+(u+i)+S(t,s)+t,M=k;return[{label:M[0],value:h.toFixed(2)},{label:M[1],value:F.toFixed(2)},{label:M[2],value:x.toFixed(2)},{label:M[3],value:L.toFixed(2)},{label:M[4],value:(h-x).toFixed(2)},{label:M[5],value:(L-(h-x)).toFixed(2)},{label:M[6],value:r.toFixed(2)},{label:M[7],value:C.toFixed(2)},{label:M[8],value:R.toFixed(2)},{label:M[9],value:V.toFixed(2)},{label:M[10],value:E.toFixed(2)}]},initialFinance:function(e){var a=e.buyingCash,t=e.initialLoanToValue,n=e.propertyValue,l=e.initSurveyorsFee,r=e.initLegalFee,o=e.initMortgageFee,c=e.refurbCost,u=e.otherCost,i=e.stampDutyType,s="yes"===a,d=t/100,m=s?0:Math.round(n*d),p=l+r+o,f=c+u,b=s?n:Math.round(n*(1-d)),y=S(n,i),g=U(l,r,o,c,u,n,i),v=g-m,h=M;return[{label:h[0],value:m.toFixed(2)},{label:h[1],value:b.toFixed(2)},{label:h[2],value:y.toFixed(2)},{label:h[3],value:p.toFixed(2)},{label:h[4],value:f.toFixed(2)},{label:h[5],value:v.toFixed(2)},{label:h[6],value:g.toFixed(2)}]},flip:function(e){var a=e.sellingLegalFee,t=e.agentSellingFee,n=e.initSurveyorsFee,l=e.initLegalFee,r=e.initMortgageFee,o=e.refurbCost,c=e.otherCost,u=e.propertyValue,i=e.stampDutyType,s=e.doneUpValue,d=U(n,l,r,o,c,u,i),m=a+t,p=Math.round((s-d)/d*1e4)/100,f=p>=20?"green":"red",b=N;return[{label:b[0],value:s.toFixed(2)},{label:b[1],value:m.toFixed(2)},{label:b[2],value:d.toFixed(2)||"0"},{label:b[3],value:(s-(d+m)).toFixed(2)||"0",col:f},{label:b[4],value:p.toFixed(2)||0,col:f}]},allInputCosts:U,stressTest:function(e){var a=e.doneUpValue,t=e.monthlyRent,n=e.loanToValue,l=e.mortgageStressInterestRatePercent,r=e.mortgageStressMultipePercent,o=Math.ceil(a*n/100*l/1200*r/100),c=t>=o,u=T;return[{label:u[0],value:c?"pass":"fail"},{label:u[1],value:o.toFixed(2)}]},getCurrencyCode:function(e){return"ireland"===e.stampDutyType?8364:163}},D=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(i.a)(this,Object(s.a)(a).call(this,e))).calculate=function(e){var a=w.initialFinance(e),n=w.freeCash(e),l=w.flip(e),r=w.stressTest(e),o=w.getCurrencyCode(e);t.setState({data:{dealFinance:a,buyToLet:n,stress:r,flip:l},currency:o})},t.doResults=function(){var e=t.state.data,a=e.dealFinance,n=e.buyToLet,r=e.stress,o=e.flip;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"res-block"},l.a.createElement("h4",null,"Deal finance"),l.a.createElement(E,{id:"1",data:a})),l.a.createElement("div",{className:"res-block"},l.a.createElement("h4",null,"Buy to let"),l.a.createElement(E,{id:"2",data:n})),l.a.createElement("div",{className:"res-block"},l.a.createElement("h4",null,"Stress test"),l.a.createElement(E,{id:"3",data:r})),l.a.createElement("div",{className:"res-block"},l.a.createElement("h4",null,"Flip"),l.a.createElement(E,{id:"4",data:o})))},t.state={data:{dealFinance:[],buyToLet:[],stress:[],flip:[]},currency:163},t}return Object(d.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"column"},l.a.createElement(R,{name:"propcalc",fields:f.fields,twocols:"yes",calculate:this.calculate,currsymbol:this.state.currency})),l.a.createElement("div",{className:"column results"},this.doResults()))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(19);o.a.render(l.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[12,1,2]]]);
//# sourceMappingURL=main.699178ee.chunk.js.map