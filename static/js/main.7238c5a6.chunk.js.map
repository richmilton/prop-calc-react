{"version":3,"sources":["logic/stampduty/stampduty-bands.js","components/formconfig.js","components/StatelessFormComponents.jsx","components/FormComponent.jsx","components/ResultListComponent.jsx","components/SavedStateComponents.jsx","logic/stampduty/stampduty-calculator.js","logic/calculations/allInputCosts.js","labels/calculations-labels.js","logic/calculations/index.js","logic/calculations/freeCash.js","logic/calculations/initialFinance.js","logic/calculations/flip.js","logic/calculations/stressTest.js","util/validate-postcode.js","App.jsx","serviceWorker.js","index.js"],"names":["module","exports","commercial","upto","rate","residential","load","ireland","residentialWales","commercialWales","residentialScotland","commercialScotland","percentSign","String","fromCharCode","types","NUMBER","TEXT","CHECKBOX","SELECT","fields","label","name","type","defVal","required","concat","options","value","currencyPlaceholder","currRegEx","RegExp","addCurrencySymbolToLabel","currencyCode","currSymbol","replace","Label","_ref","doLabelClass","dynamicLabel","currency","labelWithCurrency","react_default","a","createElement","className","htmlFor","StatelessComponents","Input","_ref2","onInput","placeholder","onblur","key","id","onChange","ev","autoComplete","defaultValue","defaultChecked","onBlur","e","Select","_ref3","map","opt","FormColumn","render","Form","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","formData","doLabel","bind","assertThisInitialized","renderFields","renderFieldCols","handleChange","handleSave","calculate","fname","val","checked","Number","isNaN","parseFloat","setState","objectSpread","defineProperty","preventDefault","onsave","target","blur","_this2","formFields","_this$props","currsymbol","forEach","field","ob","n","l","push","arrLength","Math","floor","length","left","slice","right","splice","_this$props2","twocols","button","showsave","onClick","Component","ListItem","ResultList","data","ind","ResultListComponent_ListItem","handleClick","callback","split","SavedStateListItem","milis","ondelete","style","width","window","location","href","dateFormat","Date","parseInt","SavedStateList","onselect","projectName","SavedStateComponents_SavedStateListItem","calculateStampDuty","sdltType","bandLimit","previousBandLimit","onePercentOfVal","bands","sdltBands","tax","idx","allInputCosts","initSurveyorsFee","initLegalFee","initMortgageFee","refurbCost","otherCost","propertyValue","stampDutyType","calculations_labels","calculations","freeCash","loanToValue","doneUpValue","mortgageInterestRatePercent","monthlyRent","moePercent","agentsPercent","remortgageFee","remortgageValuationFee","remortgageLegalFee","repairingLease","loanToVal","remortgageAdvance","round","remortgageDeposit","remortgageMonthlyInterest","moe","lettingAgentsFees","freeCashFlowMonthly","remortgageFees","initialCost","labels","calculationsLabels","toFixed","initialFinance","buyingCash","initialLoanToValue","isCash","initMortgageAdvance","initFees","other","initialDeposit","sdltTotal","totCost","totIn","flip","sellingLegalFee","agentSellingFee","fees","flipGain","col","stressTest","mortgageStressInterestRatePercent","mortgageStressMultipePercent","minRent","ceil","pass","getCurrencyCode","postCodeRegEx","validatePostcode","postCode","test","toUpperCase","hostname","pathname","isLocal","appPath","urls","process","App","dealFinance","buyToLet","stress","savedStates","Items","currentState","hasWorkingAPI","doResults","setDefaultFormData","saveState","deleteState","stateId","find","getSavedStates","loadDefault","selectedStateId","substr","fetch","then","response","json","stateToLoad","findState","catch","defaults","changedField","newValue","inputData","document","getElementById","text","_this$state","askingPrice","oneK","oneHundredK","maxPrice","maxRent","links","Fragment","rel","color","fontStyle","ResultListComponent","_this3","method","headers","Accept","Content-Type","body","JSON","stringify","finally","error","_this4","resp","ok","Error","_this$state2","savedStateList","SavedStateComponents","savedList","newButton","textAlign","FormComponent","Boolean","match","ReactDOM","src_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"0EAoDAA,EAAOC,QApDO,CAEZC,WAAY,CACV,CAAEC,KAAM,KAAQC,KAAM,GACtB,CAAED,KAAM,KAAQC,KAAM,GACtB,CAAED,KAAM,MAAOC,KAAM,IAGvBC,YAAa,CACX,CAAEF,KAAM,MAAQC,KAAM,EAAGE,KAAM,GAC/B,CAAEH,KAAM,KAAQC,KAAM,EAAGE,KAAM,GAC/B,CAAEH,KAAM,MAAQC,KAAM,EAAGE,KAAM,GAC/B,CAAEH,KAAM,KAASC,KAAM,GAAIE,KAAM,GACjC,CAAEH,KAAM,MAAOC,KAAM,GAAIE,KAAM,IAGjCC,QAAS,CACP,CAAEJ,KAAM,IAASC,KAAM,GACvB,CAAED,KAAM,MAAOC,KAAM,IAGvBI,iBAAkB,CAChB,CAAEL,KAAM,KAAQC,KAAM,EAAGE,KAAM,GAC/B,CAAEH,KAAM,KAAQC,KAAM,IAAKE,KAAM,GACjC,CAAEH,KAAM,IAAQC,KAAM,EAAGE,KAAM,GAC/B,CAAEH,KAAM,KAAQC,KAAM,IAAKE,KAAM,GACjC,CAAEH,KAAM,KAASC,KAAM,GAAIE,KAAM,GACjC,CAAEH,KAAM,MAAOC,KAAM,GAAIE,KAAM,IAGjCG,gBAAiB,CACf,CAAEN,KAAM,KAAQC,KAAM,GACtB,CAAED,KAAM,KAAQC,KAAM,GACtB,CAAED,KAAM,IAASC,KAAM,GACvB,CAAED,KAAM,MAAOC,KAAM,IAGvBM,oBAAqB,CACnB,CAAEP,KAAM,MAAQC,KAAM,EAAGE,KAAM,GAC/B,CAAEH,KAAM,KAAQC,KAAM,EAAGE,KAAM,GAC/B,CAAEH,KAAM,MAAQC,KAAM,EAAGE,KAAM,GAC/B,CAAEH,KAAM,KAAQC,KAAM,GAAIE,KAAM,GAChC,CAAEH,KAAM,MAAOC,KAAM,GAAIE,KAAM,IAGjCK,mBAAoB,CAClB,CAAER,KAAM,KAAQC,KAAM,GACtB,CAAED,KAAM,KAAQC,KAAM,GACtB,CAAED,KAAM,MAAOC,KAAM,0DChDzB,IACMQ,EAAcC,OAAOC,aAAa,IAClCC,EAAQ,CACZC,OAAQ,SACRC,KAAM,OACNC,SAAU,WACVC,OAAQ,UAGJC,EAAS,CACb,CACEC,MAAO,eACPC,KAAM,cACNC,KAAMR,EAAME,KACZO,OAAQ,GACRC,UAAU,GAEZ,CACEJ,MAAO,YACPC,KAAM,WACNC,KAAMR,EAAME,KACZO,OAAQ,GACRC,UAAU,GAEZ,CACEJ,MAAK,gBAAAK,OAzBmB,WAyBnB,KACLJ,KAAM,cACNC,KAAMR,EAAMC,OACZQ,OAAQ,GAEV,CACEH,MAAK,kBAAAK,OA/BmB,WA+BnB,KACLJ,KAAM,gBACNC,KAAMR,EAAMC,OACZQ,OAAQ,GAEV,CACEH,MAAK,iBAAAK,OArCmB,WAqCnB,KACLJ,KAAM,cACNC,KAAMR,EAAMC,OACZQ,OAAQ,GAEV,CACEH,MAAK,gBAAAK,OA3CmB,WA2CnB,KACLJ,KAAM,cACNC,KAAMR,EAAMC,OACZQ,OAAQ,GAEV,CACEH,MAAO,gBACPC,KAAM,aACNC,KAAMR,EAAMG,SACZM,OAAQ,MAEV,CACEH,MAAK,eAAAK,OAAiBd,EAAjB,KACLU,KAAM,qBACNC,KAAMR,EAAMC,OACZQ,OAAQ,IAEV,CACEH,MAAK,iBAAAK,OA7DmB,WA6DnB,KACLJ,KAAM,mBACNC,KAAMR,EAAMC,OACZQ,OAAQ,KAEV,CACEH,MAAK,gBAAAK,OAnEmB,WAmEnB,KACLJ,KAAM,kBACNC,KAAMR,EAAMC,OACZQ,OAAQ,GAEV,CACEH,MAAK,cAAAK,OAzEmB,WAyEnB,KACLJ,KAAM,eACNC,KAAMR,EAAMC,OACZQ,OAAQ,MAEV,CACEH,MAAO,aACPC,KAAM,gBACNC,KAAMR,EAAMI,OACZQ,QAAS,CACP,CAAEC,MAAO,cAAeN,KAAM,sBAC9B,CAAEM,MAAO,aAAcN,KAAM,qBAC7B,CAAEM,MAAO,mBAAoBN,KAAM,qBACnC,CAAEM,MAAO,kBAAmBN,KAAM,oBAClC,CAAEM,MAAO,sBAAuBN,KAAM,wBACtC,CAAEM,MAAO,qBAAsBN,KAAM,uBACrC,CAAEM,MAAO,UAAWN,KAAM,YAE5BE,OAAQ,eAEV,CACEH,MAAK,sBAAAK,OA9FmB,WA8FnB,KACLJ,KAAM,aACNC,KAAMR,EAAMC,OACZQ,OAAQ,GAEV,CACEH,MAAK,cAAAK,OApGmB,WAoGnB,KACLJ,KAAM,YACNC,KAAMR,EAAMC,OACZQ,OAAQ,GAEV,CACEH,MAAK,kBAAAK,OA1GmB,WA0GnB,KACLJ,KAAM,gBACNC,KAAMR,EAAMC,OACZQ,OAAQ,GAEV,CACEH,MAAK,4BAAAK,OAhHmB,WAgHnB,KACLJ,KAAM,yBACNC,KAAMR,EAAMC,OACZQ,OAAQ,GAEV,CACEH,MAAK,yBAAAK,OAtHmB,WAsHnB,KACLJ,KAAM,qBACNC,KAAMR,EAAMC,OACZQ,OAAQ,GAEV,CACEH,MAAK,uBAAAK,OAAyBd,EAAzB,KACLU,KAAM,gBACNC,KAAMR,EAAMC,OACZQ,OAAQ,IAEV,CACEH,MAAK,kBAAAK,OACMd,EADN,KAELU,KAAM,aACNC,KAAMR,EAAMC,OACZQ,OAAQ,IAEV,CACEH,MAAO,kBACPC,KAAM,iBACNC,KAAMR,EAAMG,SACZM,OAAQ,MAEV,CACEH,MAAK,iBAAAK,OAAmBd,EAAnB,KACLU,KAAM,8BACNC,KAAMR,EAAMC,OACZQ,OAAQ,GAEV,CACEH,MAAK,kBAAAK,OAAoBd,EAApB,KACLU,KAAM,cACNC,KAAMR,EAAMC,OACZQ,OAAQ,IAEV,CACEH,MAAK,0BAAAK,OA3JmB,WA2JnB,KACLJ,KAAM,kBACNC,KAAMR,EAAMC,OACZQ,OAAQ,GAEV,CACEH,MAAK,qBAAAK,OAjKmB,WAiKnB,KACLJ,KAAM,kBACNC,KAAMR,EAAMC,OACZQ,OAAQ,GAEV,CACEH,MAAK,wBAAAK,OAA0Bd,EAA1B,KACLU,KAAM,+BACNC,KAAMR,EAAMC,OACZQ,OAAQ,KAEV,CACEH,MAAK,wBAAAK,OAA0Bd,EAA1B,KACLU,KAAM,oCACNC,KAAMR,EAAMC,OACZQ,OAAQ,IAIZxB,EAAOC,QAAU,CACfmB,SACAS,oBAtL0B,WAuL1Bd,+LCjLIe,EAAY,IAAIC,OAAOF,sBAAqB,KAE5CG,EAA2B,SAACX,EAAOY,GACvC,IAAMC,EAAarB,OAAOC,aAAamB,GACvC,OAAOZ,EAAMc,QAAQL,EAAWI,IAIlC,SAASE,EAATC,GAEG,IADDf,EACCe,EADDf,KAAMgB,EACLD,EADKC,aAAcC,EACnBF,EADmBE,aAAclB,EACjCgB,EADiChB,MAAOE,EACxCc,EADwCd,KAAMiB,EAC9CH,EAD8CG,SAEzCC,EAAoBT,EAAyBX,EAAOmB,GAE1D,OACEE,EAAAC,EAAAC,cAAA,OAAKC,UAAoB,aAATtB,EAAsB,iBAAmB,eACvDmB,EAAAC,EAAAC,cAAA,SACEE,QAASxB,EACTuB,UAAWP,EAAahB,IAEvBiB,EAAajB,EAAMmB,KAqE5B,IAAMM,EAAsB,CAC1BC,MAhEF,SAAAC,GAGG,IAFDJ,EAECI,EAFDJ,UAAWvB,EAEV2B,EAFU3B,KAAMC,EAEhB0B,EAFgB1B,KAAM2B,EAEtBD,EAFsBC,QACvBC,EACCF,EADDE,YAAa9B,EACZ4B,EADY5B,MAAOG,EACnByB,EADmBzB,OAAQ4B,EAC3BH,EAD2BG,OAAQd,EACnCW,EADmCX,aAAcC,EACjDU,EADiDV,aAAcC,EAC/DS,EAD+DT,SAAUf,EACzEwB,EADyExB,SAEpEgB,EAAoBT,EAAyBX,EAAOmB,GAE1D,OACEE,EAAAC,EAAAC,cAAA,MAAIS,IAAK/B,GACPoB,EAAAC,EAAAC,cAAA,SACEC,UAAWA,GAAa,eACxBQ,IAAK/B,EACLC,KAAMA,EACND,KAAMA,EACNgC,GAAIhC,EACJiC,SAAU,SAAAC,GAAE,OAAIN,EAAQM,IACxBC,aAAa,MACbN,YAAaA,GAAeV,GAAf,GAAAf,OAAuCJ,EAAvC,MAAAI,OAAgDH,EAAhD,KACbmC,aAAclC,GAAU,GACxBmC,eAA2B,QAAXnC,EAChBoC,OAAQ,SAAAC,GAAC,OAAIT,EAAOS,IACpBpC,SAAUA,IAAY,IAEvBW,EAAM,CACLd,OAAMgB,eAAcC,eAAclB,QAAOE,OAAMiB,eA0CrDsB,OAnCF,SAAAC,GAEG,IADDlB,EACCkB,EADDlB,UAAWvB,EACVyC,EADUzC,KAAMC,EAChBwC,EADgBxC,KAAM2B,EACtBa,EADsBb,QAAS7B,EAC/B0C,EAD+B1C,MAAOG,EACtCuC,EADsCvC,OAAQ4B,EAC9CW,EAD8CX,OAAQzB,EACtDoC,EADsDpC,QAASW,EAC/DyB,EAD+DzB,aAAcC,EAC7EwB,EAD6ExB,aAE9E,OACEG,EAAAC,EAAAC,cAAA,MAAIS,IAAK/B,GACPoB,EAAAC,EAAAC,cAAA,UACEhB,MAAOJ,EACPqB,UAAWA,GAAa,eACxBQ,IAAK/B,EACLA,KAAMA,EACNgC,GAAIhC,EACJiC,SAAU,SAAAC,GAAE,OAAIN,EAAQM,IACxBI,OAAQ,SAAAC,GAAC,OAAIT,EAAOS,KAEnBlC,EAAQqC,IACP,SAAAC,GAAG,OACDvB,EAAAC,EAAAC,cAAA,UACES,IAAKY,EAAIrC,MACTN,KAAM2C,EAAI3C,KACVM,MAAOqC,EAAIrC,OAEVqC,EAAI3C,SAKZc,EAAM,CACLd,OAAMgB,eAAcC,eAAclB,QAAOE,YClFzCyB,ED6FOD,EC7FPC,MAAOc,ED6FAf,EC7FAe,OAEf,SAASI,EAAT7B,GAAmD,IAA7B8B,EAA6B9B,EAA7B8B,OAAQ/C,EAAqBiB,EAArBjB,OAAQyB,EAAaR,EAAbQ,UACpC,OACEH,EAAAC,EAAAC,cAAA,MAAIC,UAAWA,GACZsB,EAAO/C,QA+ICgD,cAzIb,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KACDQ,MAAQ,CACXzD,OAAQiD,EAAMjD,OACd0D,SAAUT,EAAMS,UAElBR,EAAKS,QAAUT,EAAKS,QAAQC,KAAbT,OAAAU,EAAA,EAAAV,QAAAU,EAAA,EAAAV,CAAAD,KACfA,EAAKhC,aAAegC,EAAKhC,aAAa0C,KAAlBT,OAAAU,EAAA,EAAAV,QAAAU,EAAA,EAAAV,CAAAD,KACpBA,EAAKY,aAAeZ,EAAKY,aAAaF,KAAlBT,OAAAU,EAAA,EAAAV,QAAAU,EAAA,EAAAV,CAAAD,KACpBA,EAAKa,gBAAkBb,EAAKa,gBAAgBH,KAArBT,OAAAU,EAAA,EAAAV,QAAAU,EAAA,EAAAV,CAAAD,KACvBA,EAAKc,aAAed,EAAKc,aAAaJ,KAAlBT,OAAAU,EAAA,EAAAV,QAAAU,EAAA,EAAAV,CAAAD,KACpBA,EAAKe,WAAaf,EAAKe,WAAWL,KAAhBT,OAAAU,EAAA,EAAAV,QAAAU,EAAA,EAAAV,CAAAD,KAXDA,mFAeCG,KAAVJ,MACFiB,4CAGAC,EAAOlE,GAAO,IACZyD,EAAaL,KAAKI,MAAlBC,SACR,OAAOA,GAAYA,EAASS,GAASlE,GAASkE,EAAQ,wCAG3CA,GAAO,IACVT,EAAaL,KAAKI,MAAlBC,SACR,OAAOA,GAAYA,EAASS,GAAS,OAAS,+CAQ7C,IAGGC,EAPJjE,EAIC0B,EAJD1B,KACAK,EAGCqB,EAHDrB,MACA6D,EAECxC,EAFDwC,QACAnE,EACC2B,EADD3B,KAEQ+C,EAAiBI,KAAjBJ,MACAS,EADiBL,KAAVI,MACPC,SAER,OAAQvD,GACN,KAAKR,QAAMC,OACTwE,EAAME,OAAOC,MAAM/D,GAAS,EAAKgE,WAAWhE,IAAU,EACtD,MACF,KAAKb,QAAMG,SACTsE,EAAMC,EAAU,MAAQ,KACxB,MACF,QACED,EAAM5D,GAAS,GAEnByC,EAAMiB,UAAUhE,EAAMkE,GACtBf,KAAKoB,SAAS,CACZf,SAASP,OAAAuB,EAAA,EAAAvB,CAAA,GAAMO,EAAPP,OAAAwB,EAAA,EAAAxB,CAAA,GAAkBjD,EAAOkE,yCAI1B3B,GACTA,EAAEmC,iBADU,IAEJnB,EAAiBJ,KAAjBI,OAERoB,EAFyBxB,KAAVJ,MACP4B,QACDpB,EAAMC,UACbjB,EAAEqC,OAAOC,4CAGE/E,GAAQ,IAAAgF,EAAA3B,KACb4B,EAAa,GADAC,EAEc7B,KAAKJ,MAA9BkC,EAFWD,EAEXC,WAAYzB,EAFDwB,EAECxB,SAepB,OAdA1D,EAAOoF,QAAQ,SAACC,GACd,IAAMC,EAAEnC,OAAAuB,EAAA,EAAAvB,CAAA,GAAQkC,GAChBC,EAAGnE,aAAe,SAACoE,EAAGC,GAAJ,OAAUR,EAAKrB,QAAQ4B,EAAGC,IAC5CF,EAAGpE,aAAe,SAAAqE,GAAC,OAAIP,EAAK9D,aAAaqE,IACzCD,EAAGxD,QAAU,SAAAW,GAAC,OAAIuC,EAAKhB,aAAavB,EAAEqC,SACtCQ,EAAGtD,OAAS,SAAAS,GAAC,OAAIuC,EAAKhB,aAAavB,EAAEqC,SACrCQ,EAAGlE,SAAW+D,EACdG,EAAGlF,OAASsD,EAAS4B,EAAGpF,MACR,WAAZoF,EAAGnF,KACL8E,EAAWQ,KAAK/C,EAAO4C,IAEvBL,EAAWQ,KAAK7D,EAAM0D,MAGnBL,4CAGS,IACRxB,EAAUJ,KAAVI,MACFiC,EAAYC,KAAKC,MAAMnC,EAAMzD,OAAO6F,OAAS,GAC7CC,EAAOrC,EAAMzD,OAAO+F,MAAM,GAC1BC,EAAQF,EAAKG,OAAOP,GAE1B,MAAO,CACLpE,EAAAC,EAAAC,cAACsB,EAAD,CACEb,IAAI,IACJjC,OAAQ8F,EACRrE,UAAU,OACVsB,OAAQM,KAAKS,eAEfxC,EAAAC,EAAAC,cAACsB,EAAD,CACEb,IAAI,IACJjC,OAAQgG,EACRvE,UAAU,QACVsB,OAAQM,KAAKS,iDAKV,IAAAoC,EAMH7C,KAAKJ,MAJP/C,EAFKgG,EAELhG,KACAiG,EAHKD,EAGLC,QACAnG,EAJKkG,EAILlG,OAGIoG,EAPCF,EAKLG,SAGA/E,EAAAC,EAAAC,cAAA,MAAIC,UAAU,QACZH,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UACErB,KAAK,SACLsB,UAAU,2BACV6E,QAASjD,KAAKY,YAHhB,eASF,GAEJ,OACE3C,EAAAC,EAAAC,cAAA,QACEtB,KAAMA,EACNgC,GAAIhC,GAES,QAAZiG,EAAoB9C,KAAKU,kBAAoBV,KAAKS,aAAa9D,GAC/DoG,UApIUG,aCZbC,SAAW,SAAAvF,GAAA,IAAGhB,EAAHgB,EAAGhB,MAAOO,EAAVS,EAAUT,MAAV,OACfc,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAASxB,GACxBqB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAASjB,MAabiG,EATI,SAAA5E,GAAA,IAAG6E,EAAH7E,EAAG6E,KAAMxE,EAATL,EAASK,GAAT,OACjBZ,EAAAC,EAAAC,cAAA,UACGkF,EAAK9D,IAAI,SAAAD,EAAmBgE,GAAQ,IAAxB1G,EAAwB0C,EAAxB1C,MAAOO,EAAiBmC,EAAjBnC,MACZyB,EAAG,MAAA3B,OAAS4B,EAAT,KAAA5B,OAAeqG,GACxB,OAAOrF,EAAAC,EAAAC,cAACoF,EAAD,CAAU3E,IAAG,MAAA3B,OAAQ2B,GAAOhC,MAAOA,EAAOO,MAAOA,yBCTxDqG,EAAc,SAACpE,EAAGqE,GACtBrE,EAAEmC,iBACFkC,EAASrE,EAAEqC,OAAO5C,GAAG6E,MAAM,KAAK,KAK5BC,EAAqB,SAAA/F,GAAA,IAFVgG,EAGfhH,EADyBgB,EACzBhB,MACAO,EAFyBS,EAEzBT,MACA0G,EAHyBjG,EAGzBiG,SAHyB,OAKzB5F,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACbH,EAAAC,EAAAC,cAAA,UACEC,UAAU,2BACV0F,MAAO,CAAEC,MAAO,QAEhBjH,KAAK,SACL+B,GAAE,UAAA5B,OAAYE,GACd8F,QAAS,SAAA7D,GAAC,OAAIoE,EAAYpE,EAAG,SAACP,GAASmF,OAAOC,SAASC,KAAhB,IAAAjH,OAA2B4B,OANpE,GAAA5B,OAQML,EARN,MAAAK,QATW2G,EAiBczG,EAjBLgH,IAAW,iBAAkB,IAAIC,KAAKC,SAAST,EAAO,MAS1E,OAWF3F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAAA,UACEC,UAAU,iCACVtB,KAAK,SACL+B,GAAE,UAAA5B,OAAYE,GACd8F,QAAS,SAAA7D,GAAC,OAAIoE,EAAYpE,EAAGyE,KAJ/B,aAkCSS,EAtBQ,SAAA9F,GAAkC,IAA/B6E,EAA+B7E,EAA/B6E,KAAMQ,EAAyBrF,EAAzBqF,SAAUU,EAAe/F,EAAf+F,SACxC,OAAIlB,EAAK9D,IAELtB,EAAAC,EAAAC,cAAA,UACGkF,EAAK9D,IAAI,SAAAD,EAAsBgE,GAAQ,IAA3BkB,EAA2BlF,EAA3BkF,YAAa3F,EAAcS,EAAdT,GAClBD,EAAG,MAAA3B,OAAS4B,EAAT,KAAA5B,OAAeqG,GACxB,OACErF,EAAAC,EAAAC,cAACsG,EAAD,CACEZ,SAAUA,EACVjF,IAAG,MAAA3B,OAAQ2B,GACXhC,MAAO4H,GAAe,WACtBrH,MAAO0B,EACP0F,SAAUA,OAOf,qBCvBMG,EAtCY,SAAC3D,EAAK4D,GAC/B,IAIIC,EACAC,EACAhJ,EANEiJ,EAAmB/D,EAAM,IACzBgE,EAAQC,IAAUL,GAEpBM,EAAM,EAKV,IAAKN,EAAU,OAAO,EAEtB,IAAK,IAAIO,EAAM,EAAGA,EAAMH,EAAMvC,OAAQ0C,GAAO,EAAG,CAC9CrJ,EAAOkJ,EAAMG,GAAKrJ,MAAQ,EAE1B+I,EAAYG,EAAMG,GAAKxJ,KAHuB,IAItCC,EAASoJ,EAAMG,GAAfvJ,KAGR,GAFAkJ,EAAoBK,EAAM,EAAIH,EAAMG,EAAM,GAAGxJ,KAAO,EAElC,QAAdkJ,EAEF,OADAK,IAASH,EAAmBD,EAAoB,MAASlJ,EAAOE,GAGlE,GAAIkF,GAAO6D,EAMT,OAJEK,GADU,IAARC,EACMJ,GAAmBnJ,EAAOE,IAEzBiJ,EAAmBD,EAAoB,MAASlJ,EAAOE,GAKpEoJ,IAASL,EAAYC,GAAqB,KAAOlJ,EAAOE,GAI1D,OAAOoJ,GCbME,EAtBO,SACpBC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAIA,OACEN,EACEC,EACAC,EACAC,EACAC,EAPcd,EAAmBe,EAAeC,GAShDD,GCgBSE,EApCQ,CACrB,qBACA,qBACA,kBACA,WACA,YACA,gBACA,iBACA,2BACA,MACA,qBACA,yBAyBaA,EAtBc,CAC3B,mBACA,UACA,aACA,oBACA,qBACA,iBACA,cAeaA,EAZI,CACjB,aACA,gBACA,oBACA,sBACA,WAOaA,EAJM,CACnB,cACA,gBCjBaC,EATM,CACnBC,SCNe,SAAAjI,GAkBX,IAjBJkI,EAiBIlI,EAjBJkI,YACAL,EAgBI7H,EAhBJ6H,cACAM,EAeInI,EAfJmI,YACAC,EAcIpI,EAdJoI,4BACAC,EAaIrI,EAbJqI,YACAC,EAYItI,EAZJsI,WACAC,EAWIvI,EAXJuI,cACAZ,EAUI3H,EAVJ2H,WACAC,EASI5H,EATJ4H,UACAE,EAQI9H,EARJ8H,cACAU,EAOIxI,EAPJwI,cACAC,EAMIzI,EANJyI,uBACAC,EAKI1I,EALJ0I,mBACAhB,EAII1H,EAJJ0H,gBACAD,EAGIzH,EAHJyH,aACAD,EAEIxH,EAFJwH,iBACAmB,EACI3I,EADJ2I,eAEMC,EAAYV,EAAc,IAC1BW,EAAoBnE,KAAKoE,MAAMX,EAAcS,GAC7CG,EAAoBrE,KAAKoE,MAAMX,GAAe,EAAIS,IAClDI,EAA4BtE,KAC/BoE,MAAMD,EAAoBT,EAA8B,MACrDa,EAAyB,QAAnBN,EAA2B,EAAKN,EAAcC,EAAa,IACjEY,EAAoBb,EAAcE,EAAgB,IAClDY,EAAsBd,GAAkC,QAAnBM,EAA2B,EAAIM,GAAOD,EAA4BE,EAGvGE,EAAiBZ,EAAgBC,EAAyBC,EAE1DW,EADc3B,EAAkBD,EAAeD,GAH7BG,EAAaC,GACnBd,EAAmBe,EAAeC,GAGYD,EAC1DyB,EAASC,EAEf,MAAO,CACL,CAAEvK,MAAOsK,EAAO,GAAI/J,MAAOsJ,EAAkBW,QAAQ,IACrD,CAAExK,MAAOsK,EAAO,GAAI/J,MAAOwJ,EAAkBS,QAAQ,IACrD,CAAExK,MAAOsK,EAAO,GAAI/J,MAAO6J,EAAeI,QAAQ,IAClD,CAAExK,MAAOsK,EAAO,GAAI/J,MAAO8J,EAAYG,QAAQ,IAC/C,CAAExK,MAAOsK,EAAO,GAAI/J,OAAQsJ,EAAoBO,GAAgBI,QAAQ,IACxE,CAAExK,MAAOsK,EAAO,GAAI/J,OAAQ8J,GAAeR,EAAoBO,IAAiBI,QAAQ,IACxF,CAAExK,MAAOsK,EAAO,GAAI/J,MAAO8I,EAAYmB,QAAQ,IAC/C,CAAExK,MAAOsK,EAAO,GAAI/J,MAAOyJ,EAA0BQ,QAAQ,IAC7D,CAAExK,MAAOsK,EAAO,GAAI/J,MAAO0J,EAAIO,QAAQ,IACvC,CAAExK,MAAOsK,EAAO,GAAI/J,MAAO2J,EAAkBM,QAAQ,IACrD,CAAExK,MAAOsK,EAAO,IAAK/J,MAAO4J,EAAoBK,QAAQ,MDtC1DC,eENqB,SAAAzJ,GAUjB,IATJ0J,EASI1J,EATJ0J,WACAC,EAQI3J,EARJ2J,mBACA9B,EAOI7H,EAPJ6H,cACAL,EAMIxH,EANJwH,iBACAC,EAKIzH,EALJyH,aACAC,EAII1H,EAJJ0H,gBACAC,EAGI3H,EAHJ2H,WACAC,EAEI5H,EAFJ4H,UACAE,EACI9H,EADJ8H,cAEM8B,EAAwB,QAAfF,EACTd,EAAYe,EAAqB,IACjCE,EAAsBD,EAAS,EAAIlF,KAAKoE,MAAMjB,EAAgBe,GAC9DkB,EAAWtC,EAAmBC,EAAeC,EAC7CqC,EAAQpC,EAAaC,EACrBoC,EAAiBJ,EAAS/B,EAAgBnD,KAAKoE,MAAMjB,GAAiB,EAAIe,IAC1EqB,EAAYnD,EAAmBe,EAAeC,GAC9CoC,EAAU3C,EAAcC,EAAkBC,EAAcC,EAC5DC,EAAYC,EAAWC,EAAeC,GAClCqC,EAAQD,EAAUL,EAClBP,EAASC,EAEf,MAAO,CACL,CAAEvK,MAAOsK,EAAO,GAAI/J,MAAOsK,EAAoBL,QAAQ,IACvD,CAAExK,MAAOsK,EAAO,GAAI/J,MAAOyK,EAAeR,QAAQ,IAClD,CAAExK,MAAOsK,EAAO,GAAI/J,MAAO0K,EAAUT,QAAQ,IAC7C,CAAExK,MAAOsK,EAAO,GAAI/J,MAAOuK,EAASN,QAAQ,IAC5C,CAAExK,MAAOsK,EAAO,GAAI/J,MAAOwK,EAAMP,QAAQ,IACzC,CAAExK,MAAOsK,EAAO,GAAI/J,MAAO4K,EAAMX,QAAQ,IACzC,CAAExK,MAAOsK,EAAO,GAAI/J,MAAO2K,EAAQV,QAAQ,MFvB7CY,KGRW,SAAApK,GAWP,IAVJqK,EAUIrK,EAVJqK,gBACAC,EASItK,EATJsK,gBACA9C,EAQIxH,EARJwH,iBACAC,EAOIzH,EAPJyH,aACAC,EAMI1H,EANJ0H,gBACAC,EAKI3H,EALJ2H,WACAC,EAII5H,EAJJ4H,UACAC,EAGI7H,EAHJ6H,cACAC,EAEI9H,EAFJ8H,cACAK,EACInI,EADJmI,YAEM+B,EAAU3C,EAAcC,EAAkBC,EAAcC,EAC5DC,EAAYC,EAAWC,EAAeC,GAElCyC,EAAOF,EAAkBC,EACzBE,EAAW9F,KAAKoE,OAAOX,EAAc+B,GAAWA,EAAU,KAAS,IACnEO,EAAOD,GAAY,GAAM,QAAU,MACnClB,EAASC,EAEf,MAAO,CACL,CAAEvK,MAAOsK,EAAO,GAAI/J,MAAO4I,EAAYqB,QAAQ,IAC/C,CAAExK,MAAOsK,EAAO,GAAI/J,MAAOgL,EAAKf,QAAQ,IACxC,CAAExK,MAAOsK,EAAO,GAAI/J,MAAO2K,EAAQV,QAAQ,IAAM,KACjD,CAAExK,MAAOsK,EAAO,GAAI/J,OAAS4I,GAAe+B,EAAUK,IAAOf,QAAQ,IAAM,IAAMiB,OACjF,CAAEzL,MAAOsK,EAAO,GAAI/J,MAAOiL,EAAShB,QAAQ,IAAM,EAAGiB,SHhBvDlD,gBACAmD,WIXiB,SAAA1K,GAMb,IALJmI,EAKInI,EALJmI,YACAE,EAIIrI,EAJJqI,YACAH,EAGIlI,EAHJkI,YACAyC,EAEI3K,EAFJ2K,kCACAC,EACI5K,EADJ4K,6BAEMC,EAAUnG,KAAKoG,KACnB3C,EACED,EAAc,IACdyC,EAAoC,KACpCC,EAA+B,KAE7BG,EAAO1C,GAAewC,EACtBvB,EAASC,EAEf,MAAO,CACL,CAAEvK,MAAOsK,EAAO,GAAI/J,MAAOwL,EAAO,OAAS,QAC3C,CAAE/L,MAAOsK,EAAO,GAAI/J,MAAOsL,EAAQrB,QAAQ,MJN7CwB,gBARsB,SAAAhL,GAAA,MAA0C,YAA1CA,EAAG8H,cAAmD,KAAO,MKL/EmD,EAAgB,qbAIPC,EAFU,SAAAC,GAAQ,OAAIF,EAAcG,KAAKD,EAASE,kBCQxBjF,OAAOC,aAAxCiF,sBAAW,SAAIC,sBAAW,KAC5BC,EAAU,yBAAyBJ,KAAKE,GACxCG,EAAU,kBAAkBL,KAAKG,GAAY,oBAAsB,IAEnEG,EACSC,gCADTD,EAEGC,yGAFHD,EAGIC,8GAHJD,EAIKC,2CAoSIC,cA5Rb,SAAAA,EAAY5J,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAwJ,IACjB3J,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA0J,GAAArJ,KAAAH,KAAMJ,KACDQ,MAAQ,CACXiD,KAAM,CACJoG,YAAa,GACbC,SAAU,GACVC,OAAQ,GACR3B,KAAM,IAERrL,gBACAoB,SAAU,IACV6L,YAAa,CAAEC,MAAO,IACtBC,aAAc,KACdC,eAAe,GAEjBlK,EAAKmK,UAAYnK,EAAKmK,UAAUzJ,KAAfT,OAAAU,EAAA,EAAAV,QAAAU,EAAA,EAAAV,CAAAD,KACjBA,EAAKgB,UAAYhB,EAAKgB,UAAUN,KAAfT,OAAAU,EAAA,EAAAV,QAAAU,EAAA,EAAAV,CAAAD,KACjBA,EAAKoK,mBAAqBpK,EAAKoK,mBAAmB1J,KAAxBT,OAAAU,EAAA,EAAAV,QAAAU,EAAA,EAAAV,CAAAD,KAC1BA,EAAKqK,UAAYrK,EAAKqK,UAAU3J,KAAfT,OAAAU,EAAA,EAAAV,QAAAU,EAAA,EAAAV,CAAAD,KACjBA,EAAKsK,YAActK,EAAKsK,YAAY5J,KAAjBT,OAAAU,EAAA,EAAAV,QAAAU,EAAA,EAAAV,CAAAD,KAnBFA,8EAJF+J,EAAaQ,GAC5B,OAAOR,EAAYC,MAAMQ,KAAK,SAAAjK,GAAK,OAAIA,EAAMvB,KAAOuL,iEA0BhDhB,EACFpJ,KAAKsK,iBAELtK,KAAKuK,qDAIM1L,GAAI,IAAA8C,EAAA3B,KACjB,GAAKsJ,GAAyC,KAArBA,EAElB,CACL,IAAMkB,EAAkBrB,EAASsB,OAAO,IAAM,GAC9CC,MAAMpB,GACHqB,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAACtH,GACL,GAAKxE,GAA0B,KAApB2L,EAMJ,CACL,IAAMM,EAActB,EAAIuB,UAAU1H,EAAOmH,GAAmB3L,GACvDiM,EAEMjM,GAAM2L,IAAoB3L,EACnCmF,OAAOC,SAAWoF,EAAUxK,EAE5B8C,EAAKP,SAAS,CACZwI,YAAavG,EACb0G,eAAe,EACfD,aAAcgB,GAAenJ,EAAKsI,uBAPpCjG,OAAOC,SAAWoF,OARpB1H,EAAKP,SAAS,CACZwI,YAAavG,EACb0G,eAAe,EACfD,aAAcnI,EAAKsI,yBAiBxBe,MAAM,WACmB,KAApBR,EACFxG,OAAOC,SAAWoF,EAElB1H,EAAK4I,aAAY,UA/BvBvK,KAAKuK,2DAsCP,IAAMU,EAAW,GAMjB,OALkBjL,KAAVI,MACFzD,OAAO4C,IAAI,SAAC0C,GAEhB,OADAgJ,EAAShJ,EAAGpF,MAAQoF,EAAGlF,QAChB,IAEFkO,wCAIPjL,KAAKoB,SAAS,CACZwI,YAAa,CAAEC,MAAO,IACtBC,aAAc9J,KAAKiK,qBACnBF,eAAe,sCAKTmB,EAAcC,GAAU,IACxBrB,EAAiB9J,KAAKI,MAAtB0J,aACFsB,EAAaF,EAADpL,OAAAuB,EAAA,EAAAvB,CAAA,GACTgK,EADShK,OAAAwB,EAAA,EAAAxB,CAAA,GACMoL,EAAeC,IAAarB,EAC9CL,EAAc7D,EAAayB,eAAe+D,GAC1C1B,EAAW9D,EAAaC,SAASuF,GACjCpD,EAAOpC,EAAaoC,KAAKoD,GACzBzB,EAAS/D,EAAa0C,WAAW8C,GACjC3N,EAAamI,EAAagD,gBAAgBwC,GAEhDC,SAASC,eAAe,aAAaC,KAAOH,EAAU5G,YAAY9G,QAAQ,KAAM,KAEhFsC,KAAKoB,SAAS,CACZiC,KAAM,CACJoG,cACAC,WACAC,SACA3B,QAEFjK,SAAUN,EACVqM,aAAcsB,wCAIN,IAAAI,EACqBxL,KAAKI,MAA5BiD,EADEmI,EACFnI,KAAMyG,EADJ0B,EACI1B,aAEZf,EAIEe,EAJFf,SACA0C,EAGE3B,EAHF2B,YACAxF,EAEE6D,EAFF7D,YACAR,EACEqE,EADFrE,cAGAgE,EAIEpG,EAJFoG,YACAC,EAGErG,EAHFqG,SACAC,EAEEtG,EAFFsG,OACA3B,EACE3E,EADF2E,KAEM0D,EAA8B,IAAxBC,EAA2C,IACnDC,EAAWtJ,KACdoG,MAAM+C,GAAehG,GAAiB,KAAUkG,EAAc,KAAOA,EAClEE,EAAUvJ,KAAKoG,MAAMzC,GAAeyF,GAAQA,EAAO,KAAOA,EAC1DI,EAAS/C,GAAYD,EAAiBC,GAC1C9K,EAAAC,EAAAC,cAACF,EAAAC,EAAM6N,SAAP,KACE9N,EAAAC,EAAAC,cAAA,KACEsD,OAAO,SACPuK,IAAI,sBACJ9H,KAAMoF,EAAeP,GAHvB,aAOC,MACD9K,EAAAC,EAAAC,cAAA,KACEsD,OAAO,SACPuK,IAAI,sBACJ9H,KAAI,GAAAjH,OAAKqM,EAAaP,EAAlB,cAAA9L,OAAwC2O,IAH9C,YAOC,MACD3N,EAAAC,EAAAC,cAAA,KACEsD,OAAO,SACPuK,IAAI,sBACJ9H,KAAI,GAAAjH,OAAKqM,EAAcP,EAAnB,cAAA9L,OAAwC4O,IAH9C,YAQA5N,EAAAC,EAAAC,cAAA,QAAM2F,MAAO,CAAEmI,MAAO,MAAOC,UAAW,WAAxC,gDACJ,OACEjO,EAAAC,EAAAC,cAACF,EAAAC,EAAM6N,SAAP,KACE9N,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,sCACC2N,GAEH7N,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAACgO,EAAD,CAAYtN,GAAG,IAAIwE,KAAMoG,KAE3BxL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,wBACAF,EAAAC,EAAAC,cAACgO,EAAD,CAAYtN,GAAG,IAAIwE,KAAMqG,KAE3BzL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,yBACAF,EAAAC,EAAAC,cAACgO,EAAD,CAAYtN,GAAG,IAAIwE,KAAMsG,KAE3B1L,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,kBACAF,EAAAC,EAAAC,cAACgO,EAAD,CAAYtN,GAAG,IAAIwE,KAAM2E,0CAMrB,IAAAoE,EAAApM,KACF8J,EAAiB9J,KAAKI,MAAtB0J,aACAtF,EAA0BsF,EAA1BtF,YAAauE,EAAae,EAAbf,SACD,KAAhBvE,GAAmC,KAAbuE,GAG1B2B,MAAMpB,EAAkB,CACtB+C,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU7C,KAEpBa,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAA/M,GAAY,IAATiB,EAASjB,EAATiB,GACPuN,EAAK9B,eAAezL,KAErBmM,MAAM,kBAAMoB,EAAKhL,SAAS,CAAEwI,YAAa,CAAEC,MAAO,kCAClD+C,QAAQ,WACPR,EAAKhL,SAAS,CAAEyL,MAAO,6CAIjBzC,GAAS,IAAA0C,EAAA9M,KACnB0K,MAAMpB,EAAkB,CACtB+C,OAAQ,SACRC,QAAS,CACPC,OAAQ,mBACRC,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CAAE9N,GAAIuL,MAE1BO,KAAK,SAACoC,GACL,IAAIA,EAAKC,GAGP,MAAM,IAAIC,MAAM,iBAFhBH,EAAKxC,mBAINU,MAAM,kBAAM8B,EAAK1L,SAAS,CAAEwI,YAAa,CAAEC,MAAO,qEAGhD,IAAAqD,EAOHlN,KAAKI,MALPrC,EAFKmP,EAELnP,SACA6L,EAHKsD,EAGLtD,YACAE,EAJKoD,EAILpD,aACAC,EALKmD,EAKLnD,cACA8C,EANKK,EAMLL,MAEMhD,EAAUD,EAAVC,MACFsD,EACJlP,EAAAC,EAAAC,cAACiP,EAAD,CACE/J,KAAMwG,EACNhG,SAAU7D,KAAKmK,cAGbkD,EAAYxD,EAAQsD,EAAiB,GACrCG,EAAYlE,GAAwC,MAA7BpF,OAAOC,SAASkF,SAEzClL,EAAAC,EAAAC,cAAA,MAAIC,UAAU,SACZH,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UACErB,KAAK,SACLsB,UAAU,2BACV6E,QAAS,WAAQe,OAAOC,SAASC,KAAO,MAH1C,SAUJ,GAEJ,OAAO4F,EACL7L,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAAS0F,MAAO,CAAEyJ,UAAW,WAC1CtP,EAAAC,EAAAC,cAAA,+CACAF,EAAAC,EAAAC,cAACqP,EAAD,CACE3Q,KAAK,WACLF,OAAQA,SACR0D,SAAUyJ,EACVhH,QAAQ,MACRjC,UAAWb,KAAKa,UAChBiB,WAAY/D,EACZyD,OAAQxB,KAAKkK,UACblH,SAAU+G,EACV8C,MAAOA,IAERS,GAEHrP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACZ4B,KAAKgK,aAER/L,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACZiP,IAGH,UA9RUnK,aCVEuK,QACW,cAA7BzJ,OAAOC,SAASiF,UAEe,UAA7BlF,OAAOC,SAASiF,UAEhBlF,OAAOC,SAASiF,SAASwE,MACvB,iECTNC,IAASjO,OAAOzB,EAAAC,EAAAC,cAACyP,EAAD,MAASvC,SAASC,eAAe,SDwH3C,kBAAmBuC,WACrBA,UAAUC,cAAcC,MAAMpD,KAAK,SAAAqD,GACjCA,EAAaC","file":"static/js/main.7238c5a6.chunk.js","sourcesContent":["const bands = {\n\n  commercial: [\n    { upto: 150000, rate: 0 },\n    { upto: 250000, rate: 2 },\n    { upto: 'end', rate: 5 },\n  ],\n\n  residential: [\n    { upto: 125000, rate: 0, load: 3 },\n    { upto: 250000, rate: 2, load: 3 },\n    { upto: 925000, rate: 5, load: 3 },\n    { upto: 1500000, rate: 10, load: 3 },\n    { upto: 'end', rate: 12, load: 3 },\n  ],\n\n  ireland: [\n    { upto: 1000000, rate: 1 },\n    { upto: 'end', rate: 2 },\n  ],\n\n  residentialWales: [\n    { upto: 180000, rate: 0, load: 3 },\n    { upto: 250000, rate: 3.5, load: 3 },\n    { upto: 400000, rate: 5, load: 3 },\n    { upto: 750000, rate: 7.5, load: 3 },\n    { upto: 1500000, rate: 10, load: 3 },\n    { upto: 'end', rate: 12, load: 3 },\n  ],\n\n  commercialWales: [\n    { upto: 150000, rate: 0 },\n    { upto: 250000, rate: 1 },\n    { upto: 1000000, rate: 5 },\n    { upto: 'end', rate: 6 },\n  ],\n\n  residentialScotland: [\n    { upto: 145000, rate: 0, load: 3 },\n    { upto: 250000, rate: 2, load: 3 },\n    { upto: 325000, rate: 5, load: 3 },\n    { upto: 750000, rate: 10, load: 3 },\n    { upto: 'end', rate: 12, load: 3 },\n  ],\n\n  commercialScotland: [\n    { upto: 150000, rate: 0 },\n    { upto: 250000, rate: 1 },\n    { upto: 'end', rate: 5 },\n  ],\n};\n\nmodule.exports = bands;\n","const currencyPlaceholder = '##CURR##';\nconst percentSign = String.fromCharCode(37);\nconst types = {\n  NUMBER: 'number',\n  TEXT: 'text',\n  CHECKBOX: 'checkbox',\n  SELECT: 'select',\n};\n\nconst fields = [\n  {\n    label: 'Project name',\n    name: 'projectName',\n    type: types.TEXT,\n    defVal: '',\n    required: true,\n  },\n  {\n    label: 'Post code',\n    name: 'postCode',\n    type: types.TEXT,\n    defVal: '',\n    required: true,\n  },\n  {\n    label: `Asking price(${currencyPlaceholder})`,\n    name: 'askingPrice',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Purchase price(${currencyPlaceholder})`,\n    name: 'propertyValue',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Done up value(${currencyPlaceholder})`,\n    name: 'doneUpValue',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Monthly rent(${currencyPlaceholder})`,\n    name: 'monthlyRent',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: 'Cash purchase',\n    name: 'buyingCash',\n    type: types.CHECKBOX,\n    defVal: 'no',\n  },\n  {\n    label: `Initial LTV(${percentSign})`,\n    name: 'initialLoanToValue',\n    type: types.NUMBER,\n    defVal: 75,\n  },\n  {\n    label: `Surveyors fee(${currencyPlaceholder})`,\n    name: 'initSurveyorsFee',\n    type: types.NUMBER,\n    defVal: 600,\n  },\n  {\n    label: `Mortgage fee(${currencyPlaceholder})`,\n    name: 'initMortgageFee',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Legal fees(${currencyPlaceholder})`,\n    name: 'initLegalFee',\n    type: types.NUMBER,\n    defVal: 1500,\n  },\n  {\n    label: 'Stamp duty',\n    name: 'stampDutyType',\n    type: types.SELECT,\n    options: [\n      { value: 'residential', name: 'Residential Eng/NI' },\n      { value: 'commercial', name: 'Commercial Eng/NI' },\n      { value: 'residentialWales', name: 'Residential Wales' },\n      { value: 'commercialWales', name: 'Commercial Wales' },\n      { value: 'residentialScotland', name: 'Residential Scotland' },\n      { value: 'commercialScotland', name: 'Commercial Scotland' },\n      { value: 'ireland', name: 'Ireland' },\n    ],\n    defVal: 'residential',\n  },\n  {\n    label: `Refurbishment cost(${currencyPlaceholder})`,\n    name: 'refurbCost',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Other cost(${currencyPlaceholder})`,\n    name: 'otherCost',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Remortgage fee(${currencyPlaceholder})`,\n    name: 'remortgageFee',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Remortgage valuation fee(${currencyPlaceholder})`,\n    name: 'remortgageValuationFee',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Remortgage legal fees(${currencyPlaceholder})`,\n    name: 'remortgageLegalFee',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Letting agents rate(${percentSign})`,\n    name: 'agentsPercent',\n    type: types.NUMBER,\n    defVal: 10,\n  },\n  {\n    label: `\n    MOE rate(${percentSign})`,\n    name: 'moePercent',\n    type: types.NUMBER,\n    defVal: 15,\n  },\n  {\n    label: 'Repairing lease',\n    name: 'repairingLease',\n    type: types.CHECKBOX,\n    defVal: 'no',\n  },\n  {\n    label: `Interest rate(${percentSign})`,\n    name: 'mortgageInterestRatePercent',\n    type: types.NUMBER,\n    defVal: 6.0,\n  },\n  {\n    label: `Remortgage LTV(${percentSign})`,\n    name: 'loanToValue',\n    type: types.NUMBER,\n    defVal: 75,\n  },\n  {\n    label: `Solicitors selling fee(${currencyPlaceholder})`,\n    name: 'sellingLegalFee',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Agent/selling fee(${currencyPlaceholder})`,\n    name: 'agentSellingFee',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Mortgage stress test(${percentSign})`,\n    name: 'mortgageStressMultipePercent',\n    type: types.NUMBER,\n    defVal: 125,\n  },\n  {\n    label: `Stress interest rate(${percentSign})`,\n    name: 'mortgageStressInterestRatePercent',\n    type: types.NUMBER,\n    defVal: 5.0,\n  },\n];\n\nmodule.exports = {\n  fields,\n  currencyPlaceholder,\n  types,\n};\n","// stateless component Input. Currently handles types text, number, checkbox\n// passed through props\n/* eslint react/prop-types: 0 */\nimport React from 'react';\nimport { currencyPlaceholder } from './formconfig';\n\nconst currRegEx = new RegExp(currencyPlaceholder, 'g');\n\nconst addCurrencySymbolToLabel = (label, currencyCode) => {\n  const currSymbol = String.fromCharCode(currencyCode);\n  return label.replace(currRegEx, currSymbol);\n};\n\n// stateless component Label\nfunction Label({\n  name, doLabelClass, dynamicLabel, label, type, currency,\n}) {\n  const labelWithCurrency = addCurrencySymbolToLabel(label, currency);\n\n  return (\n    <div className={type === 'checkbox' ? 'checkbox-label' : 'input-label'}>\n      <label\n        htmlFor={name}\n        className={doLabelClass(name)}\n      >\n        {dynamicLabel(name, labelWithCurrency)}\n      </label>\n    </div>\n  );\n}\n\nfunction Input({\n  className, name, type, onInput,\n  placeholder, label, defVal, onblur, doLabelClass, dynamicLabel, currency, required,\n}) {\n  const labelWithCurrency = addCurrencySymbolToLabel(label, currency);\n\n  return (\n    <li key={name}>\n      <input\n        className={className || 'form-control'}\n        key={name}\n        type={type}\n        name={name}\n        id={name}\n        onChange={ev => onInput(ev)}\n        autoComplete=\"off\"\n        placeholder={placeholder || labelWithCurrency || `${name} [${type}]`}\n        defaultValue={defVal || ''}\n        defaultChecked={defVal === 'yes'}\n        onBlur={e => onblur(e)}\n        required={required || false}\n      />\n      {Label({\n        name, doLabelClass, dynamicLabel, label, type, currency,\n      })}\n    </li>\n  );\n}\n\n// stateless component Select\nfunction Select({\n  className, name, type, onInput, label, defVal, onblur, options, doLabelClass, dynamicLabel,\n}) {\n  return (\n    <li key={name}>\n      <select\n        value={defVal}\n        className={className || 'form-control'}\n        key={name}\n        name={name}\n        id={name}\n        onChange={ev => onInput(ev)}\n        onBlur={e => onblur(e)}\n      >\n        {options.map(\n          opt => (\n            <option\n              key={opt.value}\n              name={opt.name}\n              value={opt.value}\n            >\n              {opt.name}\n            </option>\n          ),\n        )}\n      </select>\n      {Label({\n        name, doLabelClass, dynamicLabel, label, type,\n      })}\n    </li>\n  );\n}\n\nconst StatelessComponents = {\n  Input,\n  Select,\n};\n\nexport default StatelessComponents;\n","/* eslint react/prop-types: 0 */\n/* eslint-env browser */\nimport React, { Component } from 'react';\nimport StatelessComponents from './StatelessFormComponents';\nimport { types } from './formconfig';\n\nconst { Input, Select } = StatelessComponents;\n\nfunction FormColumn({ render, fields, className }) {\n  return (\n    <ul className={className}>\n      {render(fields)}\n    </ul>\n  );\n}\n\nclass Form extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      fields: props.fields,\n      formData: props.formData,\n    };\n    this.doLabel = this.doLabel.bind(this);\n    this.doLabelClass = this.doLabelClass.bind(this);\n    this.renderFields = this.renderFields.bind(this);\n    this.renderFieldCols = this.renderFieldCols.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSave = this.handleSave.bind(this);\n  }\n\n  componentDidMount() {\n    const { props } = this;\n    props.calculate();\n  }\n\n  doLabel(fname, label) {\n    const { formData } = this.state;\n    return formData && formData[fname] ? label || fname : '';\n  }\n\n  doLabelClass(fname) {\n    const { formData } = this.state;\n    return formData && formData[fname] ? 'show' : 'hide';\n  }\n\n  handleChange({\n    type,\n    value,\n    checked,\n    name,\n  }) {\n    const { props, state } = this;\n    const { formData } = state;\n    let val;\n    switch (type) {\n      case types.NUMBER:\n        val = Number.isNaN(value) ? 0 : (parseFloat(value) || 0);\n        break;\n      case types.CHECKBOX:\n        val = checked ? 'yes' : 'no';\n        break;\n      default:\n        val = value || '';\n    }\n    props.calculate(name, val);\n    this.setState({\n      formData: { ...formData, [name]: val },\n    });\n  }\n\n  handleSave(e) {\n    e.preventDefault();\n    const { state, props } = this;\n    const { onsave } = props;\n    onsave(state.formData);\n    e.target.blur();\n  }\n\n  renderFields(fields) {\n    const formFields = [];\n    const { currsymbol, formData } = this.props;\n    fields.forEach((field) => {\n      const ob = { ...field };\n      ob.dynamicLabel = (n, l) => this.doLabel(n, l);\n      ob.doLabelClass = n => this.doLabelClass(n);\n      ob.onInput = e => this.handleChange(e.target);\n      ob.onblur = e => this.handleChange(e.target);\n      ob.currency = currsymbol;\n      ob.defVal = formData[ob.name];\n      if (ob.type === 'select') {\n        formFields.push(Select(ob));\n      } else {\n        formFields.push(Input(ob));\n      }\n    });\n    return formFields;\n  }\n\n  renderFieldCols() {\n    const { state } = this;\n    const arrLength = Math.floor(state.fields.length / 2);\n    const left = state.fields.slice(0);\n    const right = left.splice(arrLength);\n\n    return [\n      <FormColumn\n        key=\"1\"\n        fields={left}\n        className=\"left\"\n        render={this.renderFields}\n      />,\n      <FormColumn\n        key=\"2\"\n        fields={right}\n        className=\"right\"\n        render={this.renderFields}\n      />,\n    ];\n  }\n\n  render() {\n    const {\n      name,\n      twocols,\n      fields,\n      showsave,\n    } = this.props;\n    const button = showsave ? (\n      <ul className=\"left\">\n        <li>\n          <button\n            type=\"submit\"\n            className=\"btn-primary form-control\"\n            onClick={this.handleSave}\n          >\n            save this\n          </button>\n        </li>\n      </ul>\n    ) : '';\n\n    return (\n      <form\n        name={name}\n        id={name}\n      >\n        {twocols === 'yes' ? this.renderFieldCols() : this.renderFields(fields)}\n        {button}\n      </form>\n    );\n  }\n}\n\nexport default Form;\n","/* eslint react/prop-types: 0 */\n// eslint-disable-next-line\nimport React, { Component } from 'react';\n\nconst ListItem = ({ label, value }) => (\n  <li>\n    <div className=\"label\">{label}</div>\n    <div className=\"value\">{value}</div>\n  </li>\n);\n\nconst ResultList = ({ data, id }) => (\n  <ul>\n    {data.map(({ label, value }, ind) => {\n      const key = `li-${id}-${ind}`;\n      return <ListItem key={`li-${key}`} label={label} value={value} />;\n    })}\n  </ul>\n);\n\nexport default ResultList;\n","/* eslint-env browser */\n/* eslint react/prop-types: 0 */\n// eslint-disable-next-line\nimport React, { Component } from 'react';\nimport dateFormat from 'date-format';\n\nconst handleClick = (e, callback) => {\n  e.preventDefault();\n  callback(e.target.id.split('-')[1]);\n};\n\nconst showDate = milis => dateFormat('dd/MM hh:mm:ss', new Date(parseInt(milis, 0)));\n\nconst SavedStateListItem = ({\n  label,\n  value,\n  ondelete,\n}) => (\n  <li>\n    <div className=\"state\">\n      <button\n        className=\"btn-primary form-control\"\n        style={{ width: '100%' }}\n        // href={value}\n        type=\"submit\"\n        id={`select-${value}`}\n        onClick={e => handleClick(e, (id) => { window.location.href = `/${id}`; })}\n      >\n        {`${label} (${showDate(value)})`}\n      </button>\n    </div>\n    <div className=\"remove-state\">\n      <button\n        className=\"btn-sm btn-primary btn-warning\"\n        type=\"submit\"\n        id={`delete-${value}`}\n        onClick={e => handleClick(e, ondelete)}\n      >\n        delete\n      </button>\n    </div>\n  </li>\n);\n\nconst SavedStateList = ({ data, ondelete, onselect }) => {\n  if (data.map) {\n    return (\n      <ul>\n        {data.map(({ projectName, id }, ind) => {\n          const key = `li-${id}-${ind}`;\n          return (\n            <SavedStateListItem\n              ondelete={ondelete}\n              key={`li-${key}`}\n              label={projectName || 'untitled'}\n              value={id}\n              onselect={onselect}\n            />\n          );\n        })}\n      </ul>\n    );\n  }\n  return '';\n};\n\nexport default SavedStateList;\n","import sdltBands from './stampduty-bands';\n\nconst calculateStampDuty = (val, sdltType) => {\n  const onePercentOfVal = (val / 100);\n  const bands = sdltBands[sdltType];\n\n  let tax = 0;\n  let bandLimit;\n  let previousBandLimit;\n  let load;\n\n  if (!sdltType) return 0;\n\n  for (let idx = 0; idx < bands.length; idx += 1) {\n    load = bands[idx].load || 0;\n\n    bandLimit = bands[idx].upto;\n    const { rate } = bands[idx];\n    previousBandLimit = idx > 0 ? bands[idx - 1].upto : 0;\n\n    if (bandLimit === 'end') { // end and return\n      tax += ((onePercentOfVal - (previousBandLimit / 100)) * (rate + load));\n      return tax;\n    }\n    if (val <= bandLimit) { // return before end\n      if (idx === 0) { // below first limit\n        tax += (onePercentOfVal * (rate + load));\n      } else { // below this limit\n        tax += ((onePercentOfVal - (previousBandLimit / 100)) * (rate + load));\n      }\n      return tax;\n    }\n    // add the tax rate for the whole band and carry on\n    tax += ((bandLimit - previousBandLimit) / 100 * (rate + load));\n  }\n  // shouldn't get here but code won't know should throw error\n  // console.error(`check stampduty-test-bands for property without upto: 'end' in last entry`);\n  return tax;\n};\n\nexport default calculateStampDuty;\n","import calculateStampDuty from '../stampduty/stampduty-calculator';\n\nconst allInputCosts = (\n  initSurveyorsFee,\n  initLegalFee,\n  initMortgageFee,\n  refurbCost,\n  otherCost,\n  propertyValue,\n  stampDutyType,\n) => {\n  const stampDuty = calculateStampDuty(propertyValue, stampDutyType);\n\n  return (\n    initSurveyorsFee\n    + initLegalFee\n    + initMortgageFee\n    + refurbCost\n    + otherCost\n    + stampDuty\n    + propertyValue\n  );\n};\n\nexport default allInputCosts;","const freeCashLabels = [\n  'Remortgage advance',\n  'Remortgage deposit',\n  'Remortgage fees',\n  'Money in',\n  'Money out',\n  'Money left in',\n  'Monthly rental',\n  'Monthly mortgage payment',\n  'MOE',\n  'Letting agent fees',\n  'Monthly free cashflow',\n];\n\nconst initialFinanceLabels = [\n  'Mortgage advance',\n  'Deposit',\n  'Stamp duty',\n  'Professional fees',\n  'Refurb/other costs',\n  'Total money in',\n  'Total cost',\n];\n\nconst flipLabels = [\n  'Sale price',\n  'Selling costs',\n  'Total input costs',\n  'Profit (before tax)',\n  'Gain(%)',\n];\n\nconst stressLabels = [\n  'Stress test',\n  'Minimum rent'];\n\nexport default {\n  freeCashLabels,\n  initialFinanceLabels,\n  flipLabels,\n  stressLabels,\n};\n","import allInputCosts from './allInputCosts';\nimport freeCash from './freeCash';\nimport initialFinance from './initialFinance';\nimport flip from './flip';\nimport stressTest from './stressTest';\n\nconst getCurrencyCode = ({ stampDutyType }) => (stampDutyType === 'ireland' ? 8364 : 163);\n\nconst calculations = {\n  freeCash,\n  initialFinance,\n  flip,\n  allInputCosts,\n  stressTest,\n  getCurrencyCode,\n};\n\nexport default calculations;\n","import calculateStampDuty from '../stampduty/stampduty-calculator';\nimport calculationsLabels from '../../labels/calculations-labels';\n\nconst freeCash = ({\n  loanToValue,\n  propertyValue,\n  doneUpValue,\n  mortgageInterestRatePercent,\n  monthlyRent,\n  moePercent,\n  agentsPercent,\n  refurbCost,\n  otherCost,\n  stampDutyType,\n  remortgageFee,\n  remortgageValuationFee,\n  remortgageLegalFee,\n  initMortgageFee,\n  initLegalFee,\n  initSurveyorsFee,\n  repairingLease,\n}) => {\n  const loanToVal = loanToValue / 100;\n  const remortgageAdvance = Math.round(doneUpValue * loanToVal);\n  const remortgageDeposit = Math.round(doneUpValue * (1 - loanToVal));\n  const remortgageMonthlyInterest = Math\n    .round(remortgageAdvance * mortgageInterestRatePercent / 1200);\n  const moe = repairingLease === 'yes' ? 0 : (monthlyRent * moePercent / 100);\n  const lettingAgentsFees = monthlyRent * agentsPercent / 100;\n  const freeCashFlowMonthly = monthlyRent - (repairingLease === 'yes' ? 0 : moe) - remortgageMonthlyInterest - lettingAgentsFees;\n  const totalOtherCosts = refurbCost + otherCost;\n  const sdltTotal = calculateStampDuty(propertyValue, stampDutyType);\n  const remortgageFees = remortgageFee + remortgageValuationFee + remortgageLegalFee;\n  const initialFees = initMortgageFee + initLegalFee + initSurveyorsFee;\n  const initialCost = initialFees + totalOtherCosts + sdltTotal + propertyValue;\n  const labels = calculationsLabels.freeCashLabels;\n\n  return [\n    { label: labels[0], value: remortgageAdvance.toFixed(2) },\n    { label: labels[1], value: remortgageDeposit.toFixed(2) },\n    { label: labels[2], value: remortgageFees.toFixed(2) },\n    { label: labels[3], value: initialCost.toFixed(2) },\n    { label: labels[4], value: (remortgageAdvance - remortgageFees).toFixed(2) },\n    { label: labels[5], value: (initialCost - (remortgageAdvance - remortgageFees)).toFixed(2) },\n    { label: labels[6], value: monthlyRent.toFixed(2) },\n    { label: labels[7], value: remortgageMonthlyInterest.toFixed(2) },\n    { label: labels[8], value: moe.toFixed(2) },\n    { label: labels[9], value: lettingAgentsFees.toFixed(2) },\n    { label: labels[10], value: freeCashFlowMonthly.toFixed(2) },\n  ];\n};\n\nexport default freeCash;\n","import calculateStampDuty from '../stampduty/stampduty-calculator';\nimport allInputCosts from './allInputCosts';\nimport calculationsLabels from '../../labels/calculations-labels';\n\nconst initialFinance = ({\n  buyingCash,\n  initialLoanToValue,\n  propertyValue,\n  initSurveyorsFee,\n  initLegalFee,\n  initMortgageFee,\n  refurbCost,\n  otherCost,\n  stampDutyType,\n}) => {\n  const isCash = buyingCash === 'yes';\n  const loanToVal = initialLoanToValue / 100;\n  const initMortgageAdvance = isCash ? 0 : Math.round(propertyValue * loanToVal);\n  const initFees = initSurveyorsFee + initLegalFee + initMortgageFee;\n  const other = refurbCost + otherCost;\n  const initialDeposit = isCash ? propertyValue : Math.round(propertyValue * (1 - loanToVal));\n  const sdltTotal = calculateStampDuty(propertyValue, stampDutyType);\n  const totCost = allInputCosts(initSurveyorsFee, initLegalFee, initMortgageFee,\n    refurbCost, otherCost, propertyValue, stampDutyType);\n  const totIn = totCost - initMortgageAdvance;\n  const labels = calculationsLabels.initialFinanceLabels;\n\n  return [\n    { label: labels[0], value: initMortgageAdvance.toFixed(2) },\n    { label: labels[1], value: initialDeposit.toFixed(2) },\n    { label: labels[2], value: sdltTotal.toFixed(2) },\n    { label: labels[3], value: initFees.toFixed(2) },\n    { label: labels[4], value: other.toFixed(2) },\n    { label: labels[5], value: totIn.toFixed(2) },\n    { label: labels[6], value: totCost.toFixed(2) },\n  ];\n};\n\nexport default initialFinance;\n","import allInputCosts from './allInputCosts';\nimport calculationsLabels from '../../labels/calculations-labels';\n\nconst flip = ({\n  sellingLegalFee,\n  agentSellingFee,\n  initSurveyorsFee,\n  initLegalFee,\n  initMortgageFee,\n  refurbCost,\n  otherCost,\n  propertyValue,\n  stampDutyType,\n  doneUpValue,\n}) => {\n  const totCost = allInputCosts(initSurveyorsFee, initLegalFee, initMortgageFee,\n    refurbCost, otherCost, propertyValue, stampDutyType);\n\n  const fees = sellingLegalFee + agentSellingFee;\n  const flipGain = Math.round((doneUpValue - totCost) / totCost * 10000) / 100;\n  const col = (flipGain >= 20) ? 'green' : 'red';\n  const labels = calculationsLabels.flipLabels;\n\n  return [\n    { label: labels[0], value: doneUpValue.toFixed(2) },\n    { label: labels[1], value: fees.toFixed(2) },\n    { label: labels[2], value: totCost.toFixed(2) || '0' },\n    { label: labels[3], value: ((doneUpValue - (totCost + fees)).toFixed(2) || '0'), col },\n    { label: labels[4], value: flipGain.toFixed(2) || 0, col },\n  ];\n};\n\nexport default flip;\n","import calculationsLabels from '../../labels/calculations-labels';\n\nconst stressTest = ({\n  doneUpValue,\n  monthlyRent,\n  loanToValue,\n  mortgageStressInterestRatePercent,\n  mortgageStressMultipePercent,\n}) => {\n  const minRent = Math.ceil(\n    doneUpValue\n    * loanToValue / 100\n    * mortgageStressInterestRatePercent / 1200\n    * mortgageStressMultipePercent / 100,\n  );\n  const pass = monthlyRent >= minRent;\n  const labels = calculationsLabels.stressLabels;\n\n  return [\n    { label: labels[0], value: pass ? 'pass' : 'fail' },\n    { label: labels[1], value: minRent.toFixed(2) },\n  ];\n};\n\nexport default stressTest;\n","// postcode validation regex\nconst postCodeRegEx = /^(GIR[ ]?0AA|((AB|AL|B|BA|BB|BD|BH|BL|BN|BR|BS|BT|CA|CB|CF|CH|CM|CO|CR|CT|CV|CW|DA|DD|DE|DG|DH|DL|DN|DT|DY|E|EC|EH|EN|EX|FK|FY|G|GL|GY|GU|HA|HD|HG|HP|HR|HS|HU|HX|IG|IM|IP|IV|JE|KA|KT|KW|KY|L|LA|LD|LE|LL|LN|LS|LU|M|ME|MK|ML|N|NE|NG|NN|NP|NR|NW|OL|OX|PA|PE|PH|PL|PO|PR|RG|RH|RM|S|SA|SE|SG|SK|SL|SM|SN|SO|SP|SR|SS|ST|SW|SY|TA|TD|TF|TN|TQ|TR|TS|TW|UB|W|WA|WC|WD|WF|WN|WR|WS|WV|YO|ZE)(\\d[\\dA-Z]?[ ]?\\d[ABD-HJLN-UW-Z]{2}))|BFPO[ ]?\\d{1,4})$/;\n\nconst validatePostcode = postCode => postCodeRegEx.test(postCode.toUpperCase());\n\nexport default validatePostcode;\n","/* eslint-env browser */\n/* eslint react/prop-types: 0 */\nimport React, { Component } from 'react';\nimport Form from './components/FormComponent';\nimport { fields } from './components/formconfig';\nimport './css/app.css';\nimport ResultList from './components/ResultListComponent';\nimport SavedStateList from './components/SavedStateComponents';\nimport calculations from './logic/calculations/index';\nimport validatePostcode from './util/validate-postcode';\n\nconst { hostname = '', pathname = '' } = window.location;\nconst isLocal = /localhost|192.168.0.12/.test(hostname);\nconst appPath = /prop-calc-react/.test(pathname) ? '/prop-calc-react/' : '/';\n// console.log(appPath);\nconst urls = {\n  comparisons: process.env.REACT_APP_COMPARISONS_URL,\n  rmBuy: process.env.REACT_APP_RM_BUY_URL,\n  rmRent: process.env.REACT_APP_RM_LET_URL,\n  nhpSold: process.env.REACT_APP_NHP_SOLD_URL,\n};\n\nclass App extends Component {\n  static findState(savedStates, stateId) {\n    return savedStates.Items.find(state => state.id === stateId);\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {\n        dealFinance: [],\n        buyToLet: [],\n        stress: [],\n        flip: [],\n      },\n      fields,\n      currency: 163,\n      savedStates: { Items: [] },\n      currentState: null,\n      hasWorkingAPI: false,\n    };\n    this.doResults = this.doResults.bind(this);\n    this.calculate = this.calculate.bind(this);\n    this.setDefaultFormData = this.setDefaultFormData.bind(this);\n    this.saveState = this.saveState.bind(this);\n    this.deleteState = this.deleteState.bind(this);\n  }\n\n  componentDidMount() {\n    if (isLocal) {\n      this.getSavedStates();\n    } else {\n      this.loadDefault();\n    }\n  }\n\n  getSavedStates(id) {\n    if (!urls.comparisons || urls.comparisons === '') {\n      this.loadDefault();\n    } else {\n      const selectedStateId = pathname.substr(1) || '';\n      fetch(urls.comparisons)\n        .then(response => response.json())\n        .then((data) => {\n          if (!id && selectedStateId === '') {\n            this.setState({\n              savedStates: data,\n              hasWorkingAPI: true,\n              currentState: this.setDefaultFormData(),\n            });\n          } else {\n            const stateToLoad = App.findState(data, (selectedStateId || id));\n            if (!stateToLoad) {\n              window.location = appPath;\n            } else if (id && selectedStateId !== id) {\n              window.location = appPath + id;\n            } else {\n              this.setState({\n                savedStates: data,\n                hasWorkingAPI: true,\n                currentState: stateToLoad || this.setDefaultFormData(),\n              });\n            }\n          }\n        })\n        .catch(() => {\n          if (selectedStateId !== '') {\n            window.location = appPath;\n          } else {\n            this.loadDefault(false);\n          }\n        });\n    }\n  }\n\n  setDefaultFormData() {\n    const defaults = {};\n    const { state } = this;\n    state.fields.map((ob) => {\n      defaults[ob.name] = ob.defVal;\n      return false;\n    });\n    return defaults;\n  }\n\n  loadDefault() {\n    this.setState({\n      savedStates: { Items: [] },\n      currentState: this.setDefaultFormData(),\n      hasWorkingAPI: false,\n    });\n  }\n\n\n  calculate(changedField, newValue) {\n    const { currentState } = this.state;\n    const inputData = (changedField)\n      ? { ...currentState, [changedField]: newValue } : currentState;\n    const dealFinance = calculations.initialFinance(inputData);\n    const buyToLet = calculations.freeCash(inputData);\n    const flip = calculations.flip(inputData);\n    const stress = calculations.stressTest(inputData);\n    const currSymbol = calculations.getCurrencyCode(inputData);\n\n    document.getElementById('doc-title').text = inputData.projectName.replace(/ /g, '-');\n\n    this.setState({\n      data: {\n        dealFinance,\n        buyToLet,\n        stress,\n        flip,\n      },\n      currency: currSymbol,\n      currentState: inputData,\n    });\n  }\n\n  doResults() {\n    const { data, currentState } = this.state;\n    const {\n      postCode,\n      askingPrice,\n      monthlyRent,\n      propertyValue,\n    } = currentState;\n    const {\n      dealFinance,\n      buyToLet,\n      stress,\n      flip,\n    } = data;\n    const { oneK, oneHundredK } = { oneK: 1000, oneHundredK: 100000 };\n    const maxPrice = Math\n      .ceil((askingPrice || propertyValue || 400000) / oneHundredK * 1.2) * oneHundredK;\n    const maxRent = Math.ceil((monthlyRent || oneK) / oneK * 1.2) * oneK;\n    const links = (postCode && validatePostcode(postCode)) ? (\n      <React.Fragment>\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href={urls.nhpSold + postCode}\n        >\n          sold data\n        </a>\n        {' | '}\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href={`${urls.rmBuy + postCode}&maxPrice=${(maxPrice)}`}\n        >\n          for sale\n        </a>\n        {' | '}\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href={`${urls.rmRent + postCode}&maxPrice=${maxRent}`}\n        >\n          to rent\n        </a>\n      </React.Fragment>\n    ) : <span style={{ color: 'red', fontStyle: 'italic' }}>use a full valid post code to see links here</span>;\n    return (\n      <React.Fragment>\n        <div className=\"res-block\">\n          <h6>Links for this post code</h6>\n          {links}\n        </div>\n        <div className=\"res-block\">\n          <h6>Deal finance</h6>\n          <ResultList id=\"1\" data={dealFinance} />\n        </div>\n        <div className=\"res-block\">\n          <h6>Buy to let</h6>\n          <ResultList id=\"2\" data={buyToLet} />\n        </div>\n        <div className=\"res-block\">\n          <h6>Stress test</h6>\n          <ResultList id=\"3\" data={stress} />\n        </div>\n        <div className=\"res-block\">\n          <h6>Flip</h6>\n          <ResultList id=\"4\" data={flip} />\n        </div>\n      </React.Fragment>\n    );\n  }\n\n  saveState() {\n    const { currentState } = this.state;\n    const { projectName, postCode } = currentState;\n    if (projectName === '' || postCode === '') {\n      return;\n    }\n    fetch(urls.comparisons, {\n      method: 'PUT',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(currentState),\n    })\n      .then(response => response.json())\n      .then(({ id }) => {\n        this.getSavedStates(id);\n      })\n      .catch(() => this.setState({ savedStates: { Items: 'No save service avaialable' } }))\n      .finally(() => {\n        this.setState({ error: null });\n      });\n  }\n\n  deleteState(stateId) {\n    fetch(urls.comparisons, {\n      method: 'DELETE',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ id: stateId }),\n    })\n      .then((resp) => {\n        if (resp.ok) {\n          this.getSavedStates();\n        } else {\n          throw new Error('delete failed');\n        }\n      }).catch(() => this.setState({ savedStates: { Items: 'No delete service avaialable' } }));\n  }\n\n  render() {\n    const {\n      currency,\n      savedStates,\n      currentState,\n      hasWorkingAPI,\n      error,\n    } = this.state;\n    const { Items } = savedStates;\n    const savedStateList = (\n      <SavedStateList\n        data={Items}\n        ondelete={this.deleteState}\n      />\n    );\n    const savedList = Items ? savedStateList : '';\n    const newButton = isLocal && window.location.pathname !== '/'\n      ? (\n        <ul className=\"right\">\n          <li>\n            <button\n              type=\"submit\"\n              className=\"btn-primary form-control\"\n              onClick={() => { window.location.href = '/'; }}\n            >\n              new\n            </button>\n          </li>\n        </ul>\n      )\n      : '';\n\n    return currentState ? (\n      <div className=\"App\">\n        <div className=\"column\" style={{ textAlign: 'center' }}>\n          <h5>Property investment deal analyser</h5>\n          <Form\n            name=\"propcalc\"\n            fields={fields}\n            formData={currentState}\n            twocols=\"yes\"\n            calculate={this.calculate}\n            currsymbol={currency}\n            onsave={this.saveState}\n            showsave={hasWorkingAPI}\n            error={error}\n          />\n          {newButton}\n        </div>\n        <div className=\"column results\">\n          {this.doResults()}\n        </div>\n        <div className=\"column states\">\n          {savedList}\n        </div>\n      </div>\n    ) : '';\n  }\n}\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport './css/bootstrap-override.scss';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}