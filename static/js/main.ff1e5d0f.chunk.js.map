{"version":3,"sources":["logic/calculations/stampduty/stampduty-bands.js","components/form/formconfig.js","components/form/StatelessFormComponents.jsx","components/form/FormComponent.jsx","components/saved/SavedStateComponents.jsx","components/results/list/ResultsListComponent.jsx","util/validate-postcode.js","components/results/links/LinksComponent.jsx","components/results/ResultsComponent.jsx","logic/calculations/stampduty/stampduty-calculator.js","logic/calculations/allInputCosts.js","labels/calculations-labels.js","logic/calculations/freeCash.js","logic/calculations/index.js","logic/calculations/initialFinance.js","logic/calculations/flip.js","logic/calculations/stressTest.js","components/App.jsx","serviceWorker.js","index.js"],"names":["ireland","upto","rate","scotland","load","bands","commercial","england","wales","residential","first","thresholds","limit","concat","module","exports","percentSign","String","fromCharCode","types","NUMBER","TEXT","CHECKBOX","SELECT","fields","label","name","type","defVal","required","disabled","whenField","isEqual","options","value","currencyPlaceholder","currRegEx","RegExp","addCurrencySymbolToLabel","currencyCode","currSymbol","replace","Label","_ref","doLabelClass","dynamicLabel","currency","labelWithCurrency","react_default","a","createElement","className","htmlFor","StatelessComponents","Input","_ref2","onInput","placeholder","onblur","key","id","onChange","e","autoComplete","checked","onBlur","Select","_ref3","map","opt","FormColumn","render","Form","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","doLabel","bind","assertThisInitialized","renderFields","renderFieldCols","handleChange","handleSave","calculate","fname","formData","val","Number","isNaN","parseFloat","preventDefault","onsave","target","blur","_this2","formFields","_this$props","currsymbol","forEach","field","ob","objectSpread","isDisabled","n","l","push","arrLength","Math","floor","length","left","slice","right","splice","_this$props2","twocols","button","showsave","onClick","Component","handleClick","callback","split","SavedStateListItem","milis","ondelete","onclick","style","width","dateFormat","Date","parseInt","SavedStateList","data","onselect","ind","projectName","SavedStateComponents_SavedStateListItem","ListItem","ResultsList","ResultsListComponent_ListItem","postCodeRegEx","validatePostcode","postCode","test","toUpperCase","urls","rmBuy","process","rmRent","nhpSold","gMap","Link","href","text","rel","Links","askingPrice","monthlyRent","propertyValue","urlType","stampDutyType","startsWith","oneK","oneHundredK","maxPrice","ceil","maxRent","Fragment","color","fontStyle","Results","currentState","dealFinance","buyToLet","stress","flip","ResultsListComponent","calculateStampDuty","region","buyer","onePercentOfVal","sdltBands","_sdltBands$type$first","bandLimit","previousBandLimit","tax","idx","allInputCosts","initSurveyorsFee","initLegalFee","initMortgageFee","refurbCost","otherCost","stampDutyRegion","stampDutyBuyer","calculations_labels","calculations","freeCash","loanToValue","doneUpValue","mortgageInterestRatePercent","moePercent","agentsPercent","remortgageFee","remortgageValuationFee","remortgageLegalFee","repairingLease","isRepairing","loanToVal","remortgageAdvance","round","remortgageDeposit","remortgageMonthlyInterest","moe","lettingAgentsFees","freeCashFlowMonthly","remortgageFees","initialCost","grossYield","labels","calculationsLabels","toFixed","initialFinance","buyingCash","initialLoanToValue","isCash","initMortgageAdvance","initFees","other","initialDeposit","sdltTotal","totCost","totIn","sellingLegalFee","agentSellingFee","fees","flipGain","col","stressTest","mortgageStressInterestRatePercent","mortgageStressMultipePercent","minRent","pass","getCurrencyCode","App","state","savedStates","Items","hasWorkingAPI","saveState","deleteState","selectState","defaults","getSavedStates","setDefault","sortByNameThenDate","pNameA","idA","pNameB","idB","fetch","then","response","json","sort","loadState","catch","stateId","find","newState","setDefaultFormData","setState","changedField","newValue","inputData","defineProperty","document","getElementById","_this3","method","headers","Accept","Content-Type","body","JSON","stringify","finally","error","_this4","resp","ok","Error","_this5","selectedState","findState","_this6","_this7","_this$state","showSave","savedList","SavedStateComponents","newButton","event","handleNew","keys","textAlign","FormComponent","Boolean","window","location","hostname","match","ReactDOM","components_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ff1e5d0f.chunk.js","sourcesContent":["const ireland = [\n  { upto: 1000000, rate: 1 },\n  { upto: 'end', rate: 2 },\n];\nconst scotland = [{ upto: 250000, rate: 2, load: 3 },\n  { upto: 325000, rate: 5, load: 3 },\n  { upto: 750000, rate: 10, load: 3 },\n  { upto: 'end', rate: 12, load: 3 },\n];\nconst bands = {\n  commercial: {\n    england: [\n      { upto: 150000, rate: 0 },\n      { upto: 250000, rate: 2 },\n      { upto: 'end', rate: 5 },\n    ],\n    wales: [\n      { upto: 150000, rate: 0 },\n      { upto: 250000, rate: 1 },\n      { upto: 1000000, rate: 5 },\n      { upto: 'end', rate: 6 },\n    ],\n    scotland: [\n      { upto: 150000, rate: 0 },\n      { upto: 250000, rate: 1 },\n      { upto: 'end', rate: 5 },\n    ],\n    ireland,\n  },\n\n  residential: {\n    first: {\n      england: {\n        thresholds: [\n          { upto: 300000, rate: 0 },\n          { upto: 500000, rate: 5 },\n        ],\n        limit: 500000,\n      },\n      scotland: {\n        thresholds: [\n          { upto: 175000, rate: 0 },\n          ...scotland,\n        ],\n        limit: -1,\n      },\n    },\n    england: [\n      { upto: 125000, rate: 0, load: 3 },\n      { upto: 250000, rate: 2, load: 3 },\n      { upto: 925000, rate: 5, load: 3 },\n      { upto: 1500000, rate: 10, load: 3 },\n      { upto: 'end', rate: 12, load: 3 },\n    ],\n    wales: [\n      { upto: 180000, rate: 0, load: 3 },\n      { upto: 250000, rate: 3.5, load: 3 },\n      { upto: 400000, rate: 5, load: 3 },\n      { upto: 750000, rate: 7.5, load: 3 },\n      { upto: 1500000, rate: 10, load: 3 },\n      { upto: 'end', rate: 12, load: 3 },\n    ],\n    scotland: [\n      { upto: 145000, rate: 0, load: 3 },\n      ...scotland,\n    ],\n    ireland,\n  },\n};\n\nmodule.exports = bands;\n","const currencyPlaceholder = '##CURR##';\nconst percentSign = String.fromCharCode(37);\nconst types = {\n  NUMBER: 'number',\n  TEXT: 'text',\n  CHECKBOX: 'checkbox',\n  SELECT: 'select',\n};\n\nconst fields = [\n  {\n    label: 'Project name',\n    name: 'projectName',\n    type: types.TEXT,\n    defVal: '',\n    required: true,\n  },\n  {\n    label: 'Post code',\n    name: 'postCode',\n    type: types.TEXT,\n    defVal: '',\n    required: true,\n  },\n  {\n    label: `Asking price(${currencyPlaceholder})`,\n    name: 'askingPrice',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Purchase price(${currencyPlaceholder})`,\n    name: 'propertyValue',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Done up value(${currencyPlaceholder})`,\n    name: 'doneUpValue',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: 'Cash purchase',\n    name: 'buyingCash',\n    type: types.CHECKBOX,\n    defVal: 'no',\n  },\n  {\n    label: `Initial LTV(${percentSign})`,\n    name: 'initialLoanToValue',\n    type: types.NUMBER,\n    defVal: 75,\n    disabled: { whenField: 'buyingCash', isEqual: 'yes', defVal: '0' },\n  },\n  {\n    label: `Mortgage fee(${currencyPlaceholder})`,\n    name: 'initMortgageFee',\n    type: types.NUMBER,\n    defVal: 0,\n    disabled: { whenField: 'buyingCash', isEqual: 'yes', defVal: '0' },\n  },\n  {\n    label: `Surveyors fee(${currencyPlaceholder})`,\n    name: 'initSurveyorsFee',\n    type: types.NUMBER,\n    defVal: 600,\n  },\n  {\n    label: `Legal fees(${currencyPlaceholder})`,\n    name: 'initLegalFee',\n    type: types.NUMBER,\n    defVal: 1500,\n  },\n  {\n    label: 'Stamp duty type',\n    name: 'stampDutyType',\n    type: types.SELECT,\n    options: [\n      { value: 'residential', name: 'Residential' },\n      { value: 'commercial', name: 'Commercial' },\n    ],\n    defVal: 'residential',\n  },\n  {\n    label: 'Stamp duty region',\n    name: 'stampDutyRegion',\n    type: types.SELECT,\n    options: [\n      { value: 'england', name: 'England/NI' },\n      { value: 'scotland', name: 'Scotland' },\n      { value: 'wales', name: 'Wales' },\n      { value: 'ireland', name: 'Ireland' },\n    ],\n    defVal: 'england',\n  },\n  {\n    label: 'Stamp duty buyer',\n    name: 'stampDutyBuyer',\n    type: types.SELECT,\n    options: [\n      { value: 'investor', name: 'Investor' },\n      { value: 'first', name: 'First time buyer' },\n      { value: 'home', name: 'Moving house' },\n    ],\n    defVal: 'investor',\n    disabled: { whenField: 'stampDutyType', isEqual: 'commercial' },\n  },\n  {\n    label: `Monthly rent(${currencyPlaceholder})`,\n    name: 'monthlyRent',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Refurbishment cost(${currencyPlaceholder})`,\n    name: 'refurbCost',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Other cost(${currencyPlaceholder})`,\n    name: 'otherCost',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Remortgage fee(${currencyPlaceholder})`,\n    name: 'remortgageFee',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Remortgage valuation fee(${currencyPlaceholder})`,\n    name: 'remortgageValuationFee',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Remortgage legal fees(${currencyPlaceholder})`,\n    name: 'remortgageLegalFee',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: 'Repairing lease',\n    name: 'repairingLease',\n    type: types.CHECKBOX,\n    defVal: 'no',\n  },\n  {\n    label: `Letting agents rate(${percentSign})`,\n    name: 'agentsPercent',\n    type: types.NUMBER,\n    defVal: 10,\n    disabled: { whenField: 'repairingLease', isEqual: 'yes', defVal: '0' },\n  },\n  {\n    label: `\n    MOE rate(${percentSign})`,\n    name: 'moePercent',\n    type: types.NUMBER,\n    defVal: 15,\n    disabled: { whenField: 'repairingLease', isEqual: 'yes', defVal: '0' },\n  },\n  {\n    label: `Interest rate(${percentSign})`,\n    name: 'mortgageInterestRatePercent',\n    type: types.NUMBER,\n    defVal: 6.0,\n  },\n  {\n    label: `Remortgage LTV(${percentSign})`,\n    name: 'loanToValue',\n    type: types.NUMBER,\n    defVal: 75,\n  },\n  {\n    label: `Solicitors selling fee(${currencyPlaceholder})`,\n    name: 'sellingLegalFee',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Agent/selling fee(${currencyPlaceholder})`,\n    name: 'agentSellingFee',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Mortgage stress test(${percentSign})`,\n    name: 'mortgageStressMultipePercent',\n    type: types.NUMBER,\n    defVal: 125,\n  },\n  {\n    label: `Stress interest rate(${percentSign})`,\n    name: 'mortgageStressInterestRatePercent',\n    type: types.NUMBER,\n    defVal: 5.0,\n  },\n];\n\nmodule.exports = {\n  fields,\n  currencyPlaceholder,\n  types,\n};\n","// stateless component Input. Currently handles types text, number, checkbox\n// passed through props\n/* eslint react/prop-types: 0 */\nimport React from 'react';\nimport { currencyPlaceholder } from './formconfig';\n\nconst currRegEx = new RegExp(currencyPlaceholder, 'g');\n\nconst addCurrencySymbolToLabel = (label, currencyCode) => {\n  const currSymbol = String.fromCharCode(currencyCode);\n  return label.replace(currRegEx, currSymbol);\n};\n\n// stateless component Label\nfunction Label({\n  name, doLabelClass, dynamicLabel, label, type, currency,\n}) {\n  const labelWithCurrency = addCurrencySymbolToLabel(label, currency);\n\n  return (\n    <div className={type === 'checkbox' ? 'checkbox-label' : 'input-label'}>\n      <label\n        htmlFor={name}\n        className={doLabelClass(name)}\n      >\n        {dynamicLabel(name, labelWithCurrency)}\n      </label>\n    </div>\n  );\n}\n\nfunction Input({\n  className, name, type, onInput,\n  placeholder, label, defVal, onblur,\n  doLabelClass, dynamicLabel, currency, required, disabled,\n}) {\n  const labelWithCurrency = addCurrencySymbolToLabel(label, currency);\n\n  return (\n    <li key={name}>\n      <input\n        className={className || 'form-control'}\n        key={name}\n        type={type}\n        name={name}\n        id={name}\n        onChange={e => onInput(e)}\n        autoComplete=\"off\"\n        placeholder={placeholder || labelWithCurrency || `${name} [${type}]`}\n        value={defVal || ''}\n        checked={defVal === 'yes'}\n        onBlur={e => onblur(e)}\n        required={required || false}\n        disabled={disabled}\n      />\n      {Label({\n        name, doLabelClass, dynamicLabel, label, type, currency,\n      })}\n    </li>\n  );\n}\n\n// stateless component Select\nfunction Select({\n  className, name, type, onInput, label, defVal, onblur,\n  options, doLabelClass, dynamicLabel, disabled,\n}) {\n  return (\n    <li key={name}>\n      <select\n        value={defVal}\n        className={className || 'form-control'}\n        key={name}\n        name={name}\n        id={name}\n        onChange={e => onInput(e)}\n        onBlur={e => onblur(e)}\n        disabled={disabled}\n      >\n        {options.map(\n          opt => (\n            <option\n              key={opt.value}\n              name={opt.name}\n              value={opt.value}\n            >\n              {opt.name}\n            </option>\n          ),\n        )}\n      </select>\n      {Label({\n        name, doLabelClass, dynamicLabel, label, type,\n      })}\n    </li>\n  );\n}\n\nconst StatelessComponents = {\n  Input,\n  Select,\n};\n\nexport default StatelessComponents;\n","/* eslint react/prop-types: 0 */\n/* eslint-env browser */\nimport React, { Component } from 'react';\nimport StatelessComponents from './StatelessFormComponents';\nimport { types } from './formconfig';\n\nconst { Input, Select } = StatelessComponents;\n\nfunction FormColumn({ render, fields, className }) {\n  return (\n    <ul className={className}>\n      {render(fields)}\n    </ul>\n  );\n}\n\nclass Form extends Component {\n  constructor(props) {\n    super(props);\n    this.doLabel = this.doLabel.bind(this);\n    this.doLabelClass = this.doLabelClass.bind(this);\n    this.renderFields = this.renderFields.bind(this);\n    this.renderFieldCols = this.renderFieldCols.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSave = this.handleSave.bind(this);\n  }\n\n  componentDidMount() {\n    const { props } = this;\n    props.calculate();\n  }\n\n  doLabel(fname, label) {\n    const { formData } = this.props;\n    return formData && formData[fname] ? label || fname : '';\n  }\n\n  doLabelClass(fname) {\n    const { formData } = this.props;\n    return formData && formData[fname] ? 'show' : 'hide';\n  }\n\n  handleChange({\n    type,\n    value,\n    checked,\n    name,\n  }) {\n    const { props } = this;\n    let val;\n\n    switch (type) {\n      case types.NUMBER:\n        val = Number.isNaN(value) ? 0 : (parseFloat(value) || 0);\n        break;\n      case types.CHECKBOX:\n        val = checked ? 'yes' : 'no';\n        break;\n      default:\n        val = value || '';\n    }\n\n    props.calculate(name, val);\n  }\n\n  handleSave(e) {\n    e.preventDefault();\n    const { onsave } = this.props;\n    onsave();\n    e.target.blur();\n  }\n\n  renderFields(fields) {\n    const formFields = [];\n    const { currsymbol, formData } = this.props;\n    fields.forEach((field) => {\n      const ob = { ...field };\n      const isDisabled = ob.disabled && formData[ob.disabled.whenField] === ob.disabled.isEqual;\n      ob.dynamicLabel = (n, l) => this.doLabel(n, l);\n      ob.doLabelClass = n => this.doLabelClass(n);\n      ob.onInput = e => this.handleChange(e.target);\n      ob.onblur = e => this.handleChange(e.target);\n      ob.currency = currsymbol;\n      ob.defVal = isDisabled ? (ob.disabled.defVal || ob.defVal) : formData[ob.name];\n      ob.disabled = isDisabled;\n      if (ob.type === 'select') {\n        formFields.push(Select(ob));\n      } else {\n        formFields.push(Input(ob));\n      }\n    });\n    return formFields;\n  }\n\n  renderFieldCols() {\n    const { fields } = this.props;\n    const arrLength = Math.floor(fields.length / 2);\n    const left = fields.slice(0);\n    const right = left.splice(arrLength);\n\n    return [\n      <FormColumn\n        key=\"1\"\n        fields={left}\n        className=\"left\"\n        render={this.renderFields}\n      />,\n      <FormColumn\n        key=\"2\"\n        fields={right}\n        className=\"right\"\n        render={this.renderFields}\n      />,\n    ];\n  }\n\n  render() {\n    const {\n      name,\n      twocols,\n      fields,\n      showsave,\n    } = this.props;\n    const button = showsave ? (\n      <ul className=\"left\">\n        <li>\n          <button\n            type=\"submit\"\n            className=\"btn-primary form-control\"\n            onClick={this.handleSave}\n          >\n            save this\n          </button>\n        </li>\n      </ul>\n    ) : '';\n\n    return (\n      <form\n        name={name}\n        id={name}\n      >\n        {twocols === 'yes' ? this.renderFieldCols() : this.renderFields(fields)}\n        {button}\n      </form>\n    );\n  }\n}\n\nexport default Form;\n","/* eslint-env browser */\n/* eslint react/prop-types: 0 */\n// eslint-disable-next-line\nimport React from 'react';\nimport dateFormat from 'date-format';\n\nconst handleClick = (e, callback) => {\n  e.preventDefault();\n  e.target.blur();\n  callback(e.target.id.split('-')[1]);\n};\n\nconst showDate = milis => dateFormat('dd/MM hh:mm:ss', new Date(parseInt(milis, 0)));\n\nconst SavedStateListItem = ({\n  label,\n  value,\n  ondelete,\n  onclick,\n}) => (\n  <li>\n    <div className=\"state\">\n      <button\n        className=\"btn-primary form-control\"\n        style={{ width: '100%' }}\n        type=\"submit\"\n        id={`select-${value}`}\n        onClick={e => handleClick(e, onclick)}\n      >\n        {`${label} (${showDate(value)})`}\n      </button>\n    </div>\n    <div className=\"remove-state\">\n      <button\n        className=\"btn-sm btn-primary btn-warning\"\n        type=\"submit\"\n        id={`delete-${value}`}\n        onClick={e => handleClick(e, ondelete)}\n      >\n        delete\n      </button>\n    </div>\n  </li>\n);\n\nconst SavedStateList = ({\n  data,\n  ondelete,\n  onselect,\n  onclick,\n}) => {\n  if (data.map) {\n    return (\n      <ul>\n        {data.map(({ projectName, id }, ind) => {\n          const key = `li-${id}-${ind}`;\n          return (\n            <SavedStateListItem\n              ondelete={ondelete}\n              key={`li-${key}`}\n              label={projectName || 'untitled'}\n              value={id}\n              onselect={onselect}\n              onclick={onclick}\n            />\n          );\n        })}\n      </ul>\n    );\n  }\n  return '';\n};\n\nexport default SavedStateList;\n","/* eslint react/prop-types: 0 */\n// eslint-disable-next-line\nimport React, { Component } from 'react';\n\nconst ListItem = ({ label, value }) => (\n  <li>\n    <div className=\"label\">{label}</div>\n    <div className=\"value\">{value}</div>\n  </li>\n);\n\nconst ResultsList = ({ data, id }) => (\n  <ul>\n    {data.map(({ label, value }, ind) => {\n      const key = `li-${id}-${ind}`;\n      return <ListItem key={`li-${key}`} label={label} value={value} />;\n    })}\n  </ul>\n);\n\nexport default ResultsList;\n","// postcode validation regex\nconst postCodeRegEx = /^(GIR[ ]?0AA|((AB|AL|B|BA|BB|BD|BH|BL|BN|BR|BS|BT|CA|CB|CF|CH|CM|CO|CR|CT|CV|CW|DA|DD|DE|DG|DH|DL|DN|DT|DY|E|EC|EH|EN|EX|FK|FY|G|GL|GY|GU|HA|HD|HG|HP|HR|HS|HU|HX|IG|IM|IP|IV|JE|KA|KT|KW|KY|L|LA|LD|LE|LL|LN|LS|LU|M|ME|MK|ML|N|NE|NG|NN|NP|NR|NW|OL|OX|PA|PE|PH|PL|PO|PR|RG|RH|RM|S|SA|SE|SG|SK|SL|SM|SN|SO|SP|SR|SS|ST|SW|SY|TA|TD|TF|TN|TQ|TR|TS|TW|UB|W|WA|WC|WD|WF|WN|WR|WS|WV|YO|ZE)(\\d[\\dA-Z]?[ ]?\\d[ABD-HJLN-UW-Z]{2}))|BFPO[ ]?\\d{1,4})$/;\n\nconst validatePostcode = postCode => postCodeRegEx.test(postCode.toUpperCase());\n\nexport default validatePostcode;\n","/* eslint react/prop-types: 0 */\nimport React from 'react';\nimport validatePostcode from '../../../util/validate-postcode';\n\nconst urls = {\n  rmBuy: {\n    commercial: process.env.REACT_APP_RM_COM_BUY_URL,\n    residential: process.env.REACT_APP_RM_BUY_URL,\n  },\n  rmRent: {\n    commercial: process.env.REACT_APP_RM_COM_LET_URL,\n    residential: process.env.REACT_APP_RM_LET_URL,\n  },\n  nhpSold: process.env.REACT_APP_NHP_SOLD_URL,\n  gMap: process.env.REACT_APP_MAP_URL,\n};\n\nfunction Link({ href, text }) {\n  return (\n    <a\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      href={href}\n    >\n      {text}\n    </a>\n  );\n}\n\nfunction Links(\n  {\n    postCode,\n    askingPrice,\n    monthlyRent,\n    propertyValue,\n    stampDutyType,\n  },\n) {\n  const urlType = stampDutyType.startsWith('commercial') ? 'commercial' : 'residential';\n  const { oneK, oneHundredK } = { oneK: 1000, oneHundredK: 100000 };\n  const maxPrice = Math\n    .ceil((askingPrice || propertyValue || 400000) / oneHundredK * 1.2) * oneHundredK;\n  const maxRent = Math.ceil((monthlyRent || oneK) / oneK * 1.2) * oneK;\n\n  return (postCode && validatePostcode(postCode)) ? (\n    <React.Fragment>\n      <Link\n        href={urls.nhpSold + postCode}\n        text=\"sold\"\n      />\n      {' | '}\n      <Link\n        href={`${urls.rmBuy[urlType] + postCode}&maxPrice=${(maxPrice)}`}\n        text=\"for sale\"\n      />\n      {' | '}\n      <Link\n        href={`${urls.rmRent[urlType] + postCode}&maxPrice=${maxRent}`}\n        text=\"to let\"\n      />\n      {' | '}\n      <Link\n        href={urls.gMap + postCode}\n        text=\"gmap\"\n      />\n    </React.Fragment>\n  ) : <span style={{ color: 'red', fontStyle: 'italic' }}>use a full valid post code to see links here</span>;\n}\n\nexport default Links;\n","/* eslint react/prop-types: 0 */\nimport React from 'react';\nimport ResultsList from './list/ResultsListComponent';\nimport Links from './links/LinksComponent';\n\nfunction Results({ data, currentState }) {\n  const {\n    dealFinance,\n    buyToLet,\n    stress,\n    flip,\n  } = data;\n\n  return (\n    <React.Fragment>\n      <div className=\"res-block\">\n        <h6>Links for this post code</h6>\n        {Links(currentState)}\n      </div>\n      <div className=\"res-block\">\n        <h6>Deal finance</h6>\n        <ResultsList id=\"1\" data={dealFinance} />\n      </div>\n      <div className=\"res-block\">\n        <h6>Buy to let</h6>\n        <ResultsList id=\"2\" data={buyToLet} />\n      </div>\n      <div className=\"res-block\">\n        <h6>Stress test</h6>\n        <ResultsList id=\"3\" data={stress} />\n      </div>\n      <div className=\"res-block\">\n        <h6>Flip</h6>\n        <ResultsList id=\"4\" data={flip} />\n      </div>\n    </React.Fragment>\n  );\n}\n\nexport default Results;\n","import sdltBands from './stampduty-bands';\n\nconst calculateStampDuty = (val, type, region, buyer) => {\n  const onePercentOfVal = (val / 100);\n  let bands = sdltBands[type][region];\n  if (buyer === 'first' && type === 'residential') {\n    const { limit, thresholds } = sdltBands[type].first[region];\n    if (limit === -1 || val <= limit) {\n      bands = thresholds;\n    }\n  }\n\n  let tax = 0;\n  let bandLimit;\n  let previousBandLimit;\n  let load;\n\n  if (!type || !region) return 0;\n\n  for (let idx = 0; idx < bands.length; idx += 1) {\n    load = buyer === 'investor' ? (bands[idx].load || 0) : 0;\n\n    bandLimit = bands[idx].upto;\n    const { rate } = bands[idx];\n    previousBandLimit = idx > 0 ? bands[idx - 1].upto : 0;\n\n    if (bandLimit === 'end') { // end and return\n      tax += ((onePercentOfVal - (previousBandLimit / 100)) * (rate + load));\n      return tax;\n    }\n    if (val <= bandLimit) { // return before end\n      if (idx === 0) { // below first limit\n        tax += (onePercentOfVal * (rate + load));\n      } else { // below this limit\n        tax += ((onePercentOfVal - (previousBandLimit / 100)) * (rate + load));\n      }\n      return tax;\n    }\n    // add the tax rate for the whole band and carry on\n    tax += ((bandLimit - previousBandLimit) / 100 * (rate + load));\n  }\n  // shouldn't get here but code won't know should throw error\n  // console.error(`check stampduty-test-bands for property without upto: 'end' in last entry`);\n  return tax;\n};\n\nexport default calculateStampDuty;\n","import calculateStampDuty from './stampduty/stampduty-calculator';\n\nconst allInputCosts = (\n  initSurveyorsFee,\n  initLegalFee,\n  initMortgageFee,\n  refurbCost,\n  otherCost,\n  propertyValue,\n  stampDutyType,\n  stampDutyRegion,\n  stampDutyBuyer,\n) => {\n  const stampDuty = calculateStampDuty(\n    propertyValue, stampDutyType, stampDutyRegion, stampDutyBuyer,\n  );\n\n  return (\n    initSurveyorsFee\n    + initLegalFee\n    + initMortgageFee\n    + refurbCost\n    + otherCost\n    + stampDuty\n    + propertyValue\n  );\n};\n\nexport default allInputCosts;\n","const freeCashLabels = [\n  'Remortgage advance',\n  'Remortgage deposit',\n  'Remortgage fees',\n  'Money in',\n  'Money out',\n  'Money left in',\n  'Monthly rental',\n  'Monthly mortgage payment',\n  'MOE',\n  'Letting agent fees',\n  'Monthly free cashflow',\n  'Gross yield',\n];\n\nconst initialFinanceLabels = [\n  'Mortgage advance',\n  'Deposit',\n  'Stamp duty',\n  'Professional fees',\n  'Refurb/other costs',\n  'Total money in',\n  'Total cost',\n];\n\nconst flipLabels = [\n  'Sale price',\n  'Selling costs',\n  'Total input costs',\n  'Profit (before tax)',\n  'Gain(%)',\n];\n\nconst stressLabels = [\n  'Stress test',\n  'Minimum rent'];\n\nexport default {\n  freeCashLabels,\n  initialFinanceLabels,\n  flipLabels,\n  stressLabels,\n};\n","import calculateStampDuty from './stampduty/stampduty-calculator';\nimport calculationsLabels from '../../labels/calculations-labels';\n\nconst percentSign = String.fromCharCode(37);\nconst freeCash = ({\n  loanToValue,\n  propertyValue,\n  doneUpValue,\n  mortgageInterestRatePercent,\n  monthlyRent,\n  moePercent,\n  agentsPercent,\n  refurbCost,\n  otherCost,\n  stampDutyType,\n  stampDutyRegion,\n  stampDutyBuyer,\n  remortgageFee,\n  remortgageValuationFee,\n  remortgageLegalFee,\n  initMortgageFee,\n  initLegalFee,\n  initSurveyorsFee,\n  repairingLease,\n}) => {\n  const isRepairing = repairingLease === 'yes';\n  const loanToVal = loanToValue / 100;\n  const remortgageAdvance = Math.round(doneUpValue * loanToVal);\n  const remortgageDeposit = Math.round(doneUpValue * (1 - loanToVal));\n  const remortgageMonthlyInterest = Math\n    .round(remortgageAdvance * mortgageInterestRatePercent / 1200);\n  const moe = isRepairing ? 0 : (monthlyRent * moePercent / 100);\n  const lettingAgentsFees = isRepairing ? 0 : (monthlyRent * agentsPercent / 100);\n  const freeCashFlowMonthly = monthlyRent - (repairingLease === 'yes' ? 0 : moe) - remortgageMonthlyInterest - lettingAgentsFees;\n  const totalOtherCosts = refurbCost + otherCost;\n  const sdltTotal = calculateStampDuty(\n    propertyValue, stampDutyType, stampDutyRegion, stampDutyBuyer,\n  );\n  const remortgageFees = remortgageFee + remortgageValuationFee + remortgageLegalFee;\n  const initialFees = initMortgageFee + initLegalFee + initSurveyorsFee;\n  const initialCost = initialFees + totalOtherCosts + sdltTotal + propertyValue;\n  const grossYield = (monthlyRent * 1200) / initialCost;\n  const labels = calculationsLabels.freeCashLabels;\n\n  return [\n    { label: labels[0], value: remortgageAdvance.toFixed(2) },\n    { label: labels[1], value: remortgageDeposit.toFixed(2) },\n    { label: labels[2], value: remortgageFees.toFixed(2) },\n    { label: labels[3], value: initialCost.toFixed(2) },\n    { label: labels[4], value: (remortgageAdvance - remortgageFees).toFixed(2) },\n    { label: labels[5], value: (initialCost - (remortgageAdvance - remortgageFees)).toFixed(2) },\n    { label: labels[6], value: monthlyRent.toFixed(2) },\n    { label: labels[7], value: remortgageMonthlyInterest.toFixed(2) },\n    { label: labels[8], value: moe.toFixed(2) },\n    { label: labels[9], value: lettingAgentsFees.toFixed(2) },\n    { label: labels[10], value: freeCashFlowMonthly.toFixed(2) },\n    { label: labels[11], value: grossYield.toFixed(2) + percentSign },\n  ];\n};\n\nexport default freeCash;\n","import allInputCosts from './allInputCosts';\nimport freeCash from './freeCash';\nimport initialFinance from './initialFinance';\nimport flip from './flip';\nimport stressTest from './stressTest';\n\nconst getCurrencyCode = ({ stampDutyType }) => (stampDutyType === 'ireland' ? 8364 : 163);\n\nconst calculations = {\n  freeCash,\n  initialFinance,\n  flip,\n  allInputCosts,\n  stressTest,\n  getCurrencyCode,\n};\n\nexport default calculations;\n","import calculateStampDuty from './stampduty/stampduty-calculator';\nimport allInputCosts from './allInputCosts';\nimport calculationsLabels from '../../labels/calculations-labels';\n\nconst initialFinance = ({\n  buyingCash,\n  initialLoanToValue,\n  propertyValue,\n  initSurveyorsFee,\n  initLegalFee,\n  initMortgageFee,\n  refurbCost,\n  otherCost,\n  stampDutyType,\n  stampDutyRegion,\n  stampDutyBuyer,\n}) => {\n  const isCash = buyingCash === 'yes';\n  const loanToVal = initialLoanToValue / 100;\n  const initMortgageAdvance = isCash ? 0 : Math.round(propertyValue * loanToVal);\n  const initFees = initSurveyorsFee + initLegalFee + initMortgageFee;\n  const other = refurbCost + otherCost;\n  const initialDeposit = isCash ? propertyValue : Math.round(propertyValue * (1 - loanToVal));\n  const sdltTotal = calculateStampDuty(\n    propertyValue, stampDutyType, stampDutyRegion, stampDutyBuyer,\n  );\n  const totCost = allInputCosts(initSurveyorsFee, initLegalFee, initMortgageFee,\n    refurbCost, otherCost, propertyValue, stampDutyType, stampDutyRegion, stampDutyBuyer);\n  const totIn = totCost - initMortgageAdvance;\n  const labels = calculationsLabels.initialFinanceLabels;\n\n  return [\n    { label: labels[0], value: initMortgageAdvance.toFixed(2) },\n    { label: labels[1], value: initialDeposit.toFixed(2) },\n    { label: labels[2], value: sdltTotal.toFixed(2) },\n    { label: labels[3], value: initFees.toFixed(2) },\n    { label: labels[4], value: other.toFixed(2) },\n    { label: labels[5], value: totIn.toFixed(2) },\n    { label: labels[6], value: totCost.toFixed(2) },\n  ];\n};\n\nexport default initialFinance;\n","import allInputCosts from './allInputCosts';\nimport calculationsLabels from '../../labels/calculations-labels';\n\nconst flip = ({\n  sellingLegalFee,\n  agentSellingFee,\n  initSurveyorsFee,\n  initLegalFee,\n  initMortgageFee,\n  refurbCost,\n  otherCost,\n  propertyValue,\n  stampDutyType,\n  stampDutyRegion,\n  stampDutyBuyer,\n  doneUpValue,\n}) => {\n  const totCost = allInputCosts(initSurveyorsFee, initLegalFee, initMortgageFee,\n    refurbCost, otherCost, propertyValue, stampDutyType, stampDutyRegion, stampDutyBuyer);\n\n  const fees = sellingLegalFee + agentSellingFee;\n  const flipGain = Math.round((doneUpValue - totCost) / totCost * 10000) / 100;\n  const col = (flipGain >= 20) ? 'green' : 'red';\n  const labels = calculationsLabels.flipLabels;\n\n  return [\n    { label: labels[0], value: doneUpValue.toFixed(2) },\n    { label: labels[1], value: fees.toFixed(2) },\n    { label: labels[2], value: totCost.toFixed(2) || '0' },\n    { label: labels[3], value: ((doneUpValue - (totCost + fees)).toFixed(2) || '0'), col },\n    { label: labels[4], value: flipGain.toFixed(2) || 0, col },\n  ];\n};\n\nexport default flip;\n","import calculationsLabels from '../../labels/calculations-labels';\n\nconst stressTest = ({\n  doneUpValue,\n  monthlyRent,\n  loanToValue,\n  mortgageStressInterestRatePercent,\n  mortgageStressMultipePercent,\n}) => {\n  const minRent = Math.ceil(\n    doneUpValue\n    * loanToValue / 100\n    * mortgageStressInterestRatePercent / 1200\n    * mortgageStressMultipePercent / 100,\n  );\n  const pass = monthlyRent >= minRent;\n  const labels = calculationsLabels.stressLabels;\n\n  return [\n    { label: labels[0], value: pass ? 'pass' : 'fail' },\n    { label: labels[1], value: minRent.toFixed(2) },\n  ];\n};\n\nexport default stressTest;\n","/* eslint-env browser */\n/* eslint react/prop-types: 0 */\nimport React, { Component } from 'react';\nimport Form from './form/FormComponent';\nimport { fields } from './form/formconfig';\nimport '../css/app.css';\nimport SavedStateList from './saved/SavedStateComponents';\nimport Results from './results/ResultsComponent';\nimport calculations from '../logic/calculations/index';\n\nconst urls = {\n  comparisons: process.env.REACT_APP_COMPARISONS_URL,\n};\n\nclass App extends Component {\n  static setDefaultFormData() {\n    const defaults = {};\n    fields.map((ob) => {\n      defaults[ob.name] = ob.defVal;\n      return false;\n    });\n    return defaults;\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {\n        dealFinance: [],\n        buyToLet: [],\n        stress: [],\n        flip: [],\n      },\n      currency: 163,\n      savedStates: { Items: [] },\n      currentState: { projectName: '' },\n      hasWorkingAPI: false,\n    };\n    this.calculate = this.calculate.bind(this);\n    this.saveState = this.saveState.bind(this);\n    this.deleteState = this.deleteState.bind(this);\n    this.selectState = this.selectState.bind(this);\n  }\n\n  componentDidMount() {\n    this.getSavedStates(true);\n  }\n\n  getSavedStates(setDefault) {\n    const sortByNameThenDate = (\n      { projectName: pNameA, id: idA },\n      { projectName: pNameB, id: idB },\n    ) => {\n      if ((pNameA + idA) < (pNameB + idB)) return -1;\n      if ((pNameA + idA) > (pNameB + idB)) return 1;\n      return 0;\n    };\n\n    fetch(urls.comparisons)\n      .then(response => response.json())\n      .then((data) => {\n        if (data.Items.length > 0) {\n          data.Items.sort(sortByNameThenDate);\n        }\n        this.loadState(data, setDefault);\n      })\n      .catch(() => {\n        this.loadState(null, true);\n      });\n  }\n\n  findState(stateId) {\n    const { savedStates } = this.state;\n    return savedStates.Items.find(state => state.id === stateId);\n  }\n\n  loadState(data, setDefault) {\n    const newState = {\n      savedStates: data || { Items: [] },\n      hasWorkingAPI: !!data,\n    };\n\n    if (setDefault) {\n      newState.currentState = App.setDefaultFormData();\n    }\n\n    this.setState(newState);\n  }\n\n  calculate(changedField, newValue) {\n    const { currentState } = this.state;\n    const inputData = (changedField)\n      ? { ...currentState, [changedField]: newValue } : currentState;\n    const dealFinance = calculations.initialFinance(inputData);\n    const buyToLet = calculations.freeCash(inputData);\n    const flip = calculations.flip(inputData);\n    const stress = calculations.stressTest(inputData);\n    const currSymbol = calculations.getCurrencyCode(inputData);\n\n    document.getElementById('doc-title').text = inputData.projectName.replace(/ /g, '-');\n\n    const newState = {\n      data: {\n        dealFinance,\n        buyToLet,\n        stress,\n        flip,\n      },\n      currency: currSymbol,\n    };\n\n    if (changedField) {\n      newState.currentState = inputData;\n    }\n\n    this.setState(newState);\n  }\n\n  saveState() {\n    const { currentState } = this.state;\n    const { projectName, postCode } = currentState;\n    if (projectName === '' || postCode === '') {\n      return;\n    }\n    fetch(urls.comparisons, {\n      method: 'PUT',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(currentState),\n    })\n      .then(response => response.json())\n      .then(() => {\n        this.getSavedStates(false);\n      })\n      .catch(() => this.setState({ savedStates: { Items: 'No save service available' } }))\n      .finally(() => {\n        this.setState({ error: null });\n      });\n  }\n\n  deleteState(stateId) {\n    fetch(urls.comparisons, {\n      method: 'DELETE',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ id: stateId }),\n    })\n      .then((resp) => {\n        if (resp.ok) {\n          const { currentState } = this.state;\n          this.getSavedStates(stateId === currentState.id);\n        } else {\n          throw new Error('delete failed');\n        }\n      }).catch(() => this.setState({ savedStates: { Items: 'No delete service avaialable' } }));\n  }\n\n  selectState(stateId) {\n    const selectedState = this.findState(stateId);\n    this.setState({ currentState: selectedState }, () => this.calculate());\n  }\n\n  handleNew(e) {\n    e.preventDefault();\n    this.setState(\n      { currentState: App.setDefaultFormData() }, () => this.calculate(),\n    );\n    e.target.blur();\n  }\n\n  render() {\n    const {\n      currency,\n      savedStates,\n      currentState,\n      hasWorkingAPI,\n      error,\n    } = this.state;\n    const { projectName, postCode } = currentState;\n    const showSave = (\n      hasWorkingAPI\n      && projectName !== ''\n      && postCode !== ''\n    );\n    const { Items } = savedStates;\n    const savedList = Items ? (\n      <SavedStateList\n        data={Items}\n        ondelete={this.deleteState}\n        onclick={this.selectState}\n      />\n    ) : '';\n    const newButton = currentState.projectName !== '' ? (\n      <ul className=\"right\">\n        <li>\n          <button\n            type=\"submit\"\n            className=\"btn-primary form-control\"\n            onClick={event => this.handleNew(event)}\n          >\n            new\n          </button>\n        </li>\n      </ul>\n    ) : '';\n\n    return Object.keys(currentState).length > 1 ? (\n      <div className=\"App\">\n        <div className=\"column\" style={{ textAlign: 'center' }}>\n          <h5>Property investment deal analyser</h5>\n          <Form\n            name=\"propcalc\"\n            fields={fields}\n            formData={currentState}\n            twocols=\"yes\"\n            calculate={this.calculate}\n            currsymbol={currency}\n            onsave={this.saveState}\n            showsave={showSave}\n            error={error}\n          />\n          {newButton}\n        </div>\n        <div className=\"column results\">\n          {Results(this.state)}\n        </div>\n        <div className=\"column states\">\n          {savedList}\n        </div>\n      </div>\n    ) : '';\n  }\n}\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nimport './css/bootstrap-override.scss';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}