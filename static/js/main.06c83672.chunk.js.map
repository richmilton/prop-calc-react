{"version":3,"sources":["components/common/formConstants.js","logic/calculations/stampduty/stampduty-bands.js","components/common/StatelessFormComponents.jsx","components/form/FormComponent.jsx","components/form/formconfig.js","components/saved/SavedStateComponents.jsx","components/results/list/ResultsListComponent.jsx","util/validate-postcode.js","components/results/links/ResultsLinksComponent.jsx","components/results/ResultsComponent.jsx","logic/calculations/stampduty/stampduty-calculator.js","logic/calculations/allInputCosts.js","labels/calculations-labels.js","logic/calculations/freeCash.js","logic/calculations/index.jsx","logic/calculations/initialFinance.js","logic/calculations/flip.js","logic/calculations/stressTest.js","components/login/formconfig.js","components/login/LoginComponent.jsx","components/login/LogoutComponent.jsx","components/App.jsx","serviceWorker.js","index.js","Root.jsx"],"names":["percentSign","String","fromCharCode","module","exports","types","NUMBER","TEXT","CHECKBOX","SELECT","EMAIL","currencyPlaceholder","ireland","upto","rate","scotland","load","bands","commercial","england","wales","residential","first","thresholds","limit","concat","currRegEx","RegExp","addCurrencySymbolToLabel","label","currencyCode","currSymbol","replace","Label","_ref","name","doLabelClass","dynamicLabel","type","currency","labelWithCurrency","react_default","a","createElement","className","htmlFor","StatelessComponents","Input","_ref2","onInput","placeholder","defVal","onblur","required","disabled","key","id","onChange","e","autoComplete","value","checked","onBlur","Select","_ref3","options","map","opt","FormColumn","render","fields","Form","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","doLabel","bind","assertThisInitialized","renderFields","renderFieldCols","handleChange","handleSave","calculate","fname","formData","val","Number","isNaN","parseFloat","preventDefault","onsave","target","blur","_this2","formFields","_this$props","currsymbol","forEach","field","ob","objectSpread","isDisabled","regex","test","whenField","disabled2","n","l","push","arrLength","Math","floor","length","left","slice","right","splice","_this$props2","twocols","button","showsave","onClick","Component","handleClick","callback","split","SavedStateListItem","milis","ondelete","onclick","deletable","firstname","style","width","dateFormat","Date","parseInt","display","SavedStateList","data","onselect","useremail","filter","filteredData","ind","projectName","email","SavedStateComponents_SavedStateListItem","ListItem","ResultsList","ResultsListComponent_ListItem","postCodeRegEx","validatePostcode","postCode","toUpperCase","urls","rmBuy","process","rmRent","nhpSold","gMap","Link","href","text","rel","Links","askingPrice","monthlyRent","propertyValue","urlType","stampDutyType","startsWith","oneK","oneHundredK","maxPrice","ceil","maxRent","Fragment","color","fontStyle","Results","currentState","_ref$currentState","dealType","dealFinance","buyToLet","stress","flip","showBTL","showFlip","ResultsListComponent","calculateStampDuty","region","buyer","onePercentOfVal","sdltBands","_sdltBands$type$first","bandLimit","previousBandLimit","tax","idx","allInputCosts","initSurveyorsFee","initLegalFee","initMortgageFee","refurbCost","otherCost","stampDutyRegion","stampDutyBuyer","calculations_labels","calculations","freeCash","loanToValue","doneUpValue","mortgageInterestRatePercent","moePercent","agentsPercent","remortgageFee","remortgageValuationFee","remortgageLegalFee","repairingLease","isRepairing","loanToVal","remortgageAdvance","round","remortgageDeposit","remortgageMonthlyInterest","moe","lettingAgentsFees","freeCashFlowMonthly","remortgageFees","initialCost","grossYield","labels","calculationsLabels","toFixed","initialFinance","interest","term","buyingCash","initialLoanToValue","mortgageTerm","isCash","initMortgageAdvance","mortgageMonthlyInterest","monthlyRepayment","pow","initFees","other","initialDeposit","sdltTotal","totCost","totIn","sellingLegalFee","agentSellingFee","fees","flipGain","col","stressTest","mortgageStressInterestRatePercent","mortgageStressMultipePercent","minRent","pass","getCurrencyCode","Login","state","handleSubmit","setState","doLogin","textAlign","onSubmit","Logout","doLogout","App","savedStates","Items","hasWorkingAPI","userEmail","cookies","get","saveState","deleteState","selectState","login","logout","defaults","getSavedStates","setDefault","sortByNameThenDate","pNameA","idA","pNameB","idB","fetch","then","response","json","sort","loadState","catch","stateId","find","newState","setDefaultFormData","changedField","newValue","inputData","defineProperty","document","getElementById","_this3","_this$state","_this$state$currentSt","stateToSave","method","headers","Accept","Content-Type","body","JSON","stringify","finally","error","_this4","resp","ok","Error","_this5","selectedState","findState","_this6","_this7","set","path","_this8","_this$state2","showSave","savedList","float","LogoutComponent","SavedStateComponents","o","newButton","event","handleNew","keys","FormComponent","LoginComponent","withCookies","Boolean","window","location","hostname","match","ReactDOM","es6","components_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.06c83672.chunk.js","sourcesContent":["const types = {\n  NUMBER: 'number',\n  TEXT: 'text',\n  CHECKBOX: 'checkbox',\n  SELECT: 'select',\n  EMAIL: 'email',\n};\n\nconst currencyPlaceholder = '##CURR##';\nconst percentSign = String.fromCharCode(37);\n\nmodule.exports = {\n  types,\n  currencyPlaceholder,\n  percentSign,\n};\n","const ireland = [\n  { upto: 1000000, rate: 1 },\n  { upto: 'end', rate: 2 },\n];\nconst scotland = [{ upto: 250000, rate: 2, load: 3 },\n  { upto: 325000, rate: 5, load: 3 },\n  { upto: 750000, rate: 10, load: 3 },\n  { upto: 'end', rate: 12, load: 3 },\n];\nconst bands = {\n  commercial: {\n    england: [\n      { upto: 150000, rate: 0 },\n      { upto: 250000, rate: 2 },\n      { upto: 'end', rate: 5 },\n    ],\n    wales: [\n      { upto: 150000, rate: 0 },\n      { upto: 250000, rate: 1 },\n      { upto: 1000000, rate: 5 },\n      { upto: 'end', rate: 6 },\n    ],\n    scotland: [\n      { upto: 150000, rate: 0 },\n      { upto: 250000, rate: 1 },\n      { upto: 'end', rate: 5 },\n    ],\n    ireland,\n  },\n\n  residential: {\n    first: {\n      england: {\n        thresholds: [\n          { upto: 300000, rate: 0 },\n          { upto: 500000, rate: 5 },\n        ],\n        limit: 500000,\n      },\n      scotland: {\n        thresholds: [\n          { upto: 175000, rate: 0 },\n          ...scotland,\n        ],\n        limit: -1,\n      },\n    },\n    england: [\n      { upto: 125000, rate: 0, load: 3 },\n      { upto: 250000, rate: 2, load: 3 },\n      { upto: 925000, rate: 5, load: 3 },\n      { upto: 1500000, rate: 10, load: 3 },\n      { upto: 'end', rate: 12, load: 3 },\n    ],\n    wales: [\n      { upto: 180000, rate: 0, load: 3 },\n      { upto: 250000, rate: 3.5, load: 3 },\n      { upto: 400000, rate: 5, load: 3 },\n      { upto: 750000, rate: 7.5, load: 3 },\n      { upto: 1500000, rate: 10, load: 3 },\n      { upto: 'end', rate: 12, load: 3 },\n    ],\n    scotland: [\n      { upto: 145000, rate: 0, load: 3 },\n      ...scotland,\n    ],\n    ireland,\n  },\n};\n\nmodule.exports = bands;\n","// stateless component Input. Currently handles types text, number, checkbox\n// passed through props\n/* eslint react/prop-types: 0 */\nimport React from 'react';\nimport { currencyPlaceholder } from './formConstants';\n\nconst currRegEx = new RegExp(currencyPlaceholder, 'g');\n\nconst addCurrencySymbolToLabel = (label, currencyCode) => {\n  const currSymbol = String.fromCharCode(currencyCode);\n  return label.replace(currRegEx, currSymbol);\n};\n\n// stateless component Label\nfunction Label({\n  name, doLabelClass, dynamicLabel, label, type, currency,\n}) {\n  const labelWithCurrency = addCurrencySymbolToLabel(label, currency);\n\n  return (\n    <div className={type === 'checkbox' ? 'checkbox-label' : 'input-label'}>\n      <label\n        htmlFor={name}\n        className={doLabelClass(name)}\n      >\n        {dynamicLabel(name, labelWithCurrency)}\n      </label>\n    </div>\n  );\n}\n\nfunction Input({\n  className, name, type, onInput,\n  placeholder, label, defVal, onblur,\n  doLabelClass, dynamicLabel, currency, required, disabled,\n}) {\n  const labelWithCurrency = addCurrencySymbolToLabel(label, currency);\n\n  return (\n    <li key={name}>\n      <input\n        className={className || 'form-control'}\n        key={name}\n        type={type}\n        name={name}\n        id={name}\n        onChange={e => onInput(e)}\n        autoComplete=\"off\"\n        placeholder={placeholder || labelWithCurrency || `${name} [${type}]`}\n        value={defVal || ''}\n        checked={defVal === 'yes'}\n        onBlur={e => onblur(e)}\n        required={required || false}\n        disabled={disabled}\n      />\n      {Label({\n        name, doLabelClass, dynamicLabel, label, type, currency,\n      })}\n    </li>\n  );\n}\n\n// stateless component Select\nfunction Select({\n  className, name, type, onInput, label, defVal, onblur,\n  options, doLabelClass, dynamicLabel, disabled,\n}) {\n  return (\n    <li key={name}>\n      <select\n        value={defVal}\n        className={className || 'form-control'}\n        key={name}\n        name={name}\n        id={name}\n        onChange={e => onInput(e)}\n        onBlur={e => onblur(e)}\n        disabled={disabled}\n      >\n        {options.map(\n          opt => (\n            <option\n              key={opt.value}\n              name={opt.name}\n              value={opt.value}\n            >\n              {opt.name}\n            </option>\n          ),\n        )}\n      </select>\n      {Label({\n        name, doLabelClass, dynamicLabel, label, type,\n      })}\n    </li>\n  );\n}\n\nconst StatelessComponents = {\n  Input,\n  Select,\n};\n\nexport default StatelessComponents;\n","/* eslint react/prop-types: 0 */\n/* eslint-env browser */\nimport React, { Component } from 'react';\nimport StatelessComponents from '../common/StatelessFormComponents';\nimport { types } from '../common/formConstants';\n\nconst { Input, Select } = StatelessComponents;\n\nfunction FormColumn({ render, fields, className }) {\n  return (\n    <ul className={className}>\n      {render(fields)}\n    </ul>\n  );\n}\n\nclass Form extends Component {\n  constructor(props) {\n    super(props);\n    this.doLabel = this.doLabel.bind(this);\n    this.doLabelClass = this.doLabelClass.bind(this);\n    this.renderFields = this.renderFields.bind(this);\n    this.renderFieldCols = this.renderFieldCols.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSave = this.handleSave.bind(this);\n  }\n\n  componentDidMount() {\n    const { props } = this;\n    props.calculate();\n  }\n\n  doLabel(fname, label) {\n    const { formData } = this.props;\n    return formData && formData[fname] ? label || fname : '';\n  }\n\n  doLabelClass(fname) {\n    const { formData } = this.props;\n    return formData && formData[fname] ? 'show' : 'hide';\n  }\n\n  handleChange({\n    type,\n    value,\n    checked,\n    name,\n  }) {\n    const { props } = this;\n    let val;\n\n    switch (type) {\n      case types.NUMBER:\n        val = Number.isNaN(value) ? 0 : (parseFloat(value) || 0);\n        break;\n      case types.CHECKBOX:\n        val = checked ? 'yes' : 'no';\n        break;\n      default:\n        val = value || '';\n    }\n\n    props.calculate(name, val);\n  }\n\n  handleSave(e) {\n    e.preventDefault();\n    const { onsave } = this.props;\n    onsave();\n    e.target.blur();\n  }\n\n  renderFields(fields) {\n    const formFields = [];\n    const { currsymbol, formData } = this.props;\n    fields.forEach((field) => {\n      const ob = { ...field };\n      const isDisabled = (ob.disabled && ob.disabled.regex.test(formData[ob.disabled.whenField]))\n        || (ob.disabled2 && ob.disabled2.regex.test(formData[ob.disabled2.whenField]));\n      ob.dynamicLabel = (n, l) => this.doLabel(n, l);\n      ob.doLabelClass = n => this.doLabelClass(n);\n      ob.onInput = e => this.handleChange(e.target);\n      ob.onblur = e => this.handleChange(e.target);\n      ob.currency = currsymbol;\n      ob.defVal = formData[ob.name];\n      ob.disabled = isDisabled;\n      if (ob.type === 'select') {\n        formFields.push(Select(ob));\n      } else {\n        formFields.push(Input(ob));\n      }\n    });\n    return formFields;\n  }\n\n  renderFieldCols() {\n    const { fields } = this.props;\n    const arrLength = Math.floor(fields.length / 2);\n    const left = fields.slice(0);\n    const right = left.splice(arrLength);\n\n    return [\n      <FormColumn\n        key=\"1\"\n        fields={left}\n        className=\"left\"\n        render={this.renderFields}\n      />,\n      <FormColumn\n        key=\"2\"\n        fields={right}\n        className=\"right\"\n        render={this.renderFields}\n      />,\n    ];\n  }\n\n  render() {\n    const {\n      name,\n      twocols,\n      fields,\n      showsave,\n    } = this.props;\n    const button = showsave ? (\n      <ul className=\"left\">\n        <li>\n          <button\n            type=\"submit\"\n            className=\"btn-primary form-control\"\n            onClick={this.handleSave}\n          >\n            save this\n          </button>\n        </li>\n      </ul>\n    ) : '';\n\n    return (\n      <form\n        name={name}\n        id={name}\n      >\n        {twocols === 'yes' ? this.renderFieldCols() : this.renderFields(fields)}\n        {button}\n      </form>\n    );\n  }\n}\n\nexport default Form;\n","import { types, currencyPlaceholder, percentSign } from '../common/formConstants';\n\nconst fields = [\n  {\n    label: 'Project name',\n    name: 'projectName',\n    type: types.TEXT,\n    defVal: '',\n    required: true,\n  },\n  {\n    label: 'Post code',\n    name: 'postCode',\n    type: types.TEXT,\n    defVal: '',\n    required: true,\n  },\n  {\n    label: `Asking price(${currencyPlaceholder})`,\n    name: 'askingPrice',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Purchase price(${currencyPlaceholder})`,\n    name: 'propertyValue',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Done up value(${currencyPlaceholder})`,\n    name: 'doneUpValue',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: 'Cash purchase',\n    name: 'buyingCash',\n    type: types.CHECKBOX,\n    defVal: 'no',\n  },\n  {\n    label: `Initial LTV(${percentSign})`,\n    name: 'initialLoanToValue',\n    type: types.NUMBER,\n    defVal: 75,\n    disabled: { whenField: 'buyingCash', regex: /yes/ },\n  },\n  {\n    label: `Mortgage fee(${currencyPlaceholder})`,\n    name: 'initMortgageFee',\n    type: types.NUMBER,\n    defVal: 0,\n    disabled: { whenField: 'buyingCash', regex: /yes/ },\n  },\n  {\n    label: `Surveyors fee(${currencyPlaceholder})`,\n    name: 'initSurveyorsFee',\n    type: types.NUMBER,\n    defVal: 600,\n  },\n  {\n    label: `Legal fees(${currencyPlaceholder})`,\n    name: 'initLegalFee',\n    type: types.NUMBER,\n    defVal: 1500,\n  },\n  {\n    label: 'Stamp duty type',\n    name: 'stampDutyType',\n    type: types.SELECT,\n    options: [\n      { value: 'residential', name: 'Residential' },\n      { value: 'commercial', name: 'Commercial' },\n    ],\n    defVal: 'residential',\n  },\n  {\n    label: 'Stamp duty region',\n    name: 'stampDutyRegion',\n    type: types.SELECT,\n    options: [\n      { value: 'england', name: 'England/NI' },\n      { value: 'scotland', name: 'Scotland' },\n      { value: 'wales', name: 'Wales' },\n      { value: 'ireland', name: 'Ireland' },\n    ],\n    defVal: 'england',\n  },\n  {\n    label: 'Stamp duty buyer',\n    name: 'stampDutyBuyer',\n    type: types.SELECT,\n    options: [\n      { value: 'investor', name: 'Investor' },\n      { value: 'first', name: 'First time buyer' },\n      { value: 'home', name: 'Moving house' },\n    ],\n    defVal: 'investor',\n    disabled: { whenField: 'stampDutyType', regex: /commercial/ },\n  },\n  {\n    label: `Monthly rent(${currencyPlaceholder})`,\n    name: 'monthlyRent',\n    type: types.NUMBER,\n    defVal: 0,\n    disabled: { whenField: 'dealType', regex: /^((?!btl).)*$/ },\n  },\n  {\n    label: 'Deal type',\n    name: 'dealType',\n    type: types.SELECT,\n    options: [\n      { value: 'btl&flip', name: 'Buy to let and flip' },\n      { value: 'btl', name: 'Buy to let' },\n      { value: 'flip', name: 'Flip' },\n      { value: 'home', name: 'Home only' },\n    ],\n    defVal: 'btl&flip',\n  },\n  {\n    label: `Refurbishment cost(${currencyPlaceholder})`,\n    name: 'refurbCost',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Other cost(${currencyPlaceholder})`,\n    name: 'otherCost',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Remortgage fee(${currencyPlaceholder})`,\n    name: 'remortgageFee',\n    type: types.NUMBER,\n    defVal: 0,\n    disabled: { whenField: 'dealType', regex: /^((?!btl).)*$/ },\n  },\n  {\n    label: `Remortgage valuation fee(${currencyPlaceholder})`,\n    name: 'remortgageValuationFee',\n    type: types.NUMBER,\n    defVal: 0,\n    disabled: { whenField: 'dealType', regex: /^((?!btl).)*$/ },\n  },\n  {\n    label: `Remortgage legal fees(${currencyPlaceholder})`,\n    name: 'remortgageLegalFee',\n    type: types.NUMBER,\n    defVal: 0,\n    disabled: { whenField: 'dealType', regex: /^((?!btl).)*$/ },\n  },\n  {\n    label: 'Repairing lease',\n    name: 'repairingLease',\n    type: types.CHECKBOX,\n    defVal: 'no',\n    disabled: { whenField: 'dealType', regex: /^((?!btl).)*$/ },\n  },\n  {\n    label: `Letting agents rate(${percentSign})`,\n    name: 'agentsPercent',\n    type: types.NUMBER,\n    defVal: 10,\n    disabled: { whenField: 'repairingLease', regex: /yes/ },\n    disabled2: { whenField: 'dealType', regex: /^((?!btl).)*$/ },\n  },\n  {\n    label: `\n    MOE rate(${percentSign})`,\n    name: 'moePercent',\n    type: types.NUMBER,\n    defVal: 15,\n    disabled: { whenField: 'repairingLease', regex: /yes/ },\n    disabled2: { whenField: 'dealType', regex: /^((?!btl).)*$/ },\n  },\n  {\n    label: 'Mortgage term',\n    name: 'mortgageTerm',\n    type: types.NUMBER,\n    defVal: 25,\n  },\n  {\n    label: `Interest rate(${percentSign})`,\n    name: 'mortgageInterestRatePercent',\n    type: types.NUMBER,\n    defVal: 6.0,\n  },\n  {\n    label: `Remortgage LTV(${percentSign})`,\n    name: 'loanToValue',\n    type: types.NUMBER,\n    defVal: 75,\n    disabled: { whenField: 'dealType', regex: /^((?!btl).)*$/ },\n  },\n  {\n    label: `Solicitors selling fee(${currencyPlaceholder})`,\n    name: 'sellingLegalFee',\n    type: types.NUMBER,\n    defVal: 0,\n    disabled: { whenField: 'dealType', regex: /^((?!flip).)*$/ },\n  },\n  {\n    label: `Agent/selling fee(${currencyPlaceholder})`,\n    name: 'agentSellingFee',\n    type: types.NUMBER,\n    defVal: 0,\n    disabled: { whenField: 'dealType', regex: /^((?!flip).)*$/ },\n  },\n  {\n    label: `Mortgage stress test(${percentSign})`,\n    name: 'mortgageStressMultipePercent',\n    type: types.NUMBER,\n    defVal: 125,\n    disabled: { whenField: 'dealType', regex: /^((?!btl).)*$/ },\n  },\n  {\n    label: `Stress interest rate(${percentSign})`,\n    name: 'mortgageStressInterestRatePercent',\n    type: types.NUMBER,\n    defVal: 5.0,\n    disabled: { whenField: 'dealType', regex: /^((?!btl).)*$/ },\n  },\n];\n\nexport default fields;\n","/* eslint-env browser */\n/* eslint react/prop-types: 0 */\n// eslint-disable-next-line\nimport React from 'react';\nimport dateFormat from 'date-format';\n// import Login from '../login/LoginComponent';\n\nconst handleClick = (e, callback) => {\n  e.preventDefault();\n  e.target.blur();\n  callback(e.target.id.split('-')[1]);\n};\n\nconst showDate = milis => dateFormat('dd/MM hh:mm:ss', new Date(parseInt(milis, 0)));\n\nconst SavedStateListItem = ({\n  label,\n  value,\n  ondelete,\n  onclick,\n  deletable,\n  firstname,\n}) => (\n  <li>\n    <div className=\"state\">\n      <button\n        className=\"btn-primary form-control\"\n        style={{ width: '100%' }}\n        type=\"submit\"\n        id={`select-${value}`}\n        onClick={e => handleClick(e, onclick)}\n      >\n        {`${label} (${showDate(value)}${deletable ? '' : ` ${firstname}`})`}\n      </button>\n    </div>\n    <div className=\"remove-state\">\n      <button\n        className=\"btn-sm btn-primary btn-warning\"\n        type=\"submit\"\n        id={`delete-${value}`}\n        onClick={e => handleClick(e, ondelete)}\n        style={{ display: deletable ? '' : 'none' }}\n      >\n        delete\n      </button>\n    </div>\n  </li>\n);\n\nconst SavedStateList = ({\n  data,\n  ondelete,\n  onselect,\n  onclick,\n  useremail,\n  filter,\n}) => {\n  if (data.map) {\n    const filteredData = data.filter(filter);\n    return (\n      <ul>\n        {filteredData.map(({ projectName, id, email }, ind) => {\n          const key = `li-${id}-${ind}`;\n          return (\n            <SavedStateListItem\n              ondelete={ondelete}\n              key={`li-${key}`}\n              label={projectName || 'untitled'}\n              value={id}\n              onselect={onselect}\n              onclick={onclick}\n              deletable={useremail === email}\n              firstname={email.split('@')[0].split('.')[0]}\n            />\n          );\n        })}\n      </ul>\n    );\n  }\n  return '';\n};\n\nexport default SavedStateList;\n","/* eslint react/prop-types: 0 */\n// eslint-disable-next-line\nimport React from 'react';\n\nconst ListItem = ({ label, value }) => (\n  <li>\n    <div className=\"label\">{label}</div>\n    <div className=\"value\">{value}</div>\n  </li>\n);\n\nconst ResultsList = ({ data, id }) => (data ? (\n  <ul>\n    {data.map(({ label, value }, ind) => {\n      const key = `li-${id}-${ind}`;\n      return <ListItem key={`li-${key}`} label={label} value={value} />;\n    })}\n  </ul>\n) : '');\n\nexport default ResultsList;\n","// postcode validation regex\nconst postCodeRegEx = /^(GIR[ ]?0AA|((AB|AL|B|BA|BB|BD|BH|BL|BN|BR|BS|BT|CA|CB|CF|CH|CM|CO|CR|CT|CV|CW|DA|DD|DE|DG|DH|DL|DN|DT|DY|E|EC|EH|EN|EX|FK|FY|G|GL|GY|GU|HA|HD|HG|HP|HR|HS|HU|HX|IG|IM|IP|IV|JE|KA|KT|KW|KY|L|LA|LD|LE|LL|LN|LS|LU|M|ME|MK|ML|N|NE|NG|NN|NP|NR|NW|OL|OX|PA|PE|PH|PL|PO|PR|RG|RH|RM|S|SA|SE|SG|SK|SL|SM|SN|SO|SP|SR|SS|ST|SW|SY|TA|TD|TF|TN|TQ|TR|TS|TW|UB|W|WA|WC|WD|WF|WN|WR|WS|WV|YO|ZE)(\\d[\\dA-Z]?[ ]?\\d[ABD-HJLN-UW-Z]{2}))|BFPO[ ]?\\d{1,4})$/;\n\nconst validatePostcode = postCode => postCodeRegEx.test(postCode.toUpperCase());\n\nexport default validatePostcode;\n","/* eslint react/prop-types: 0 */\nimport React from 'react';\nimport validatePostcode from '../../../util/validate-postcode';\n\nconst urls = {\n  rmBuy: {\n    commercial: process.env.REACT_APP_RM_COM_BUY_URL,\n    residential: process.env.REACT_APP_RM_BUY_URL,\n  },\n  rmRent: {\n    commercial: process.env.REACT_APP_RM_COM_LET_URL,\n    residential: process.env.REACT_APP_RM_LET_URL,\n  },\n  nhpSold: process.env.REACT_APP_NHP_SOLD_URL,\n  gMap: process.env.REACT_APP_MAP_URL,\n};\n\nfunction Link({ href, text }) {\n  return (\n    <a\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      href={href}\n    >\n      {text}\n    </a>\n  );\n}\n\nfunction Links(\n  {\n    postCode,\n    askingPrice,\n    monthlyRent,\n    propertyValue,\n    stampDutyType,\n  },\n) {\n  const urlType = stampDutyType.startsWith('commercial') ? 'commercial' : 'residential';\n  const { oneK, oneHundredK } = { oneK: 1000, oneHundredK: 100000 };\n  const maxPrice = Math\n    .ceil((askingPrice || propertyValue || 400000) / oneHundredK * 1.2) * oneHundredK;\n  const maxRent = Math.ceil((monthlyRent || oneK) / oneK * 1.2) * oneK;\n\n  return (postCode && validatePostcode(postCode)) ? (\n    <React.Fragment>\n      <Link\n        href={urls.nhpSold + postCode}\n        text=\"sold\"\n      />\n      {' | '}\n      <Link\n        href={`${urls.rmBuy[urlType] + postCode}&maxPrice=${(maxPrice)}`}\n        text=\"for sale\"\n      />\n      {' | '}\n      <Link\n        href={`${urls.rmRent[urlType] + postCode}&maxPrice=${maxRent}`}\n        text=\"to let\"\n      />\n      {' | '}\n      <Link\n        href={urls.gMap + postCode}\n        text=\"gmap\"\n      />\n    </React.Fragment>\n  ) : <span style={{ color: 'red', fontStyle: 'italic' }}>use a full valid post code to see links here</span>;\n}\n\nexport default Links;\n","/* eslint react/prop-types: 0 */\nimport React from 'react';\nimport ResultsList from './list/ResultsListComponent';\nimport Links from './links/ResultsLinksComponent';\nimport validatePostcode from '../../util/validate-postcode';\n\nfunction Results({ data, currentState, currentState: { postCode, dealType } }) {\n  const {\n    dealFinance,\n    buyToLet,\n    stress,\n    flip,\n  } = data;\n  const showBTL = /btl/.test(dealType);\n  const showFlip = /flip/.test(dealType);\n\n  return (\n    <React.Fragment>\n      <div className=\"res-block\" style={{ display: validatePostcode(postCode) ? '' : 'none' }}>\n        <h6>Links for this post code</h6>\n        {Links(currentState)}\n      </div>\n      <div className=\"res-block\">\n        <h6>Deal finance</h6>\n        <ResultsList id=\"1\" data={dealFinance} />\n      </div>\n      <div className=\"res-block\" style={{ display: showBTL ? '' : 'none' }}>\n        <h6>Buy to let</h6>\n        <ResultsList id=\"2\" data={buyToLet || ''} />\n      </div>\n      <div className=\"res-block\" style={{ display: showBTL ? '' : 'none' }}>\n        <h6>Stress test</h6>\n        <ResultsList id=\"3\" data={stress || ''} />\n      </div>\n      <div className=\"res-block\" style={{ display: showFlip ? '' : 'none' }}>\n        <h6>Flip</h6>\n        <ResultsList id=\"4\" data={flip} />\n      </div>\n    </React.Fragment>\n  );\n}\n\nexport default Results;\n","import sdltBands from './stampduty-bands';\n\nconst calculateStampDuty = (val, type, region, buyer) => {\n  const onePercentOfVal = (val / 100);\n  let bands = sdltBands[type][region];\n  if (buyer === 'first' && type === 'residential' && !/^ireland$|^wales$/.test(region)) {\n    const { limit, thresholds } = sdltBands[type].first[region];\n    if (limit === -1 || val <= limit) {\n      bands = thresholds;\n    }\n  }\n\n  let tax = 0;\n  let bandLimit;\n  let previousBandLimit;\n  let load;\n\n  if (!type || !region) return 0;\n\n  for (let idx = 0; idx < bands.length; idx += 1) {\n    load = buyer === 'investor' ? (bands[idx].load || 0) : 0;\n\n    bandLimit = bands[idx].upto;\n    const { rate } = bands[idx];\n    previousBandLimit = idx > 0 ? bands[idx - 1].upto : 0;\n\n    if (bandLimit === 'end') { // end and return\n      tax += ((onePercentOfVal - (previousBandLimit / 100)) * (rate + load));\n      return tax;\n    }\n    if (val <= bandLimit) { // return before end\n      if (idx === 0) { // below first limit\n        tax += (onePercentOfVal * (rate + load));\n      } else { // below this limit\n        tax += ((onePercentOfVal - (previousBandLimit / 100)) * (rate + load));\n      }\n      return tax;\n    }\n    // add the tax rate for the whole band and carry on\n    tax += ((bandLimit - previousBandLimit) / 100 * (rate + load));\n  }\n  // shouldn't get here but code won't know should throw error\n  // console.error(`check stampduty-test-bands for property without upto: 'end' in last entry`);\n  return tax;\n};\n\nexport default calculateStampDuty;\n","import calculateStampDuty from './stampduty/stampduty-calculator';\n\nconst allInputCosts = (\n  initSurveyorsFee,\n  initLegalFee,\n  initMortgageFee,\n  refurbCost,\n  otherCost,\n  propertyValue,\n  stampDutyType,\n  stampDutyRegion,\n  stampDutyBuyer,\n) => {\n  const stampDuty = calculateStampDuty(\n    propertyValue, stampDutyType, stampDutyRegion, stampDutyBuyer,\n  );\n\n  return (\n    initSurveyorsFee\n    + initLegalFee\n    + initMortgageFee\n    + refurbCost\n    + otherCost\n    + stampDuty\n    + propertyValue\n  );\n};\n\nexport default allInputCosts;\n","const freeCashLabels = [\n  'Remortgage advance',\n  'Remortgage deposit',\n  'Remortgage fees',\n  'Money in',\n  'Money out',\n  'Money left in',\n  'Monthly rental',\n  'Monthly mortgage payment',\n  'MOE',\n  'Letting agent fees',\n  'Monthly free cashflow',\n  'Gross yield',\n];\n\nconst initialFinanceLabels = [\n  'Mortgage advance',\n  'Deposit',\n  'Stamp duty',\n  'Professional fees',\n  'Refurb/other costs',\n  'Total money in',\n  'Total cost',\n  'Interest only mortgage (monthly)',\n  'Repayment mortgage (monthly)',\n];\n\nconst flipLabels = [\n  'Sale price',\n  'Selling costs',\n  'Total input costs',\n  'Profit (before tax)',\n  'Gain(%)',\n];\n\nconst stressLabels = [\n  'Stress test',\n  'Minimum rent'];\n\nexport default {\n  freeCashLabels,\n  initialFinanceLabels,\n  flipLabels,\n  stressLabels,\n};\n","import calculateStampDuty from './stampduty/stampduty-calculator';\nimport calculationsLabels from '../../labels/calculations-labels';\n\nconst percentSign = String.fromCharCode(37);\nconst freeCash = ({\n  loanToValue,\n  propertyValue,\n  doneUpValue,\n  mortgageInterestRatePercent,\n  monthlyRent,\n  moePercent,\n  agentsPercent,\n  refurbCost,\n  otherCost,\n  stampDutyType,\n  stampDutyRegion,\n  stampDutyBuyer,\n  remortgageFee,\n  remortgageValuationFee,\n  remortgageLegalFee,\n  initMortgageFee,\n  initLegalFee,\n  initSurveyorsFee,\n  repairingLease,\n}) => {\n  const isRepairing = repairingLease === 'yes';\n  const loanToVal = loanToValue / 100;\n  const remortgageAdvance = Math.round(doneUpValue * loanToVal);\n  const remortgageDeposit = Math.round(doneUpValue * (1 - loanToVal));\n  const remortgageMonthlyInterest = Math\n    .round(remortgageAdvance * mortgageInterestRatePercent / 1200);\n  const moe = isRepairing ? 0 : (monthlyRent * moePercent / 100);\n  const lettingAgentsFees = isRepairing ? 0 : (monthlyRent * agentsPercent / 100);\n  const freeCashFlowMonthly = monthlyRent - (repairingLease === 'yes' ? 0 : moe) - remortgageMonthlyInterest - lettingAgentsFees;\n  const totalOtherCosts = refurbCost + otherCost;\n  const sdltTotal = calculateStampDuty(\n    propertyValue, stampDutyType, stampDutyRegion, stampDutyBuyer,\n  );\n  const remortgageFees = remortgageFee + remortgageValuationFee + remortgageLegalFee;\n  const initialFees = initMortgageFee + initLegalFee + initSurveyorsFee;\n  const initialCost = initialFees + totalOtherCosts + sdltTotal + propertyValue;\n  const grossYield = (monthlyRent * 1200) / initialCost;\n  const labels = calculationsLabels.freeCashLabels;\n\n  return [\n    { label: labels[0], value: remortgageAdvance.toFixed(2) },\n    { label: labels[1], value: remortgageDeposit.toFixed(2) },\n    { label: labels[2], value: remortgageFees.toFixed(2) },\n    { label: labels[3], value: initialCost.toFixed(2) },\n    { label: labels[4], value: (remortgageAdvance - remortgageFees).toFixed(2) },\n    { label: labels[5], value: (initialCost - (remortgageAdvance - remortgageFees)).toFixed(2) },\n    { label: labels[6], value: monthlyRent.toFixed(2) },\n    { label: labels[7], value: remortgageMonthlyInterest.toFixed(2) },\n    { label: labels[8], value: moe.toFixed(2) },\n    { label: labels[9], value: lettingAgentsFees.toFixed(2) },\n    { label: labels[10], value: freeCashFlowMonthly.toFixed(2) },\n    { label: labels[11], value: grossYield.toFixed(2) + percentSign },\n  ];\n};\n\nexport default freeCash;\n","import allInputCosts from './allInputCosts';\nimport freeCash from './freeCash';\nimport initialFinance from './initialFinance';\nimport flip from './flip';\nimport stressTest from './stressTest';\n\nconst getCurrencyCode = ({ stampDutyRegion }) => (stampDutyRegion === 'ireland' ? 8364 : 163);\n\nconst calculations = {\n  freeCash,\n  initialFinance,\n  flip,\n  allInputCosts,\n  stressTest,\n  getCurrencyCode,\n};\n\nexport default calculations;\n","import calculateStampDuty from './stampduty/stampduty-calculator';\nimport allInputCosts from './allInputCosts';\nimport calculationsLabels from '../../labels/calculations-labels';\n\nconst repaymentCalc = (principal, interest, term) => (\n  (interest / 100 / 12) * principal) / (1 - ((1 + (interest / 100 / 12)) ** (-term * 12))\n);\nconst initialFinance = ({\n  buyingCash,\n  initialLoanToValue,\n  mortgageInterestRatePercent,\n  propertyValue,\n  initSurveyorsFee,\n  initLegalFee,\n  initMortgageFee,\n  refurbCost,\n  otherCost,\n  stampDutyType,\n  stampDutyRegion,\n  stampDutyBuyer,\n  mortgageTerm,\n}) => {\n  const isCash = buyingCash === 'yes';\n  const loanToVal = initialLoanToValue / 100;\n  const initMortgageAdvance = isCash ? 0 : Math.round(propertyValue * loanToVal);\n  const mortgageMonthlyInterest = Math\n    .round(initMortgageAdvance * mortgageInterestRatePercent / 1200);\n  const monthlyRepayment = repaymentCalc(\n    initMortgageAdvance, mortgageInterestRatePercent, mortgageTerm,\n  );\n  const initFees = initSurveyorsFee + initLegalFee + initMortgageFee;\n  const other = refurbCost + otherCost;\n  const initialDeposit = isCash ? propertyValue : Math.round(propertyValue * (1 - loanToVal));\n  const sdltTotal = calculateStampDuty(\n    propertyValue, stampDutyType, stampDutyRegion, stampDutyBuyer,\n  );\n  const totCost = allInputCosts(initSurveyorsFee, initLegalFee, initMortgageFee,\n    refurbCost, otherCost, propertyValue, stampDutyType, stampDutyRegion, stampDutyBuyer);\n  const totIn = totCost - initMortgageAdvance;\n  const labels = calculationsLabels.initialFinanceLabels;\n\n  return [\n    { label: labels[0], value: initMortgageAdvance.toFixed(2) },\n    { label: labels[1], value: initialDeposit.toFixed(2) },\n    { label: labels[2], value: sdltTotal.toFixed(2) },\n    { label: labels[3], value: initFees.toFixed(2) },\n    { label: labels[4], value: other.toFixed(2) },\n    { label: labels[5], value: totIn.toFixed(2) },\n    { label: labels[6], value: totCost.toFixed(2) },\n    { label: labels[7], value: mortgageMonthlyInterest.toFixed(2) },\n    { label: labels[8], value: monthlyRepayment.toFixed(2) },\n  ];\n};\n\nexport default initialFinance;\n","import allInputCosts from './allInputCosts';\nimport calculationsLabels from '../../labels/calculations-labels';\n\nconst flip = ({\n  sellingLegalFee,\n  agentSellingFee,\n  initSurveyorsFee,\n  initLegalFee,\n  initMortgageFee,\n  refurbCost,\n  otherCost,\n  propertyValue,\n  stampDutyType,\n  stampDutyRegion,\n  stampDutyBuyer,\n  doneUpValue,\n}) => {\n  const totCost = allInputCosts(initSurveyorsFee, initLegalFee, initMortgageFee,\n    refurbCost, otherCost, propertyValue, stampDutyType, stampDutyRegion, stampDutyBuyer);\n\n  const fees = sellingLegalFee + agentSellingFee;\n  const flipGain = Math.round((doneUpValue - totCost) / totCost * 10000) / 100;\n  const col = (flipGain >= 20) ? 'green' : 'red';\n  const labels = calculationsLabels.flipLabels;\n\n  return [\n    { label: labels[0], value: doneUpValue.toFixed(2) },\n    { label: labels[1], value: fees.toFixed(2) },\n    { label: labels[2], value: totCost.toFixed(2) || '0' },\n    { label: labels[3], value: ((doneUpValue - (totCost + fees)).toFixed(2) || '0'), col },\n    { label: labels[4], value: flipGain.toFixed(2) || 0, col },\n  ];\n};\n\nexport default flip;\n","import calculationsLabels from '../../labels/calculations-labels';\n\nconst stressTest = ({\n  doneUpValue,\n  monthlyRent,\n  loanToValue,\n  mortgageStressInterestRatePercent,\n  mortgageStressMultipePercent,\n}) => {\n  const minRent = Math.ceil(\n    doneUpValue\n    * loanToValue / 100\n    * mortgageStressInterestRatePercent / 1200\n    * mortgageStressMultipePercent / 100,\n  );\n  const pass = monthlyRent >= minRent;\n  const labels = calculationsLabels.stressLabels;\n\n  return [\n    { label: labels[0], value: pass ? 'pass' : 'fail' },\n    { label: labels[1], value: minRent.toFixed(2) },\n  ];\n};\n\nexport default stressTest;\n","import { types } from '../common/formConstants';\n\nconst field = {\n  label: 'User',\n  name: 'userEmail',\n  type: types.EMAIL,\n  defVal: '',\n  required: true,\n};\n\nexport default field;\n","/* eslint react/prop-types: 0 */\n/* eslint-env browser */\nimport React, { Component } from 'react';\nimport field from './formconfig';\n\nconst { name, type, label } = field;\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(e) {\n    this.setState({ email: e.target.value });\n  }\n\n  handleSubmit(e) {\n    const { props: { doLogin }, state: { email } } = this;\n    e.preventDefault();\n    if (email) {\n      doLogin(email);\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"column\" style={{ textAlign: 'center' }}>\n        <form onSubmit={this.handleSubmit}>\n          <input\n            className=\"form-control\"\n            key={name}\n            type={type}\n            name={name}\n            id={name}\n            autoComplete=\"off\"\n            placeholder={`${label} [${type}]`}\n            onChange={this.handleChange}\n            onBlur={this.handleChange}\n            required\n          />\n          <button\n            type=\"submit\"\n            className=\"btn-primary form-control\"\n          >\n            go\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n","/* eslint react/prop-types: 0 */\nimport React from 'react';\n\nfunction Logout({ doLogout }) {\n  const handleClick = (e) => {\n    e.preventDefault();\n    doLogout();\n  };\n\n  return (\n    <button\n      type=\"submit\"\n      className=\"\"\n      onClick={handleClick}\n    >\n      logoff\n    </button>\n  );\n}\n\nexport default Logout;\n","/* eslint-env browser */\n/* eslint react/prop-types: 0 */\nimport React, { Component } from 'react';\nimport { withCookies } from 'react-cookie';\nimport Form from './form/FormComponent';\nimport fields from './form/formconfig';\nimport '../css/app.css';\nimport SavedStateList from './saved/SavedStateComponents';\nimport Results from './results/ResultsComponent';\nimport calculations from '../logic/calculations';\nimport Login from './login/LoginComponent';\nimport Logout from './login/LogoutComponent';\n\nconst urls = {\n  comparisons: process.env.REACT_APP_COMPARISONS_URL,\n};\n\nclass App extends Component {\n  static setDefaultFormData() {\n    const defaults = {};\n    fields.map((ob) => {\n      defaults[ob.name] = ob.defVal;\n      return false;\n    });\n    return defaults;\n  }\n  // static propTypes = {\n  //   cookies: instanceOf(Cookies).isRequired\n  // };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {\n        dealFinance: [],\n        buyToLet: [],\n        stress: [],\n        flip: [],\n      },\n      currency: 163,\n      savedStates: { Items: [] },\n      currentState: { projectName: '' },\n      hasWorkingAPI: false,\n      userEmail: props.cookies.get('email') || '',\n    };\n    this.calculate = this.calculate.bind(this);\n    this.saveState = this.saveState.bind(this);\n    this.deleteState = this.deleteState.bind(this);\n    this.selectState = this.selectState.bind(this);\n    this.login = this.login.bind(this);\n    this.logout = this.logout.bind(this);\n  }\n\n  componentDidMount() {\n    const { userEmail } = this.state;\n    if (userEmail !== '') {\n      this.getSavedStates(true);\n    }\n  }\n\n  getSavedStates(setDefault) {\n    const sortByNameThenDate = (\n      { projectName: pNameA, id: idA },\n      { projectName: pNameB, id: idB },\n    ) => {\n      if ((pNameA + idA) < (pNameB + idB)) return -1;\n      if ((pNameA + idA) > (pNameB + idB)) return 1;\n      return 0;\n    };\n    const { userEmail } = this.state;\n\n    fetch(`${urls.comparisons}/user/${userEmail}`)\n      .then(response => response.json())\n      .then((data) => {\n        if (data.Items.length > 0) {\n          data.Items.sort(sortByNameThenDate);\n        }\n        this.loadState(data, setDefault);\n      })\n      .catch(() => {\n        this.loadState(null, true);\n      });\n  }\n\n  findState(stateId) {\n    const { savedStates } = this.state;\n    return savedStates.Items.find(state => state.id === stateId);\n  }\n\n  loadState(data, setDefault) {\n    const { userEmail } = this.state;\n    const newState = {\n      savedStates: data || { Items: [] },\n      hasWorkingAPI: !!data,\n    };\n\n    if (setDefault) {\n      newState.currentState = App.setDefaultFormData();\n    }\n\n    if (userEmail && newState.currentState) {\n      newState.currentState.email = userEmail;\n    }\n\n    this.setState(newState);\n  }\n\n  calculate(changedField, newValue) {\n    const { currentState } = this.state;\n    const inputData = (changedField)\n      ? { ...currentState, [changedField]: newValue } : currentState;\n    const dealFinance = calculations.initialFinance(inputData);\n    const buyToLet = calculations.freeCash(inputData);\n    const flip = calculations.flip(inputData);\n    const stress = calculations.stressTest(inputData);\n    const currSymbol = calculations.getCurrencyCode(inputData);\n\n    document.getElementById('doc-title').text = inputData.projectName.replace(/ /g, '-');\n\n    const newState = {\n      data: {\n        dealFinance,\n        buyToLet,\n        stress,\n        flip,\n      },\n      currency: currSymbol,\n    };\n\n    if (changedField) {\n      newState.currentState = inputData;\n    }\n\n    this.setState(newState);\n  }\n\n  saveState() {\n    const { currentState, currentState: { projectName, postCode }, userEmail } = this.state;\n    if (projectName === '' || postCode === '') {\n      return;\n    }\n    const stateToSave = { ...currentState, email: userEmail };\n    fetch(urls.comparisons, {\n      method: 'PUT',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(stateToSave),\n    })\n      .then(response => response.json())\n      .then(() => {\n        this.getSavedStates(false);\n      })\n      .catch(() => this.setState({ savedStates: { Items: 'No save service available' } }))\n      .finally(() => {\n        this.setState({ error: null });\n      });\n  }\n\n  deleteState(stateId) {\n    const { userEmail } = this.state;\n    fetch(urls.comparisons, {\n      method: 'DELETE',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ id: stateId, email: userEmail }),\n    })\n      .then((resp) => {\n        if (resp.ok) {\n          const { currentState: id } = this.state;\n          this.getSavedStates(stateId === id);\n        } else {\n          throw new Error('delete failed');\n        }\n      }).catch(() => this.setState({ savedStates: { Items: 'No delete service avaialable' } }));\n  }\n\n  selectState(stateId) {\n    const selectedState = this.findState(stateId);\n    this.setState({ currentState: selectedState }, () => this.calculate());\n  }\n\n  handleNew(e) {\n    e.preventDefault();\n    this.setState(\n      { currentState: App.setDefaultFormData() }, () => this.calculate(),\n    );\n    e.target.blur();\n  }\n\n  login(email) {\n    const { cookies } = this.props;\n    cookies.set('email', email, { path: '/' });\n    this.setState({ userEmail: email }, () => {\n      this.getSavedStates(true);\n    });\n  }\n\n  logout() {\n    const { cookies } = this.props;\n    cookies.set('email', '', { path: '/' });\n    this.setState({ userEmail: '' });\n  }\n\n  render() {\n    const {\n      currency,\n      savedStates,\n      currentState,\n      hasWorkingAPI,\n      error,\n      userEmail,\n    } = this.state;\n    const { projectName, postCode } = currentState;\n    const showSave = (\n      hasWorkingAPI\n      && projectName !== ''\n      && postCode !== ''\n    );\n    const { Items } = savedStates;\n    const savedList = Items.length > 0 && userEmail ? (\n      <React.Fragment>\n        <div style={{ float: 'left' }}>\n          <h6>\n            My stuff (\n            {userEmail}\n            )\n          </h6>\n        </div>\n        <div style={{ float: 'left' }}>\n          <Logout\n            doLogout={this.logout}\n          />\n        </div>\n        <SavedStateList\n          data={Items}\n          ondelete={this.deleteState}\n          onclick={this.selectState}\n          useremail={userEmail}\n          filter={o => o.email === userEmail}\n          doLogin={this.login}\n        />\n        <h6>Other saved stuff</h6>\n        <SavedStateList\n          data={Items}\n          ondelete={this.deleteState}\n          onclick={this.selectState}\n          useremail={userEmail}\n          filter={o => o.email !== userEmail}\n        />\n      </React.Fragment>\n    ) : '';\n    const newButton = currentState.projectName !== '' ? (\n      <ul className=\"right\">\n        <li>\n          <button\n            type=\"submit\"\n            className=\"btn-primary form-control\"\n            onClick={event => this.handleNew(event)}\n          >\n            new\n          </button>\n        </li>\n      </ul>\n    ) : '';\n\n    return Object.keys(currentState).length > 1 && userEmail ? (\n      <div className=\"App\">\n        <div className=\"column\" style={{ textAlign: 'center' }}>\n          <h5>Property investment deal analyser</h5>\n          <Form\n            name=\"propcalc\"\n            fields={fields}\n            formData={currentState}\n            twocols=\"yes\"\n            calculate={this.calculate}\n            currsymbol={currency}\n            onsave={this.saveState}\n            showsave={showSave}\n            error={error}\n          />\n          {newButton}\n        </div>\n        <div className=\"column results\">\n          {Results(this.state)}\n        </div>\n        <div className=\"column states\">\n          {savedList}\n        </div>\n      </div>\n    )\n      : (\n        <Login\n          doLogin={this.login}\n        />\n      );\n  }\n}\n\nexport default withCookies(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","/* eslint-env browser */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Root from './Root';\nimport * as serviceWorker from './serviceWorker';\n\nimport './css/bootstrap-override.scss';\n\nReactDOM.render(<Root />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\nimport { CookiesProvider } from 'react-cookie';\nimport App from './components/App';\n\nexport default function Root() {\n  return (\n    <CookiesProvider>\n      <App />\n    </CookiesProvider>\n  );\n}\n"],"sourceRoot":""}