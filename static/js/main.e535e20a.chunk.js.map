{"version":3,"sources":["components/common/formConstants.js","logic/calculations/stampduty/stampduty-bands.js","components/common/StatelessFormComponents.jsx","components/form/FormComponent.jsx","components/form/formconfig.js","components/saved/SavedStateComponents.jsx","components/results/list/ResultsListComponent.jsx","util/validate-postcode.js","components/results/links/ResultsLinksComponent.jsx","components/results/ResultsComponent.jsx","logic/calculations/stampduty/stampduty-calculator.js","logic/calculations/allInputCosts.js","labels/calculations-labels.js","logic/calculations/freeCash.js","logic/calculations/index.js","logic/calculations/initialFinance.js","logic/calculations/flip.js","logic/calculations/stressTest.js","components/login/formconfig.js","components/login/LoginComponent.jsx","components/App.jsx","serviceWorker.js","index.js"],"names":["percentSign","String","fromCharCode","module","exports","types","NUMBER","TEXT","CHECKBOX","SELECT","EMAIL","currencyPlaceholder","ireland","upto","rate","scotland","load","bands","commercial","england","wales","residential","first","thresholds","limit","concat","currRegEx","RegExp","addCurrencySymbolToLabel","label","currencyCode","currSymbol","replace","Label","_ref","name","doLabelClass","dynamicLabel","type","currency","labelWithCurrency","react_default","a","createElement","className","htmlFor","StatelessComponents","Input","_ref2","onInput","placeholder","defVal","onblur","required","disabled","key","id","onChange","e","autoComplete","value","checked","onBlur","Select","_ref3","options","map","opt","FormColumn","render","fields","Form","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","doLabel","bind","assertThisInitialized","renderFields","renderFieldCols","handleChange","handleSave","calculate","fname","formData","val","Number","isNaN","parseFloat","preventDefault","onsave","target","blur","_this2","formFields","_this$props","currsymbol","forEach","field","ob","objectSpread","isDisabled","whenField","isEqual","disabled2","n","l","push","arrLength","Math","floor","length","left","slice","right","splice","_this$props2","twocols","button","showsave","onClick","Component","handleClick","callback","split","SavedStateListItem","milis","ondelete","onclick","deletable","firstname","style","width","dateFormat","Date","parseInt","display","SavedStateList","data","onselect","useremail","filter","filteredData","ind","projectName","email","SavedStateComponents_SavedStateListItem","ListItem","ResultsList","ResultsListComponent_ListItem","postCodeRegEx","validatePostcode","postCode","test","toUpperCase","urls","rmBuy","process","rmRent","nhpSold","gMap","Link","href","text","rel","Links","askingPrice","monthlyRent","propertyValue","urlType","stampDutyType","startsWith","oneK","oneHundredK","maxPrice","ceil","maxRent","Fragment","color","fontStyle","Results","currentState","dealFinance","buyToLet","stress","flip","showBTL","showFlip","ResultsListComponent","calculateStampDuty","region","buyer","onePercentOfVal","sdltBands","_sdltBands$type$first","bandLimit","previousBandLimit","tax","idx","allInputCosts","initSurveyorsFee","initLegalFee","initMortgageFee","refurbCost","otherCost","stampDutyRegion","stampDutyBuyer","calculations_labels","calculations","freeCash","loanToValue","doneUpValue","mortgageInterestRatePercent","moePercent","agentsPercent","remortgageFee","remortgageValuationFee","remortgageLegalFee","repairingLease","isRepairing","loanToVal","remortgageAdvance","round","remortgageDeposit","remortgageMonthlyInterest","moe","lettingAgentsFees","freeCashFlowMonthly","remortgageFees","initialCost","grossYield","labels","calculationsLabels","toFixed","initialFinance","interest","term","buyingCash","initialLoanToValue","isCash","initMortgageAdvance","mortgageMonthlyInterest","monthlyRepayment","pow","initFees","other","initialDeposit","sdltTotal","totCost","totIn","sellingLegalFee","agentSellingFee","fees","flipGain","col","stressTest","mortgageStressInterestRatePercent","mortgageStressMultipePercent","minRent","pass","getCurrencyCode","Login","state","handleSubmit","setState","doLogin","textAlign","onSubmit","App","savedStates","Items","hasWorkingAPI","userEmail","saveState","deleteState","selectState","login","defaults","setDefault","sortByNameThenDate","pNameA","idA","pNameB","idB","fetch","then","response","json","sort","loadState","catch","stateId","find","newState","setDefaultFormData","changedField","newValue","inputData","defineProperty","document","getElementById","_this3","_this$state","_this$state$currentSt","stateToSave","method","headers","Accept","Content-Type","body","JSON","stringify","getSavedStates","finally","error","_this4","resp","ok","Error","_this5","selectedState","findState","_this6","_this7","_this8","_this$state2","showSave","savedList","SavedStateComponents","o","newButton","event","handleNew","keys","FormComponent","LoginComponent","Boolean","window","location","hostname","match","ReactDOM","components_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"yEAAA,IASMA,EAAcC,OAAOC,aAAa,IAExCC,EAAOC,QAAU,CACfC,MAZY,CACZC,OAAQ,SACRC,KAAM,OACNC,SAAU,WACVC,OAAQ,SACRC,MAAO,SAQPC,oBAL0B,WAM1BX,iCCdF,IAAMY,EAAU,CACd,CAAEC,KAAM,IAASC,KAAM,GACvB,CAAED,KAAM,MAAOC,KAAM,IAEjBC,EAAW,CAAC,CAAEF,KAAM,KAAQC,KAAM,EAAGE,KAAM,GAC/C,CAAEH,KAAM,MAAQC,KAAM,EAAGE,KAAM,GAC/B,CAAEH,KAAM,KAAQC,KAAM,GAAIE,KAAM,GAChC,CAAEH,KAAM,MAAOC,KAAM,GAAIE,KAAM,IAE3BC,EAAQ,CACZC,WAAY,CACVC,QAAS,CACP,CAAEN,KAAM,KAAQC,KAAM,GACtB,CAAED,KAAM,KAAQC,KAAM,GACtB,CAAED,KAAM,MAAOC,KAAM,IAEvBM,MAAO,CACL,CAAEP,KAAM,KAAQC,KAAM,GACtB,CAAED,KAAM,KAAQC,KAAM,GACtB,CAAED,KAAM,IAASC,KAAM,GACvB,CAAED,KAAM,MAAOC,KAAM,IAEvBC,SAAU,CACR,CAAEF,KAAM,KAAQC,KAAM,GACtB,CAAED,KAAM,KAAQC,KAAM,GACtB,CAAED,KAAM,MAAOC,KAAM,IAEvBF,WAGFS,YAAa,CACXC,MAAO,CACLH,QAAS,CACPI,WAAY,CACV,CAAEV,KAAM,IAAQC,KAAM,GACtB,CAAED,KAAM,IAAQC,KAAM,IAExBU,MAAO,KAETT,SAAU,CACRQ,WAAU,CACR,CAAEV,KAAM,MAAQC,KAAM,IADdW,OAELV,GAELS,OAAQ,IAGZL,QAAS,CACP,CAAEN,KAAM,MAAQC,KAAM,EAAGE,KAAM,GAC/B,CAAEH,KAAM,KAAQC,KAAM,EAAGE,KAAM,GAC/B,CAAEH,KAAM,MAAQC,KAAM,EAAGE,KAAM,GAC/B,CAAEH,KAAM,KAASC,KAAM,GAAIE,KAAM,GACjC,CAAEH,KAAM,MAAOC,KAAM,GAAIE,KAAM,IAEjCI,MAAO,CACL,CAAEP,KAAM,KAAQC,KAAM,EAAGE,KAAM,GAC/B,CAAEH,KAAM,KAAQC,KAAM,IAAKE,KAAM,GACjC,CAAEH,KAAM,IAAQC,KAAM,EAAGE,KAAM,GAC/B,CAAEH,KAAM,KAAQC,KAAM,IAAKE,KAAM,GACjC,CAAEH,KAAM,KAASC,KAAM,GAAIE,KAAM,GACjC,CAAEH,KAAM,MAAOC,KAAM,GAAIE,KAAM,IAEjCD,SAAQ,CACN,CAAEF,KAAM,MAAQC,KAAM,EAAGE,KAAM,IADzBS,OAEHV,GAELH,YAIJT,EAAOC,QAAUa,4NChEXS,EAAY,IAAIC,OAAOhB,sBAAqB,KAE5CiB,EAA2B,SAACC,EAAOC,GACvC,IAAMC,EAAa9B,OAAOC,aAAa4B,GACvC,OAAOD,EAAMG,QAAQN,EAAWK,IAIlC,SAASE,EAATC,GAEG,IADDC,EACCD,EADDC,KAAMC,EACLF,EADKE,aAAcC,EACnBH,EADmBG,aAAcR,EACjCK,EADiCL,MAAOS,EACxCJ,EADwCI,KAAMC,EAC9CL,EAD8CK,SAEzCC,EAAoBZ,EAAyBC,EAAOU,GAE1D,OACEE,EAAAC,EAAAC,cAAA,OAAKC,UAAoB,aAATN,EAAsB,iBAAmB,eACvDG,EAAAC,EAAAC,cAAA,SACEE,QAASV,EACTS,UAAWR,EAAaD,IAEvBE,EAAaF,EAAMK,KAyE5B,IAAMM,EAAsB,CAC1BC,MApEF,SAAAC,GAIG,IAHDJ,EAGCI,EAHDJ,UAAWT,EAGVa,EAHUb,KAAMG,EAGhBU,EAHgBV,KAAMW,EAGtBD,EAHsBC,QACvBC,EAECF,EAFDE,YAAarB,EAEZmB,EAFYnB,MAAOsB,EAEnBH,EAFmBG,OAAQC,EAE3BJ,EAF2BI,OAC5BhB,EACCY,EADDZ,aAAcC,EACbW,EADaX,aAAcE,EAC3BS,EAD2BT,SAAUc,EACrCL,EADqCK,SAAUC,EAC/CN,EAD+CM,SAE1Cd,EAAoBZ,EAAyBC,EAAOU,GAE1D,OACEE,EAAAC,EAAAC,cAAA,MAAIY,IAAKpB,GACPM,EAAAC,EAAAC,cAAA,SACEC,UAAWA,GAAa,eACxBW,IAAKpB,EACLG,KAAMA,EACNH,KAAMA,EACNqB,GAAIrB,EACJsB,SAAU,SAAAC,GAAC,OAAIT,EAAQS,IACvBC,aAAa,MACbT,YAAaA,GAAeV,GAAf,GAAAf,OAAuCU,EAAvC,MAAAV,OAAgDa,EAAhD,KACbsB,MAAOT,GAAU,GACjBU,QAAoB,QAAXV,EACTW,OAAQ,SAAAJ,GAAC,OAAIN,EAAOM,IACpBL,SAAUA,IAAY,EACtBC,SAAUA,IAEXrB,EAAM,CACLE,OAAMC,eAAcC,eAAcR,QAAOS,OAAMC,eA4CrDwB,OArCF,SAAAC,GAGG,IAFDpB,EAECoB,EAFDpB,UAAWT,EAEV6B,EAFU7B,KAAMG,EAEhB0B,EAFgB1B,KAAMW,EAEtBe,EAFsBf,QAASpB,EAE/BmC,EAF+BnC,MAAOsB,EAEtCa,EAFsCb,OAAQC,EAE9CY,EAF8CZ,OAC/Ca,EACCD,EADDC,QAAS7B,EACR4B,EADQ5B,aAAcC,EACtB2B,EADsB3B,aAAciB,EACpCU,EADoCV,SAErC,OACEb,EAAAC,EAAAC,cAAA,MAAIY,IAAKpB,GACPM,EAAAC,EAAAC,cAAA,UACEiB,MAAOT,EACPP,UAAWA,GAAa,eACxBW,IAAKpB,EACLA,KAAMA,EACNqB,GAAIrB,EACJsB,SAAU,SAAAC,GAAC,OAAIT,EAAQS,IACvBI,OAAQ,SAAAJ,GAAC,OAAIN,EAAOM,IACpBJ,SAAUA,GAETW,EAAQC,IACP,SAAAC,GAAG,OACD1B,EAAAC,EAAAC,cAAA,UACEY,IAAKY,EAAIP,MACTzB,KAAMgC,EAAIhC,KACVyB,MAAOO,EAAIP,OAEVO,EAAIhC,SAKZF,EAAM,CACLE,OAAMC,eAAcC,eAAcR,QAAOS,YCtFzCS,EDiGOD,ECjGPC,MAAOgB,EDiGAjB,ECjGAiB,OAEf,SAASK,EAATlC,GAAmD,IAA7BmC,EAA6BnC,EAA7BmC,OAAQC,EAAqBpC,EAArBoC,OAAQ1B,EAAaV,EAAbU,UACpC,OACEH,EAAAC,EAAAC,cAAA,MAAIC,UAAWA,GACZyB,EAAOC,QA2ICC,cArIb,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KACDQ,QAAUP,EAAKO,QAAQC,KAAbP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACfA,EAAKrC,aAAeqC,EAAKrC,aAAa6C,KAAlBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACpBA,EAAKU,aAAeV,EAAKU,aAAaF,KAAlBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACpBA,EAAKW,gBAAkBX,EAAKW,gBAAgBH,KAArBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACvBA,EAAKY,aAAeZ,EAAKY,aAAaJ,KAAlBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACpBA,EAAKa,WAAab,EAAKa,WAAWL,KAAhBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAPDA,mFAWCG,KAAVJ,MACFe,4CAGAC,EAAO3D,GAAO,IACZ4D,EAAab,KAAKJ,MAAlBiB,SACR,OAAOA,GAAYA,EAASD,GAAS3D,GAAS2D,EAAQ,wCAG3CA,GAAO,IACVC,EAAab,KAAKJ,MAAlBiB,SACR,OAAOA,GAAYA,EAASD,GAAS,OAAS,+CAQ7C,IAEGE,EANJpD,EAICU,EAJDV,KACAsB,EAGCZ,EAHDY,MACAC,EAECb,EAFDa,QACA1B,EACCa,EADDb,KAEQqC,EAAUI,KAAVJ,MAGR,OAAQlC,GACN,KAAKjC,QAAMC,OACToF,EAAMC,OAAOC,MAAMhC,GAAS,EAAKiC,WAAWjC,IAAU,EACtD,MACF,KAAKvD,QAAMG,SACTkF,EAAM7B,EAAU,MAAQ,KACxB,MACF,QACE6B,EAAM9B,GAAS,GAGnBY,EAAMe,UAAUpD,EAAMuD,sCAGbhC,GACTA,EAAEoC,kBAEFC,EADmBnB,KAAKJ,MAAhBuB,UAERrC,EAAEsC,OAAOC,4CAGE3B,GAAQ,IAAA4B,EAAAtB,KACbuB,EAAa,GADAC,EAEcxB,KAAKJ,MAA9B6B,EAFWD,EAEXC,WAAYZ,EAFDW,EAECX,SAkBpB,OAjBAnB,EAAOgC,QAAQ,SAACC,GACd,IAAMC,EAAE9B,OAAA+B,EAAA,EAAA/B,CAAA,GAAQ6B,GACVG,EAAcF,EAAGlD,UAAYmC,EAASe,EAAGlD,SAASqD,aAAeH,EAAGlD,SAASsD,SAC7EJ,EAAGK,WAAapB,EAASe,EAAGK,UAAUF,aAAeH,EAAGK,UAAUD,QACxEJ,EAAGnE,aAAe,SAACyE,EAAGC,GAAJ,OAAUb,EAAKlB,QAAQ8B,EAAGC,IAC5CP,EAAGpE,aAAe,SAAA0E,GAAC,OAAIZ,EAAK9D,aAAa0E,IACzCN,EAAGvD,QAAU,SAAAS,GAAC,OAAIwC,EAAKb,aAAa3B,EAAEsC,SACtCQ,EAAGpD,OAAS,SAAAM,GAAC,OAAIwC,EAAKb,aAAa3B,EAAEsC,SACrCQ,EAAGjE,SAAW8D,EACdG,EAAGrD,OAASsC,EAASe,EAAGrE,MACxBqE,EAAGlD,SAAWoD,EACE,WAAZF,EAAGlE,KACL6D,EAAWa,KAAKjD,EAAOyC,IAEvBL,EAAWa,KAAKjE,EAAMyD,MAGnBL,4CAGS,IACR7B,EAAWM,KAAKJ,MAAhBF,OACF2C,EAAYC,KAAKC,MAAM7C,EAAO8C,OAAS,GACvCC,EAAO/C,EAAOgD,MAAM,GACpBC,EAAQF,EAAKG,OAAOP,GAE1B,MAAO,CACLxE,EAAAC,EAAAC,cAACyB,EAAD,CACEb,IAAI,IACJe,OAAQ+C,EACRzE,UAAU,OACVyB,OAAQO,KAAKO,eAEf1C,EAAAC,EAAAC,cAACyB,EAAD,CACEb,IAAI,IACJe,OAAQiD,EACR3E,UAAU,QACVyB,OAAQO,KAAKO,iDAKV,IAAAsC,EAMH7C,KAAKJ,MAJPrC,EAFKsF,EAELtF,KACAuF,EAHKD,EAGLC,QACApD,EAJKmD,EAILnD,OAGIqD,EAPCF,EAKLG,SAGAnF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,QACZH,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UACEL,KAAK,SACLM,UAAU,2BACViF,QAASjD,KAAKU,YAHhB,eASF,GAEJ,OACE7C,EAAAC,EAAAC,cAAA,QACER,KAAMA,EACNqB,GAAIrB,GAES,QAAZuF,EAAoB9C,KAAKQ,kBAAoBR,KAAKO,aAAab,GAC/DqD,UAhIUG,aC4MJxD,EA1NA,CACb,CACEzC,MAAO,eACPM,KAAM,cACNG,KAAMjC,QAAME,KACZ4C,OAAQ,GACRE,UAAU,GAEZ,CACExB,MAAO,YACPM,KAAM,WACNG,KAAMjC,QAAME,KACZ4C,OAAQ,GACRE,UAAU,GAEZ,CACExB,MAAK,gBAAAJ,OAAkBd,sBAAlB,KACLwB,KAAM,cACNG,KAAMjC,QAAMC,OACZ6C,OAAQ,GAEV,CACEtB,MAAK,kBAAAJ,OAAoBd,sBAApB,KACLwB,KAAM,gBACNG,KAAMjC,QAAMC,OACZ6C,OAAQ,GAEV,CACEtB,MAAK,iBAAAJ,OAAmBd,sBAAnB,KACLwB,KAAM,cACNG,KAAMjC,QAAMC,OACZ6C,OAAQ,GAEV,CACEtB,MAAO,gBACPM,KAAM,aACNG,KAAMjC,QAAMG,SACZ2C,OAAQ,MAEV,CACEtB,MAAK,eAAAJ,OAAiBzB,cAAjB,KACLmC,KAAM,qBACNG,KAAMjC,QAAMC,OACZ6C,OAAQ,GACRG,SAAU,CAAEqD,UAAW,aAAcC,QAAS,QAEhD,CACE/E,MAAK,gBAAAJ,OAAkBd,sBAAlB,KACLwB,KAAM,kBACNG,KAAMjC,QAAMC,OACZ6C,OAAQ,EACRG,SAAU,CAAEqD,UAAW,aAAcC,QAAS,QAEhD,CACE/E,MAAK,iBAAAJ,OAAmBd,sBAAnB,KACLwB,KAAM,mBACNG,KAAMjC,QAAMC,OACZ6C,OAAQ,KAEV,CACEtB,MAAK,cAAAJ,OAAgBd,sBAAhB,KACLwB,KAAM,eACNG,KAAMjC,QAAMC,OACZ6C,OAAQ,MAEV,CACEtB,MAAO,kBACPM,KAAM,gBACNG,KAAMjC,QAAMI,OACZwD,QAAS,CACP,CAAEL,MAAO,cAAezB,KAAM,eAC9B,CAAEyB,MAAO,aAAczB,KAAM,eAE/BgB,OAAQ,eAEV,CACEtB,MAAO,oBACPM,KAAM,kBACNG,KAAMjC,QAAMI,OACZwD,QAAS,CACP,CAAEL,MAAO,UAAWzB,KAAM,cAC1B,CAAEyB,MAAO,WAAYzB,KAAM,YAC3B,CAAEyB,MAAO,QAASzB,KAAM,SACxB,CAAEyB,MAAO,UAAWzB,KAAM,YAE5BgB,OAAQ,WAEV,CACEtB,MAAO,mBACPM,KAAM,iBACNG,KAAMjC,QAAMI,OACZwD,QAAS,CACP,CAAEL,MAAO,WAAYzB,KAAM,YAC3B,CAAEyB,MAAO,QAASzB,KAAM,oBACxB,CAAEyB,MAAO,OAAQzB,KAAM,iBAEzBgB,OAAQ,WACRG,SAAU,CAAEqD,UAAW,gBAAiBC,QAAS,eAEnD,CACE/E,MAAK,gBAAAJ,OAAkBd,sBAAlB,KACLwB,KAAM,cACNG,KAAMjC,QAAMC,OACZ6C,OAAQ,EACRG,SAAU,CAAEqD,UAAW,WAAYC,QAAS,OAE9C,CACE/E,MAAO,aACPM,KAAM,WACNG,KAAMjC,QAAMG,SACZ2C,OAAQ,OAEV,CACEtB,MAAK,sBAAAJ,OAAwBd,sBAAxB,KACLwB,KAAM,aACNG,KAAMjC,QAAMC,OACZ6C,OAAQ,GAEV,CACEtB,MAAK,cAAAJ,OAAgBd,sBAAhB,KACLwB,KAAM,YACNG,KAAMjC,QAAMC,OACZ6C,OAAQ,GAEV,CACEtB,MAAK,kBAAAJ,OAAoBd,sBAApB,KACLwB,KAAM,gBACNG,KAAMjC,QAAMC,OACZ6C,OAAQ,EACRG,SAAU,CAAEqD,UAAW,WAAYC,QAAS,OAE9C,CACE/E,MAAK,4BAAAJ,OAA8Bd,sBAA9B,KACLwB,KAAM,yBACNG,KAAMjC,QAAMC,OACZ6C,OAAQ,EACRG,SAAU,CAAEqD,UAAW,WAAYC,QAAS,OAE9C,CACE/E,MAAK,yBAAAJ,OAA2Bd,sBAA3B,KACLwB,KAAM,qBACNG,KAAMjC,QAAMC,OACZ6C,OAAQ,EACRG,SAAU,CAAEqD,UAAW,WAAYC,QAAS,OAE9C,CACE/E,MAAO,kBACPM,KAAM,iBACNG,KAAMjC,QAAMG,SACZ2C,OAAQ,KACRG,SAAU,CAAEqD,UAAW,WAAYC,QAAS,OAE9C,CACE/E,MAAK,uBAAAJ,OAAyBzB,cAAzB,KACLmC,KAAM,gBACNG,KAAMjC,QAAMC,OACZ6C,OAAQ,GACRG,SAAU,CAAEqD,UAAW,iBAAkBC,QAAS,OAClDC,UAAW,CAAEF,UAAW,WAAYC,QAAS,OAE/C,CACE/E,MAAK,kBAAAJ,OACMzB,cADN,KAELmC,KAAM,aACNG,KAAMjC,QAAMC,OACZ6C,OAAQ,GACRG,SAAU,CAAEqD,UAAW,iBAAkBC,QAAS,OAClDC,UAAW,CAAEF,UAAW,WAAYC,QAAS,OAE/C,CACE/E,MAAK,iBAAAJ,OAAmBzB,cAAnB,KACLmC,KAAM,8BACNG,KAAMjC,QAAMC,OACZ6C,OAAQ,GAEV,CACEtB,MAAK,kBAAAJ,OAAoBzB,cAApB,KACLmC,KAAM,cACNG,KAAMjC,QAAMC,OACZ6C,OAAQ,GACRG,SAAU,CAAEqD,UAAW,WAAYC,QAAS,OAE9C,CACE/E,MAAK,0BAAAJ,OAA4Bd,sBAA5B,KACLwB,KAAM,kBACNG,KAAMjC,QAAMC,OACZ6C,OAAQ,EACRG,SAAU,CAAEqD,UAAW,OAAQC,QAAS,OAE1C,CACE/E,MAAK,qBAAAJ,OAAuBd,sBAAvB,KACLwB,KAAM,kBACNG,KAAMjC,QAAMC,OACZ6C,OAAQ,EACRG,SAAU,CAAEqD,UAAW,OAAQC,QAAS,OAE1C,CACE/E,MAAK,wBAAAJ,OAA0BzB,cAA1B,KACLmC,KAAM,+BACNG,KAAMjC,QAAMC,OACZ6C,OAAQ,IACRG,SAAU,CAAEqD,UAAW,WAAYC,QAAS,OAE9C,CACE/E,MAAK,wBAAAJ,OAA0BzB,cAA1B,KACLmC,KAAM,oCACNG,KAAMjC,QAAMC,OACZ6C,OAAQ,EACRG,SAAU,CAAEqD,UAAW,WAAYC,QAAS,OAE9C,CACE/E,MAAO,OACPM,KAAM,OACNG,KAAMjC,QAAMG,SACZ2C,OAAQ,iCClNN4E,EAAc,SAACrE,EAAGsE,GACtBtE,EAAEoC,iBACFpC,EAAEsC,OAAOC,OACT+B,EAAStE,EAAEsC,OAAOxC,GAAGyE,MAAM,KAAK,KAK5BC,EAAqB,SAAAhG,GAAA,IAFViG,EAGftG,EADyBK,EACzBL,MACA+B,EAFyB1B,EAEzB0B,MACAwE,EAHyBlG,EAGzBkG,SACAC,EAJyBnG,EAIzBmG,QACAC,EALyBpG,EAKzBoG,UACAC,EANyBrG,EAMzBqG,UANyB,OAQzB9F,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACbH,EAAAC,EAAAC,cAAA,UACEC,UAAU,2BACV4F,MAAO,CAAEC,MAAO,QAChBnG,KAAK,SACLkB,GAAE,UAAA/B,OAAYmC,GACdiE,QAAS,SAAAnE,GAAC,OAAIqE,EAAYrE,EAAG2E,KAL/B,GAAA5G,OAOMI,EAPN,MAAAJ,QAZW0G,EAmBcvE,EAnBL8E,IAAW,iBAAkB,IAAIC,KAAKC,SAAST,EAAO,OAY1E1G,OAOkC6G,EAAY,GAAH,IAAA7G,OAAY8G,GAPvD,OAUF9F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAAA,UACEC,UAAU,iCACVN,KAAK,SACLkB,GAAE,UAAA/B,OAAYmC,GACdiE,QAAS,SAAAnE,GAAC,OAAIqE,EAAYrE,EAAG0E,IAC7BI,MAAO,CAAEK,QAASP,EAAY,GAAK,SALrC,aA8CSQ,EAjCQ,SAAA9F,GAOjB,IANJ+F,EAMI/F,EANJ+F,KACAX,EAKIpF,EALJoF,SACAY,EAIIhG,EAJJgG,SACAX,EAGIrF,EAHJqF,QACAY,EAEIjG,EAFJiG,UACAC,EACIlG,EADJkG,OAEA,GAAIH,EAAK7E,IAAK,CACZ,IAAMiF,EAAeJ,EAAKG,OAAOA,GACjC,OACEzG,EAAAC,EAAAC,cAAA,UACGwG,EAAajF,IAAI,SAAAF,EAA6BoF,GAAQ,IAAlCC,EAAkCrF,EAAlCqF,YAAa7F,EAAqBQ,EAArBR,GAAI8F,EAAiBtF,EAAjBsF,MAC9B/F,EAAG,MAAA9B,OAAS+B,EAAT,KAAA/B,OAAe2H,GACxB,OACE3G,EAAAC,EAAAC,cAAC4G,EAAD,CACEnB,SAAUA,EACV7E,IAAG,MAAA9B,OAAQ8B,GACX1B,MAAOwH,GAAe,WACtBzF,MAAOJ,EACPwF,SAAUA,EACVX,QAASA,EACTC,UAAWW,IAAcK,EACzBf,UAAWe,EAAMrB,MAAM,KAAK,GAAGA,MAAM,KAAK,QAOtD,MAAO,IC1EHuB,EAAW,SAAAtH,GAAA,IAAGL,EAAHK,EAAGL,MAAO+B,EAAV1B,EAAU0B,MAAV,OACfnB,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAASf,GACxBY,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAASgB,KAab6F,EATK,SAAAzG,GAAA,IAAG+F,EAAH/F,EAAG+F,KAAMvF,EAATR,EAASQ,GAAT,OAAmBuF,EACrCtG,EAAAC,EAAAC,cAAA,UACGoG,EAAK7E,IAAI,SAAAF,EAAmBoF,GAAQ,IAAxBvH,EAAwBmC,EAAxBnC,MAAO+B,EAAiBI,EAAjBJ,MACZL,EAAG,MAAA9B,OAAS+B,EAAT,KAAA/B,OAAe2H,GACxB,OAAO3G,EAAAC,EAAAC,cAAC+G,EAAD,CAAUnG,IAAG,MAAA9B,OAAQ8B,GAAO1B,MAAOA,EAAO+B,MAAOA,OAG1D,ICjBE+F,EAAgB,qbAIPC,EAFU,SAAAC,GAAQ,OAAIF,EAAcG,KAAKD,EAASE,gBCC3DC,EAAO,CACXC,MAAO,CACL/I,WAAYgJ,oHACZ7I,YAAa6I,0GAEfC,OAAQ,CACNjJ,WAAYgJ,uHACZ7I,YAAa6I,8GAEfE,QAASF,2IACTG,KAAMH,sCAGR,SAASI,EAATpI,GAA8B,IAAdqI,EAAcrI,EAAdqI,KAAMC,EAAQtI,EAARsI,KACpB,OACE/H,EAAAC,EAAAC,cAAA,KACEqD,OAAO,SACPyE,IAAI,sBACJF,KAAMA,GAELC,GA6CQE,MAxCf,SAAA1H,GAQE,IANE6G,EAMF7G,EANE6G,SACAc,EAKF3H,EALE2H,YACAC,EAIF5H,EAJE4H,YACAC,EAGF7H,EAHE6H,cAIIC,EADN9H,EAFE+H,cAG4BC,WAAW,cAAgB,aAAe,cAChEC,EAA8B,IAAxBC,EAA2C,IACnDC,EAAWjE,KACdkE,MAAMT,GAAeE,GAAiB,KAAUK,EAAc,KAAOA,EAClEG,EAAUnE,KAAKkE,MAAMR,GAAeK,GAAQA,EAAO,KAAOA,EAEhE,OAAQpB,GAAYD,EAAiBC,GACnCpH,EAAAC,EAAAC,cAACF,EAAAC,EAAM4I,SAAP,KACE7I,EAAAC,EAAAC,cAAC2H,EAAD,CACEC,KAAMP,EAAKI,QAAUP,EACrBW,KAAK,SAEN,MACD/H,EAAAC,EAAAC,cAAC2H,EAAD,CACEC,KAAI,GAAA9I,OAAKuI,EAAKC,MAAMa,GAAWjB,EAA3B,cAAApI,OAAiD0J,GACrDX,KAAK,aAEN,MACD/H,EAAAC,EAAAC,cAAC2H,EAAD,CACEC,KAAI,GAAA9I,OAAKuI,EAAKG,OAAOW,GAAWjB,EAA5B,cAAApI,OAAiD4J,GACrDb,KAAK,WAEN,MACD/H,EAAAC,EAAAC,cAAC2H,EAAD,CACEC,KAAMP,EAAKK,KAAOR,EAClBW,KAAK,UAGP/H,EAAAC,EAAAC,cAAA,QAAM6F,MAAO,CAAE+C,MAAO,MAAOC,UAAW,WAAxC,iDCxBSC,MApCf,SAAAvJ,GAAqE,IAAlD6G,EAAkD7G,EAAlD6G,KAAM2C,EAA4CxJ,EAA5CwJ,aAA8B7B,EAAc3H,EAA9BwJ,aAAgB7B,SAEnD8B,EAIE5C,EAJF4C,YACAC,EAGE7C,EAHF6C,SACAC,EAEE9C,EAFF8C,OACAC,EACE/C,EADF+C,KAEIC,EAAoC,QAA1BL,EAAaE,SACvBI,EAAiC,QAAtBN,EAAaI,KAE9B,OACErJ,EAAAC,EAAAC,cAACF,EAAAC,EAAM4I,SAAP,KACE7I,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAY4F,MAAO,CAAEK,QAASe,EAAiBC,GAAY,GAAK,SAC7EpH,EAAAC,EAAAC,cAAA,sCACC+H,EAAMgB,IAETjJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAACsJ,EAAD,CAAazI,GAAG,IAAIuF,KAAM4C,KAE5BlJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAY4F,MAAO,CAAEK,QAASkD,EAAU,GAAK,SAC1DtJ,EAAAC,EAAAC,cAAA,wBACAF,EAAAC,EAAAC,cAACsJ,EAAD,CAAazI,GAAG,IAAIuF,KAAM6C,GAAY,MAExCnJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAY4F,MAAO,CAAEK,QAASkD,EAAU,GAAK,SAC1DtJ,EAAAC,EAAAC,cAAA,yBACAF,EAAAC,EAAAC,cAACsJ,EAAD,CAAazI,GAAG,IAAIuF,KAAM8C,GAAU,MAEtCpJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAY4F,MAAO,CAAEK,QAASmD,EAAW,GAAK,SAC3DvJ,EAAAC,EAAAC,cAAA,kBACAF,EAAAC,EAAAC,cAACsJ,EAAD,CAAazI,GAAG,IAAIuF,KAAM+C,wBCUnBI,EA5CY,SAACxG,EAAKpD,EAAM6J,EAAQC,GAC7C,IAAMC,EAAmB3G,EAAM,IAC3BzE,EAAQqL,IAAUhK,GAAM6J,GAC5B,GAAc,UAAVC,GAA8B,gBAAT9J,IAA2B,oBAAoBwH,KAAKqC,GAAS,KAAAI,EACtDD,IAAUhK,GAAMhB,MAAM6K,GAA5C3K,EAD4E+K,EAC5E/K,MAAOD,EADqEgL,EACrEhL,aACA,IAAXC,GAAgBkE,GAAOlE,KACzBP,EAAQM,GAIZ,IACIiL,EACAC,EACAzL,EAHA0L,EAAM,EAKV,IAAKpK,IAAS6J,EAAQ,OAAO,EAE7B,IAAK,IAAIQ,EAAM,EAAGA,EAAM1L,EAAMmG,OAAQuF,GAAO,EAAG,CAC9C3L,EAAiB,aAAVoL,GAAwBnL,EAAM0L,GAAK3L,MAAa,EAEvDwL,EAAYvL,EAAM0L,GAAK9L,KAHuB,IAItCC,EAASG,EAAM0L,GAAf7L,KAGR,GAFA2L,EAAoBE,EAAM,EAAI1L,EAAM0L,EAAM,GAAG9L,KAAO,EAElC,QAAd2L,EAEF,OADAE,IAASL,EAAmBI,EAAoB,MAAS3L,EAAOE,GAGlE,GAAI0E,GAAO8G,EAMT,OAJEE,GADU,IAARC,EACMN,GAAmBvL,EAAOE,IAEzBqL,EAAmBI,EAAoB,MAAS3L,EAAOE,GAKpE0L,IAASF,EAAYC,GAAqB,KAAO3L,EAAOE,GAI1D,OAAO0L,GCfME,EA1BO,SACpBC,EACAC,EACAC,EACAC,EACAC,EACApC,EACAE,EACAmC,EACAC,GAMA,OACEN,EACEC,EACAC,EACAC,EACAC,EATcf,EAChBrB,EAAeE,EAAemC,EAAiBC,GAU7CtC,GCeSuC,EAvCQ,CACrB,qBACA,qBACA,kBACA,WACA,YACA,gBACA,iBACA,2BACA,MACA,qBACA,wBACA,eA2BaA,EAxBc,CAC3B,mBACA,UACA,aACA,oBACA,qBACA,iBACA,aACA,mCACA,sCAeaA,EAZI,CACjB,aACA,gBACA,oBACA,sBACA,WAOaA,EAJM,CACnB,cACA,gBClCIpN,EAAcC,OAAOC,aAAa,ICczBmN,EATM,CACnBC,SDLe,SAAApL,GAoBX,IAnBJqL,EAmBIrL,EAnBJqL,YACA1C,EAkBI3I,EAlBJ2I,cACA2C,EAiBItL,EAjBJsL,YACAC,EAgBIvL,EAhBJuL,4BACA7C,EAeI1I,EAfJ0I,YACA8C,EAcIxL,EAdJwL,WACAC,EAaIzL,EAbJyL,cACAX,EAYI9K,EAZJ8K,WACAC,EAWI/K,EAXJ+K,UACAlC,EAUI7I,EAVJ6I,cACAmC,EASIhL,EATJgL,gBACAC,EAQIjL,EARJiL,eACAS,EAOI1L,EAPJ0L,cACAC,EAMI3L,EANJ2L,uBACAC,EAKI5L,EALJ4L,mBACAf,EAII7K,EAJJ6K,gBACAD,EAGI5K,EAHJ4K,aACAD,EAEI3K,EAFJ2K,iBACAkB,EACI7L,EADJ6L,eAEMC,EAAiC,QAAnBD,EACdE,EAAYV,EAAc,IAC1BW,EAAoBhH,KAAKiH,MAAMX,EAAcS,GAC7CG,EAAoBlH,KAAKiH,MAAMX,GAAe,EAAIS,IAClDI,EAA4BnH,KAC/BiH,MAAMD,EAAoBT,EAA8B,MACrDa,EAAMN,EAAc,EAAKpD,EAAc8C,EAAa,IACpDa,EAAoBP,EAAc,EAAKpD,EAAc+C,EAAgB,IACrEa,EAAsB5D,GAAkC,QAAnBmD,EAA2B,EAAIO,GAAOD,EAA4BE,EAKvGE,EAAiBb,EAAgBC,EAAyBC,EAE1DY,EADc3B,EAAkBD,EAAeD,GAL7BG,EAAaC,GACnBf,EAChBrB,EAAeE,EAAemC,EAAiBC,GAIetC,EAC1D8D,EAA4B,KAAd/D,EAAsB8D,EACpCE,EAASC,EAEf,MAAO,CACL,CAAEhN,MAAO+M,EAAO,GAAIhL,MAAOsK,EAAkBY,QAAQ,IACrD,CAAEjN,MAAO+M,EAAO,GAAIhL,MAAOwK,EAAkBU,QAAQ,IACrD,CAAEjN,MAAO+M,EAAO,GAAIhL,MAAO6K,EAAeK,QAAQ,IAClD,CAAEjN,MAAO+M,EAAO,GAAIhL,MAAO8K,EAAYI,QAAQ,IAC/C,CAAEjN,MAAO+M,EAAO,GAAIhL,OAAQsK,EAAoBO,GAAgBK,QAAQ,IACxE,CAAEjN,MAAO+M,EAAO,GAAIhL,OAAQ8K,GAAeR,EAAoBO,IAAiBK,QAAQ,IACxF,CAAEjN,MAAO+M,EAAO,GAAIhL,MAAOgH,EAAYkE,QAAQ,IAC/C,CAAEjN,MAAO+M,EAAO,GAAIhL,MAAOyK,EAA0BS,QAAQ,IAC7D,CAAEjN,MAAO+M,EAAO,GAAIhL,MAAO0K,EAAIQ,QAAQ,IACvC,CAAEjN,MAAO+M,EAAO,GAAIhL,MAAO2K,EAAkBO,QAAQ,IACrD,CAAEjN,MAAO+M,EAAO,IAAKhL,MAAO4K,EAAoBM,QAAQ,IACxD,CAAEjN,MAAO+M,EAAO,IAAKhL,MAAO+K,EAAWG,QAAQ,GAAK9O,KC9CtD+O,eCHqB,SAAA7M,GAajB,IAhB4B8M,EAAUC,EAI1CC,EAYIhN,EAZJgN,WACAC,EAWIjN,EAXJiN,mBACA1B,EAUIvL,EAVJuL,4BACA5C,EASI3I,EATJ2I,cACAgC,EAQI3K,EARJ2K,iBACAC,EAOI5K,EAPJ4K,aACAC,EAMI7K,EANJ6K,gBACAC,EAKI9K,EALJ8K,WACAC,EAII/K,EAJJ+K,UACAlC,EAGI7I,EAHJ6I,cACAmC,EAEIhL,EAFJgL,gBACAC,EACIjL,EADJiL,eAEMiC,EAAwB,QAAfF,EACTjB,EAAYkB,EAAqB,IACjCE,EAAsBD,EAAS,EAAIlI,KAAKiH,MAAMtD,EAAgBoD,GAC9DqB,EAA0BpI,KAC7BiH,MAAMkB,EAAsB5B,EAA8B,MACvD8B,GAtBoCN,EAsB+C,IAtBzDD,EAsB4BvB,GArBhD,IAAM,GAqBqB4B,GArBD,EAAAnI,KAAAsI,IAAM,EAAKR,EAAW,IAAM,GAAiB,IAAPC,KAsBtEQ,EAAW5C,EAAmBC,EAAeC,EAC7C2C,EAAQ1C,EAAaC,EACrB0C,EAAiBP,EAASvE,EAAgB3D,KAAKiH,MAAMtD,GAAiB,EAAIoD,IAC1E2B,EAAY1D,EAChBrB,EAAeE,EAAemC,EAAiBC,GAE3C0C,EAAUjD,EAAcC,EAAkBC,EAAcC,EAC5DC,EAAYC,EAAWpC,EAAeE,EAAemC,EAAiBC,GAClE2C,EAAQD,EAAUR,EAClBT,EAASC,EAEf,MAAO,CACL,CAAEhN,MAAO+M,EAAO,GAAIhL,MAAOyL,EAAoBP,QAAQ,IACvD,CAAEjN,MAAO+M,EAAO,GAAIhL,MAAO+L,EAAeb,QAAQ,IAClD,CAAEjN,MAAO+M,EAAO,GAAIhL,MAAOgM,EAAUd,QAAQ,IAC7C,CAAEjN,MAAO+M,EAAO,GAAIhL,MAAO6L,EAASX,QAAQ,IAC5C,CAAEjN,MAAO+M,EAAO,GAAIhL,MAAO8L,EAAMZ,QAAQ,IACzC,CAAEjN,MAAO+M,EAAO,GAAIhL,MAAOkM,EAAMhB,QAAQ,IACzC,CAAEjN,MAAO+M,EAAO,GAAIhL,MAAOiM,EAAQf,QAAQ,IAC3C,CAAEjN,MAAO+M,EAAO,GAAIhL,MAAO0L,EAAwBR,QAAQ,IAC3D,CAAEjN,MAAO+M,EAAO,GAAIhL,MAAO2L,EAAiBT,QAAQ,MDpCtDhD,KERW,SAAA5J,GAaP,IAZJ6N,EAYI7N,EAZJ6N,gBACAC,EAWI9N,EAXJ8N,gBACAnD,EAUI3K,EAVJ2K,iBACAC,EASI5K,EATJ4K,aACAC,EAQI7K,EARJ6K,gBACAC,EAOI9K,EAPJ8K,WACAC,EAMI/K,EANJ+K,UACApC,EAKI3I,EALJ2I,cACAE,EAII7I,EAJJ6I,cACAmC,EAGIhL,EAHJgL,gBACAC,EAEIjL,EAFJiL,eACAK,EACItL,EADJsL,YAEMqC,EAAUjD,EAAcC,EAAkBC,EAAcC,EAC5DC,EAAYC,EAAWpC,EAAeE,EAAemC,EAAiBC,GAElE8C,EAAOF,EAAkBC,EACzBE,EAAWhJ,KAAKiH,OAAOX,EAAcqC,GAAWA,EAAU,KAAS,IACnEM,EAAOD,GAAY,GAAM,QAAU,MACnCtB,EAASC,EAEf,MAAO,CACL,CAAEhN,MAAO+M,EAAO,GAAIhL,MAAO4J,EAAYsB,QAAQ,IAC/C,CAAEjN,MAAO+M,EAAO,GAAIhL,MAAOqM,EAAKnB,QAAQ,IACxC,CAAEjN,MAAO+M,EAAO,GAAIhL,MAAOiM,EAAQf,QAAQ,IAAM,KACjD,CAAEjN,MAAO+M,EAAO,GAAIhL,OAAS4J,GAAeqC,EAAUI,IAAOnB,QAAQ,IAAM,IAAMqB,OACjF,CAAEtO,MAAO+M,EAAO,GAAIhL,MAAOsM,EAASpB,QAAQ,IAAM,EAAGqB,SFlBvDvD,gBACAwD,WGXiB,SAAAlO,GAMb,IALJsL,EAKItL,EALJsL,YACA5C,EAII1I,EAJJ0I,YACA2C,EAGIrL,EAHJqL,YACA8C,EAEInO,EAFJmO,kCACAC,EACIpO,EADJoO,6BAEMC,EAAUrJ,KAAKkE,KACnBoC,EACED,EAAc,IACd8C,EAAoC,KACpCC,EAA+B,KAE7BE,EAAO5F,GAAe2F,EACtB3B,EAASC,EAEf,MAAO,CACL,CAAEhN,MAAO+M,EAAO,GAAIhL,MAAO4M,EAAO,OAAS,QAC3C,CAAE3O,MAAO+M,EAAO,GAAIhL,MAAO2M,EAAQzB,QAAQ,MHN7C2B,gBARsB,SAAAvO,GAAA,MAA8C,YAA9CA,EAAGgL,gBAAuD,KAAO,MIJnF3G,EAAQ,CACZ1E,MAAO,OACPM,KAAM,YACNG,KAAMjC,QAAMK,MACZyC,OAAQ,GACRE,UAAU,GCFJlB,EDKOoE,ECLPpE,KAAMG,EDKCiE,ECLDjE,KAAMT,EDKL0E,ECLK1E,MAoDL6O,cAjDb,SAAAA,EAAYlM,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA8L,IACjBjM,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAgM,GAAA3L,KAAAH,KAAMJ,KACDmM,MAAQ,CACXrH,MAAO,IAET7E,EAAKY,aAAeZ,EAAKY,aAAaJ,KAAlBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACpBA,EAAKmM,aAAenM,EAAKmM,aAAa3L,KAAlBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KANHA,4EASNf,GACXkB,KAAKiM,SAAS,CAAEvH,MAAO5F,EAAEsC,OAAOpC,6CAGrBF,GAAG,IACGoN,EAAgClM,KAAzCJ,MAASsM,QAAoBxH,EAAY1E,KAArB+L,MAASrH,MACrC5F,EAAEoC,iBACEwD,GACFwH,EAAQxH,oCAKV,OACE7G,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAAS4F,MAAO,CAAEuI,UAAW,WAC1CtO,EAAAC,EAAAC,cAAA,QAAMqO,SAAUpM,KAAKgM,cACnBnO,EAAAC,EAAAC,cAAA,SACEC,UAAU,eACVW,IAAKpB,EACLG,KAAMA,EACNH,KAAMA,EACNqB,GAAIrB,EACJwB,aAAa,MACbT,YAAW,GAAAzB,OAAKI,EAAL,MAAAJ,OAAea,EAAf,KACXmB,SAAUmB,KAAKS,aACfvB,OAAQc,KAAKS,aACbhC,UAAQ,IAEVZ,EAAAC,EAAAC,cAAA,UACEL,KAAK,SACLM,UAAU,4BAFZ,eAtCUkF,aCIdkC,EACSE,yEAqQA+G,eAxPb,SAAAA,EAAYzM,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAqM,IACjBxM,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAuM,GAAAlM,KAAAH,KAAMJ,KACDmM,MAAQ,CACX5H,KAAM,CACJ4C,YAAa,GACbC,SAAU,GACVC,OAAQ,GACRC,KAAM,IAERvJ,SAAU,IACV2O,YAAa,CAAEC,MAAO,IACtBzF,aAAc,CAAErC,YAAa,IAC7B+H,eAAe,EACfC,UAAW,MAEb5M,EAAKc,UAAYd,EAAKc,UAAUN,KAAfP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACjBA,EAAK6M,UAAY7M,EAAK6M,UAAUrM,KAAfP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACjBA,EAAK8M,YAAc9M,EAAK8M,YAAYtM,KAAjBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACnBA,EAAK+M,YAAc/M,EAAK+M,YAAYvM,KAAjBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACnBA,EAAKgN,MAAQhN,EAAKgN,MAAMxM,KAAXP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAnBIA,yFARjB,IAAMiN,EAAW,GAKjB,OAJApN,EAAOJ,IAAI,SAACsC,GAEV,OADAkL,EAASlL,EAAGrE,MAAQqE,EAAGrD,QAChB,IAEFuO,uGA6BMC,GAAY,IAAAzL,EAAAtB,KACnBgN,EAAqB,SAAA1P,EAAAc,GAGtB,IAFY6O,EAEZ3P,EAFDmH,YAAyByI,EAExB5P,EAFoBsB,GACRuO,EACZ/O,EADDqG,YAAyB2I,EACxBhP,EADoBQ,GAEvB,OAAKqO,EAASC,EAAQC,EAASC,GAAc,EACxCH,EAASC,EAAQC,EAASC,EAAa,EACrC,GAEDX,EAAczM,KAAK+L,MAAnBU,UAERY,MAAK,GAAAxQ,OAAIuI,EAAJ,UAAAvI,OAA6B4P,IAC/Ba,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAACnJ,GACDA,EAAKoI,MAAM/J,OAAS,GACtB2B,EAAKoI,MAAMkB,KAAKT,GAElB1L,EAAKoM,UAAUvJ,EAAM4I,KAEtBY,MAAM,WACLrM,EAAKoM,UAAU,MAAM,uCAIjBE,GAER,OADwB5N,KAAK+L,MAArBO,YACWC,MAAMsB,KAAK,SAAA9B,GAAK,OAAIA,EAAMnN,KAAOgP,sCAG5CzJ,EAAM4I,GAAY,IAClBN,EAAczM,KAAK+L,MAAnBU,UACFqB,EAAW,CACfxB,YAAanI,GAAQ,CAAEoI,MAAO,IAC9BC,gBAAiBrI,GAGf4I,IACFe,EAAShH,aAAeuF,EAAI0B,sBAG1BtB,GAAaqB,EAAShH,eACxBgH,EAAShH,aAAapC,MAAQ+H,GAGhCzM,KAAKiM,SAAS6B,qCAGNE,EAAcC,GAAU,IACxBnH,EAAiB9G,KAAK+L,MAAtBjF,aACFoH,EAAaF,EAADlO,OAAA+B,EAAA,EAAA/B,CAAA,GACTgH,EADShH,OAAAqO,EAAA,EAAArO,CAAA,GACMkO,EAAeC,IAAanH,EAC9CC,EAAc0B,EAAa0B,eAAe+D,GAC1ClH,EAAWyB,EAAaC,SAASwF,GACjChH,EAAOuB,EAAavB,KAAKgH,GACzBjH,EAASwB,EAAa+C,WAAW0C,GACjC/Q,EAAasL,EAAaoD,gBAAgBqC,GAEhDE,SAASC,eAAe,aAAazI,KAAOsI,EAAUzJ,YAAYrH,QAAQ,KAAM,KAEhF,IAAM0Q,EAAW,CACf3J,KAAM,CACJ4C,cACAC,WACAC,SACAC,QAEFvJ,SAAUR,GAGR6Q,IACFF,EAAShH,aAAeoH,GAG1BlO,KAAKiM,SAAS6B,uCAGJ,IAAAQ,EAAAtO,KAAAuO,EACmEvO,KAAK+L,MAA1EjF,EADEyH,EACFzH,aADE0H,EAAAD,EACYzH,aAAgBrC,EAD5B+J,EAC4B/J,YAAaQ,EADzCuJ,EACyCvJ,SAAYwH,EADrD8B,EACqD9B,UAC/D,GAAoB,KAAhBhI,GAAmC,KAAbQ,EAA1B,CAGA,IAAMwJ,EAAW3O,OAAA+B,EAAA,EAAA/B,CAAA,GAAQgH,EAAR,CAAsBpC,MAAO+H,IAC9CY,MAAMjI,EAAkB,CACtBsJ,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUP,KAEpBnB,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,WACJgB,EAAKW,gBAAe,KAErBtB,MAAM,kBAAMW,EAAKrC,SAAS,CAAEK,YAAa,CAAEC,MAAO,iCAClD2C,QAAQ,WACPZ,EAAKrC,SAAS,CAAEkD,MAAO,8CAIjBvB,GAAS,IAAAwB,EAAApP,KACXyM,EAAczM,KAAK+L,MAAnBU,UACRY,MAAMjI,EAAkB,CACtBsJ,OAAQ,SACRC,QAAS,CACPC,OAAQ,mBACRC,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CAAEpQ,GAAIgP,EAASlJ,MAAO+H,MAE1Ca,KAAK,SAAC+B,GACL,IAAIA,EAAKC,GAIP,MAAM,IAAIC,MAAM,iBAJL,IACW3Q,EAAOwQ,EAAKrD,MAA1BjF,aACRsI,EAAKH,eAAerB,IAAYhP,KAIjC+O,MAAM,kBAAMyB,EAAKnD,SAAS,CAAEK,YAAa,CAAEC,MAAO,wEAG7CqB,GAAS,IAAA4B,EAAAxP,KACbyP,EAAgBzP,KAAK0P,UAAU9B,GACrC5N,KAAKiM,SAAS,CAAEnF,aAAc2I,GAAiB,kBAAMD,EAAK7O,gDAGlD7B,GAAG,IAAA6Q,EAAA3P,KACXlB,EAAEoC,iBACFlB,KAAKiM,SACH,CAAEnF,aAAcuF,EAAI0B,sBAAwB,kBAAM4B,EAAKhP,cAEzD7B,EAAEsC,OAAOC,qCAGLqD,GAAO,IAAAkL,EAAA5P,KACXA,KAAKiM,SAAS,CAAEQ,UAAW/H,GAAS,WAClCkL,EAAKX,gBAAe,sCAIf,IAAAY,EAAA7P,KAAA8P,EAQH9P,KAAK+L,MANPpO,EAFKmS,EAELnS,SACA2O,EAHKwD,EAGLxD,YACAxF,EAJKgJ,EAILhJ,aACA0F,EALKsD,EAKLtD,cACA2C,EANKW,EAMLX,MACA1C,EAPKqD,EAOLrD,UAEMhI,EAA0BqC,EAA1BrC,YAAaQ,EAAa6B,EAAb7B,SACf8K,EACJvD,GACmB,KAAhB/H,GACa,KAAbQ,EAEGsH,EAAUD,EAAVC,MACFyD,EAAYzD,EAAM/J,OAAS,GAAKiK,EACpC5O,EAAAC,EAAAC,cAACF,EAAAC,EAAM4I,SAAP,KACE7I,EAAAC,EAAAC,cAAA,4BACAF,EAAAC,EAAAC,cAACkS,EAAD,CACE9L,KAAMoI,EACN/I,SAAUxD,KAAK2M,YACflJ,QAASzD,KAAK4M,YACdvI,UAAWoI,EACXnI,OAAQ,SAAA4L,GAAC,OAAIA,EAAExL,QAAU+H,KAE3B5O,EAAAC,EAAAC,cAAA,+BACAF,EAAAC,EAAAC,cAACkS,EAAD,CACE9L,KAAMoI,EACN/I,SAAUxD,KAAK2M,YACflJ,QAASzD,KAAK4M,YACdvI,UAAWoI,EACXnI,OAAQ,SAAA4L,GAAC,OAAIA,EAAExL,QAAU+H,MAG3B,GACE0D,EAAyC,KAA7BrJ,EAAarC,YAC7B5G,EAAAC,EAAAC,cAAA,MAAIC,UAAU,SACZH,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UACEL,KAAK,SACLM,UAAU,2BACViF,QAAS,SAAAmN,GAAK,OAAIP,EAAKQ,UAAUD,KAHnC,SASF,GAEJ,OAAOtQ,OAAOwQ,KAAKxJ,GAActE,OAAS,EACxC3E,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAAS4F,MAAO,CAAEuI,UAAW,WAC1CtO,EAAAC,EAAAC,cAAA,+CACAF,EAAAC,EAAAC,cAACwS,EAAD,CACEhT,KAAK,WACLmC,OAAQA,EACRmB,SAAUiG,EACVhE,QAAQ,MACRnC,UAAWX,KAAKW,UAChBc,WAAY9D,EACZwD,OAAQnB,KAAK0M,UACb1J,SAAU+M,EACVZ,MAAOA,IAERgB,GAEHtS,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACZ6I,EAAQ7G,KAAK+L,QAEhBlO,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACZgS,IAKHnS,EAAAC,EAAAC,cAACyS,EAAD,CACEtE,QAASlM,KAAK6M,eA5PN3J,aCHEuN,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,iECTNC,IAASrR,OAAO5B,EAAAC,EAAAC,cAACgT,GAAD,MAAS3C,SAASC,eAAe,SDwH3C,kBAAmB2C,WACrBA,UAAUC,cAAcC,MAAM5D,KAAK,SAAA6D,GACjCA,EAAaC","file":"static/js/main.e535e20a.chunk.js","sourcesContent":["const types = {\n  NUMBER: 'number',\n  TEXT: 'text',\n  CHECKBOX: 'checkbox',\n  SELECT: 'select',\n  EMAIL: 'email',\n};\n\nconst currencyPlaceholder = '##CURR##';\nconst percentSign = String.fromCharCode(37);\n\nmodule.exports = {\n  types,\n  currencyPlaceholder,\n  percentSign,\n};\n","const ireland = [\n  { upto: 1000000, rate: 1 },\n  { upto: 'end', rate: 2 },\n];\nconst scotland = [{ upto: 250000, rate: 2, load: 3 },\n  { upto: 325000, rate: 5, load: 3 },\n  { upto: 750000, rate: 10, load: 3 },\n  { upto: 'end', rate: 12, load: 3 },\n];\nconst bands = {\n  commercial: {\n    england: [\n      { upto: 150000, rate: 0 },\n      { upto: 250000, rate: 2 },\n      { upto: 'end', rate: 5 },\n    ],\n    wales: [\n      { upto: 150000, rate: 0 },\n      { upto: 250000, rate: 1 },\n      { upto: 1000000, rate: 5 },\n      { upto: 'end', rate: 6 },\n    ],\n    scotland: [\n      { upto: 150000, rate: 0 },\n      { upto: 250000, rate: 1 },\n      { upto: 'end', rate: 5 },\n    ],\n    ireland,\n  },\n\n  residential: {\n    first: {\n      england: {\n        thresholds: [\n          { upto: 300000, rate: 0 },\n          { upto: 500000, rate: 5 },\n        ],\n        limit: 500000,\n      },\n      scotland: {\n        thresholds: [\n          { upto: 175000, rate: 0 },\n          ...scotland,\n        ],\n        limit: -1,\n      },\n    },\n    england: [\n      { upto: 125000, rate: 0, load: 3 },\n      { upto: 250000, rate: 2, load: 3 },\n      { upto: 925000, rate: 5, load: 3 },\n      { upto: 1500000, rate: 10, load: 3 },\n      { upto: 'end', rate: 12, load: 3 },\n    ],\n    wales: [\n      { upto: 180000, rate: 0, load: 3 },\n      { upto: 250000, rate: 3.5, load: 3 },\n      { upto: 400000, rate: 5, load: 3 },\n      { upto: 750000, rate: 7.5, load: 3 },\n      { upto: 1500000, rate: 10, load: 3 },\n      { upto: 'end', rate: 12, load: 3 },\n    ],\n    scotland: [\n      { upto: 145000, rate: 0, load: 3 },\n      ...scotland,\n    ],\n    ireland,\n  },\n};\n\nmodule.exports = bands;\n","// stateless component Input. Currently handles types text, number, checkbox\n// passed through props\n/* eslint react/prop-types: 0 */\nimport React from 'react';\nimport { currencyPlaceholder } from './formConstants';\n\nconst currRegEx = new RegExp(currencyPlaceholder, 'g');\n\nconst addCurrencySymbolToLabel = (label, currencyCode) => {\n  const currSymbol = String.fromCharCode(currencyCode);\n  return label.replace(currRegEx, currSymbol);\n};\n\n// stateless component Label\nfunction Label({\n  name, doLabelClass, dynamicLabel, label, type, currency,\n}) {\n  const labelWithCurrency = addCurrencySymbolToLabel(label, currency);\n\n  return (\n    <div className={type === 'checkbox' ? 'checkbox-label' : 'input-label'}>\n      <label\n        htmlFor={name}\n        className={doLabelClass(name)}\n      >\n        {dynamicLabel(name, labelWithCurrency)}\n      </label>\n    </div>\n  );\n}\n\nfunction Input({\n  className, name, type, onInput,\n  placeholder, label, defVal, onblur,\n  doLabelClass, dynamicLabel, currency, required, disabled,\n}) {\n  const labelWithCurrency = addCurrencySymbolToLabel(label, currency);\n\n  return (\n    <li key={name}>\n      <input\n        className={className || 'form-control'}\n        key={name}\n        type={type}\n        name={name}\n        id={name}\n        onChange={e => onInput(e)}\n        autoComplete=\"off\"\n        placeholder={placeholder || labelWithCurrency || `${name} [${type}]`}\n        value={defVal || ''}\n        checked={defVal === 'yes'}\n        onBlur={e => onblur(e)}\n        required={required || false}\n        disabled={disabled}\n      />\n      {Label({\n        name, doLabelClass, dynamicLabel, label, type, currency,\n      })}\n    </li>\n  );\n}\n\n// stateless component Select\nfunction Select({\n  className, name, type, onInput, label, defVal, onblur,\n  options, doLabelClass, dynamicLabel, disabled,\n}) {\n  return (\n    <li key={name}>\n      <select\n        value={defVal}\n        className={className || 'form-control'}\n        key={name}\n        name={name}\n        id={name}\n        onChange={e => onInput(e)}\n        onBlur={e => onblur(e)}\n        disabled={disabled}\n      >\n        {options.map(\n          opt => (\n            <option\n              key={opt.value}\n              name={opt.name}\n              value={opt.value}\n            >\n              {opt.name}\n            </option>\n          ),\n        )}\n      </select>\n      {Label({\n        name, doLabelClass, dynamicLabel, label, type,\n      })}\n    </li>\n  );\n}\n\nconst StatelessComponents = {\n  Input,\n  Select,\n};\n\nexport default StatelessComponents;\n","/* eslint react/prop-types: 0 */\n/* eslint-env browser */\nimport React, { Component } from 'react';\nimport StatelessComponents from '../common/StatelessFormComponents';\nimport { types } from '../common/formConstants';\n\nconst { Input, Select } = StatelessComponents;\n\nfunction FormColumn({ render, fields, className }) {\n  return (\n    <ul className={className}>\n      {render(fields)}\n    </ul>\n  );\n}\n\nclass Form extends Component {\n  constructor(props) {\n    super(props);\n    this.doLabel = this.doLabel.bind(this);\n    this.doLabelClass = this.doLabelClass.bind(this);\n    this.renderFields = this.renderFields.bind(this);\n    this.renderFieldCols = this.renderFieldCols.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSave = this.handleSave.bind(this);\n  }\n\n  componentDidMount() {\n    const { props } = this;\n    props.calculate();\n  }\n\n  doLabel(fname, label) {\n    const { formData } = this.props;\n    return formData && formData[fname] ? label || fname : '';\n  }\n\n  doLabelClass(fname) {\n    const { formData } = this.props;\n    return formData && formData[fname] ? 'show' : 'hide';\n  }\n\n  handleChange({\n    type,\n    value,\n    checked,\n    name,\n  }) {\n    const { props } = this;\n    let val;\n\n    switch (type) {\n      case types.NUMBER:\n        val = Number.isNaN(value) ? 0 : (parseFloat(value) || 0);\n        break;\n      case types.CHECKBOX:\n        val = checked ? 'yes' : 'no';\n        break;\n      default:\n        val = value || '';\n    }\n\n    props.calculate(name, val);\n  }\n\n  handleSave(e) {\n    e.preventDefault();\n    const { onsave } = this.props;\n    onsave();\n    e.target.blur();\n  }\n\n  renderFields(fields) {\n    const formFields = [];\n    const { currsymbol, formData } = this.props;\n    fields.forEach((field) => {\n      const ob = { ...field };\n      const isDisabled = (ob.disabled && formData[ob.disabled.whenField] === ob.disabled.isEqual)\n        || (ob.disabled2 && formData[ob.disabled2.whenField] === ob.disabled2.isEqual);\n      ob.dynamicLabel = (n, l) => this.doLabel(n, l);\n      ob.doLabelClass = n => this.doLabelClass(n);\n      ob.onInput = e => this.handleChange(e.target);\n      ob.onblur = e => this.handleChange(e.target);\n      ob.currency = currsymbol;\n      ob.defVal = formData[ob.name];\n      ob.disabled = isDisabled;\n      if (ob.type === 'select') {\n        formFields.push(Select(ob));\n      } else {\n        formFields.push(Input(ob));\n      }\n    });\n    return formFields;\n  }\n\n  renderFieldCols() {\n    const { fields } = this.props;\n    const arrLength = Math.floor(fields.length / 2);\n    const left = fields.slice(0);\n    const right = left.splice(arrLength);\n\n    return [\n      <FormColumn\n        key=\"1\"\n        fields={left}\n        className=\"left\"\n        render={this.renderFields}\n      />,\n      <FormColumn\n        key=\"2\"\n        fields={right}\n        className=\"right\"\n        render={this.renderFields}\n      />,\n    ];\n  }\n\n  render() {\n    const {\n      name,\n      twocols,\n      fields,\n      showsave,\n    } = this.props;\n    const button = showsave ? (\n      <ul className=\"left\">\n        <li>\n          <button\n            type=\"submit\"\n            className=\"btn-primary form-control\"\n            onClick={this.handleSave}\n          >\n            save this\n          </button>\n        </li>\n      </ul>\n    ) : '';\n\n    return (\n      <form\n        name={name}\n        id={name}\n      >\n        {twocols === 'yes' ? this.renderFieldCols() : this.renderFields(fields)}\n        {button}\n      </form>\n    );\n  }\n}\n\nexport default Form;\n","import { types, currencyPlaceholder, percentSign } from '../common/formConstants';\n\nconst fields = [\n  {\n    label: 'Project name',\n    name: 'projectName',\n    type: types.TEXT,\n    defVal: '',\n    required: true,\n  },\n  {\n    label: 'Post code',\n    name: 'postCode',\n    type: types.TEXT,\n    defVal: '',\n    required: true,\n  },\n  {\n    label: `Asking price(${currencyPlaceholder})`,\n    name: 'askingPrice',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Purchase price(${currencyPlaceholder})`,\n    name: 'propertyValue',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Done up value(${currencyPlaceholder})`,\n    name: 'doneUpValue',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: 'Cash purchase',\n    name: 'buyingCash',\n    type: types.CHECKBOX,\n    defVal: 'no',\n  },\n  {\n    label: `Initial LTV(${percentSign})`,\n    name: 'initialLoanToValue',\n    type: types.NUMBER,\n    defVal: 75,\n    disabled: { whenField: 'buyingCash', isEqual: 'yes' },\n  },\n  {\n    label: `Mortgage fee(${currencyPlaceholder})`,\n    name: 'initMortgageFee',\n    type: types.NUMBER,\n    defVal: 0,\n    disabled: { whenField: 'buyingCash', isEqual: 'yes' },\n  },\n  {\n    label: `Surveyors fee(${currencyPlaceholder})`,\n    name: 'initSurveyorsFee',\n    type: types.NUMBER,\n    defVal: 600,\n  },\n  {\n    label: `Legal fees(${currencyPlaceholder})`,\n    name: 'initLegalFee',\n    type: types.NUMBER,\n    defVal: 1500,\n  },\n  {\n    label: 'Stamp duty type',\n    name: 'stampDutyType',\n    type: types.SELECT,\n    options: [\n      { value: 'residential', name: 'Residential' },\n      { value: 'commercial', name: 'Commercial' },\n    ],\n    defVal: 'residential',\n  },\n  {\n    label: 'Stamp duty region',\n    name: 'stampDutyRegion',\n    type: types.SELECT,\n    options: [\n      { value: 'england', name: 'England/NI' },\n      { value: 'scotland', name: 'Scotland' },\n      { value: 'wales', name: 'Wales' },\n      { value: 'ireland', name: 'Ireland' },\n    ],\n    defVal: 'england',\n  },\n  {\n    label: 'Stamp duty buyer',\n    name: 'stampDutyBuyer',\n    type: types.SELECT,\n    options: [\n      { value: 'investor', name: 'Investor' },\n      { value: 'first', name: 'First time buyer' },\n      { value: 'home', name: 'Moving house' },\n    ],\n    defVal: 'investor',\n    disabled: { whenField: 'stampDutyType', isEqual: 'commercial' },\n  },\n  {\n    label: `Monthly rent(${currencyPlaceholder})`,\n    name: 'monthlyRent',\n    type: types.NUMBER,\n    defVal: 0,\n    disabled: { whenField: 'buyToLet', isEqual: 'no' },\n  },\n  {\n    label: 'Buy to let',\n    name: 'buyToLet',\n    type: types.CHECKBOX,\n    defVal: 'yes',\n  },\n  {\n    label: `Refurbishment cost(${currencyPlaceholder})`,\n    name: 'refurbCost',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Other cost(${currencyPlaceholder})`,\n    name: 'otherCost',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Remortgage fee(${currencyPlaceholder})`,\n    name: 'remortgageFee',\n    type: types.NUMBER,\n    defVal: 0,\n    disabled: { whenField: 'buyToLet', isEqual: 'no' },\n  },\n  {\n    label: `Remortgage valuation fee(${currencyPlaceholder})`,\n    name: 'remortgageValuationFee',\n    type: types.NUMBER,\n    defVal: 0,\n    disabled: { whenField: 'buyToLet', isEqual: 'no' },\n  },\n  {\n    label: `Remortgage legal fees(${currencyPlaceholder})`,\n    name: 'remortgageLegalFee',\n    type: types.NUMBER,\n    defVal: 0,\n    disabled: { whenField: 'buyToLet', isEqual: 'no' },\n  },\n  {\n    label: 'Repairing lease',\n    name: 'repairingLease',\n    type: types.CHECKBOX,\n    defVal: 'no',\n    disabled: { whenField: 'buyToLet', isEqual: 'no' },\n  },\n  {\n    label: `Letting agents rate(${percentSign})`,\n    name: 'agentsPercent',\n    type: types.NUMBER,\n    defVal: 10,\n    disabled: { whenField: 'repairingLease', isEqual: 'yes' },\n    disabled2: { whenField: 'buyToLet', isEqual: 'no' },\n  },\n  {\n    label: `\n    MOE rate(${percentSign})`,\n    name: 'moePercent',\n    type: types.NUMBER,\n    defVal: 15,\n    disabled: { whenField: 'repairingLease', isEqual: 'yes' },\n    disabled2: { whenField: 'buyToLet', isEqual: 'no' },\n  },\n  {\n    label: `Interest rate(${percentSign})`,\n    name: 'mortgageInterestRatePercent',\n    type: types.NUMBER,\n    defVal: 6.0,\n  },\n  {\n    label: `Remortgage LTV(${percentSign})`,\n    name: 'loanToValue',\n    type: types.NUMBER,\n    defVal: 75,\n    disabled: { whenField: 'buyToLet', isEqual: 'no' },\n  },\n  {\n    label: `Solicitors selling fee(${currencyPlaceholder})`,\n    name: 'sellingLegalFee',\n    type: types.NUMBER,\n    defVal: 0,\n    disabled: { whenField: 'flip', isEqual: 'no' },\n  },\n  {\n    label: `Agent/selling fee(${currencyPlaceholder})`,\n    name: 'agentSellingFee',\n    type: types.NUMBER,\n    defVal: 0,\n    disabled: { whenField: 'flip', isEqual: 'no' },\n  },\n  {\n    label: `Mortgage stress test(${percentSign})`,\n    name: 'mortgageStressMultipePercent',\n    type: types.NUMBER,\n    defVal: 125,\n    disabled: { whenField: 'buyToLet', isEqual: 'no' },\n  },\n  {\n    label: `Stress interest rate(${percentSign})`,\n    name: 'mortgageStressInterestRatePercent',\n    type: types.NUMBER,\n    defVal: 5.0,\n    disabled: { whenField: 'buyToLet', isEqual: 'no' },\n  },\n  {\n    label: 'Flip',\n    name: 'flip',\n    type: types.CHECKBOX,\n    defVal: 'yes',\n  },\n];\n\nexport default fields;\n","/* eslint-env browser */\n/* eslint react/prop-types: 0 */\n// eslint-disable-next-line\nimport React from 'react';\nimport dateFormat from 'date-format';\n\nconst handleClick = (e, callback) => {\n  e.preventDefault();\n  e.target.blur();\n  callback(e.target.id.split('-')[1]);\n};\n\nconst showDate = milis => dateFormat('dd/MM hh:mm:ss', new Date(parseInt(milis, 0)));\n\nconst SavedStateListItem = ({\n  label,\n  value,\n  ondelete,\n  onclick,\n  deletable,\n  firstname,\n}) => (\n  <li>\n    <div className=\"state\">\n      <button\n        className=\"btn-primary form-control\"\n        style={{ width: '100%' }}\n        type=\"submit\"\n        id={`select-${value}`}\n        onClick={e => handleClick(e, onclick)}\n      >\n        {`${label} (${showDate(value)}${deletable ? '' : ` ${firstname}`})`}\n      </button>\n    </div>\n    <div className=\"remove-state\">\n      <button\n        className=\"btn-sm btn-primary btn-warning\"\n        type=\"submit\"\n        id={`delete-${value}`}\n        onClick={e => handleClick(e, ondelete)}\n        style={{ display: deletable ? '' : 'none' }}\n      >\n        delete\n      </button>\n    </div>\n  </li>\n);\n\nconst SavedStateList = ({\n  data,\n  ondelete,\n  onselect,\n  onclick,\n  useremail,\n  filter,\n}) => {\n  if (data.map) {\n    const filteredData = data.filter(filter);\n    return (\n      <ul>\n        {filteredData.map(({ projectName, id, email }, ind) => {\n          const key = `li-${id}-${ind}`;\n          return (\n            <SavedStateListItem\n              ondelete={ondelete}\n              key={`li-${key}`}\n              label={projectName || 'untitled'}\n              value={id}\n              onselect={onselect}\n              onclick={onclick}\n              deletable={useremail === email}\n              firstname={email.split('@')[0].split('.')[0]}\n            />\n          );\n        })}\n      </ul>\n    );\n  }\n  return '';\n};\n\nexport default SavedStateList;\n","/* eslint react/prop-types: 0 */\n// eslint-disable-next-line\nimport React from 'react';\n\nconst ListItem = ({ label, value }) => (\n  <li>\n    <div className=\"label\">{label}</div>\n    <div className=\"value\">{value}</div>\n  </li>\n);\n\nconst ResultsList = ({ data, id }) => (data ? (\n  <ul>\n    {data.map(({ label, value }, ind) => {\n      const key = `li-${id}-${ind}`;\n      return <ListItem key={`li-${key}`} label={label} value={value} />;\n    })}\n  </ul>\n) : '');\n\nexport default ResultsList;\n","// postcode validation regex\nconst postCodeRegEx = /^(GIR[ ]?0AA|((AB|AL|B|BA|BB|BD|BH|BL|BN|BR|BS|BT|CA|CB|CF|CH|CM|CO|CR|CT|CV|CW|DA|DD|DE|DG|DH|DL|DN|DT|DY|E|EC|EH|EN|EX|FK|FY|G|GL|GY|GU|HA|HD|HG|HP|HR|HS|HU|HX|IG|IM|IP|IV|JE|KA|KT|KW|KY|L|LA|LD|LE|LL|LN|LS|LU|M|ME|MK|ML|N|NE|NG|NN|NP|NR|NW|OL|OX|PA|PE|PH|PL|PO|PR|RG|RH|RM|S|SA|SE|SG|SK|SL|SM|SN|SO|SP|SR|SS|ST|SW|SY|TA|TD|TF|TN|TQ|TR|TS|TW|UB|W|WA|WC|WD|WF|WN|WR|WS|WV|YO|ZE)(\\d[\\dA-Z]?[ ]?\\d[ABD-HJLN-UW-Z]{2}))|BFPO[ ]?\\d{1,4})$/;\n\nconst validatePostcode = postCode => postCodeRegEx.test(postCode.toUpperCase());\n\nexport default validatePostcode;\n","/* eslint react/prop-types: 0 */\nimport React from 'react';\nimport validatePostcode from '../../../util/validate-postcode';\n\nconst urls = {\n  rmBuy: {\n    commercial: process.env.REACT_APP_RM_COM_BUY_URL,\n    residential: process.env.REACT_APP_RM_BUY_URL,\n  },\n  rmRent: {\n    commercial: process.env.REACT_APP_RM_COM_LET_URL,\n    residential: process.env.REACT_APP_RM_LET_URL,\n  },\n  nhpSold: process.env.REACT_APP_NHP_SOLD_URL,\n  gMap: process.env.REACT_APP_MAP_URL,\n};\n\nfunction Link({ href, text }) {\n  return (\n    <a\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      href={href}\n    >\n      {text}\n    </a>\n  );\n}\n\nfunction Links(\n  {\n    postCode,\n    askingPrice,\n    monthlyRent,\n    propertyValue,\n    stampDutyType,\n  },\n) {\n  const urlType = stampDutyType.startsWith('commercial') ? 'commercial' : 'residential';\n  const { oneK, oneHundredK } = { oneK: 1000, oneHundredK: 100000 };\n  const maxPrice = Math\n    .ceil((askingPrice || propertyValue || 400000) / oneHundredK * 1.2) * oneHundredK;\n  const maxRent = Math.ceil((monthlyRent || oneK) / oneK * 1.2) * oneK;\n\n  return (postCode && validatePostcode(postCode)) ? (\n    <React.Fragment>\n      <Link\n        href={urls.nhpSold + postCode}\n        text=\"sold\"\n      />\n      {' | '}\n      <Link\n        href={`${urls.rmBuy[urlType] + postCode}&maxPrice=${(maxPrice)}`}\n        text=\"for sale\"\n      />\n      {' | '}\n      <Link\n        href={`${urls.rmRent[urlType] + postCode}&maxPrice=${maxRent}`}\n        text=\"to let\"\n      />\n      {' | '}\n      <Link\n        href={urls.gMap + postCode}\n        text=\"gmap\"\n      />\n    </React.Fragment>\n  ) : <span style={{ color: 'red', fontStyle: 'italic' }}>use a full valid post code to see links here</span>;\n}\n\nexport default Links;\n","/* eslint react/prop-types: 0 */\nimport React from 'react';\nimport ResultsList from './list/ResultsListComponent';\nimport Links from './links/ResultsLinksComponent';\nimport validatePostcode from '../../util/validate-postcode'\n\nfunction Results({ data, currentState, currentState: { postCode } }) {\n  const {\n    dealFinance,\n    buyToLet,\n    stress,\n    flip,\n  } = data;\n  const showBTL = currentState.buyToLet === 'yes';\n  const showFlip = currentState.flip === 'yes';\n\n  return (\n    <React.Fragment>\n      <div className=\"res-block\" style={{ display: validatePostcode(postCode) ? '' : 'none' }}>\n        <h6>Links for this post code</h6>\n        {Links(currentState)}\n      </div>\n      <div className=\"res-block\">\n        <h6>Deal finance</h6>\n        <ResultsList id=\"1\" data={dealFinance} />\n      </div>\n      <div className=\"res-block\" style={{ display: showBTL ? '' : 'none' }}>\n        <h6>Buy to let</h6>\n        <ResultsList id=\"2\" data={buyToLet || ''} />\n      </div>\n      <div className=\"res-block\" style={{ display: showBTL ? '' : 'none' }}>\n        <h6>Stress test</h6>\n        <ResultsList id=\"3\" data={stress || ''} />\n      </div>\n      <div className=\"res-block\" style={{ display: showFlip ? '' : 'none' }}>\n        <h6>Flip</h6>\n        <ResultsList id=\"4\" data={flip} />\n      </div>\n    </React.Fragment>\n  );\n}\n\nexport default Results;\n","import sdltBands from './stampduty-bands';\n\nconst calculateStampDuty = (val, type, region, buyer) => {\n  const onePercentOfVal = (val / 100);\n  let bands = sdltBands[type][region];\n  if (buyer === 'first' && type === 'residential' && !/^ireland$|^wales$/.test(region)) {\n    const { limit, thresholds } = sdltBands[type].first[region];\n    if (limit === -1 || val <= limit) {\n      bands = thresholds;\n    }\n  }\n\n  let tax = 0;\n  let bandLimit;\n  let previousBandLimit;\n  let load;\n\n  if (!type || !region) return 0;\n\n  for (let idx = 0; idx < bands.length; idx += 1) {\n    load = buyer === 'investor' ? (bands[idx].load || 0) : 0;\n\n    bandLimit = bands[idx].upto;\n    const { rate } = bands[idx];\n    previousBandLimit = idx > 0 ? bands[idx - 1].upto : 0;\n\n    if (bandLimit === 'end') { // end and return\n      tax += ((onePercentOfVal - (previousBandLimit / 100)) * (rate + load));\n      return tax;\n    }\n    if (val <= bandLimit) { // return before end\n      if (idx === 0) { // below first limit\n        tax += (onePercentOfVal * (rate + load));\n      } else { // below this limit\n        tax += ((onePercentOfVal - (previousBandLimit / 100)) * (rate + load));\n      }\n      return tax;\n    }\n    // add the tax rate for the whole band and carry on\n    tax += ((bandLimit - previousBandLimit) / 100 * (rate + load));\n  }\n  // shouldn't get here but code won't know should throw error\n  // console.error(`check stampduty-test-bands for property without upto: 'end' in last entry`);\n  return tax;\n};\n\nexport default calculateStampDuty;\n","import calculateStampDuty from './stampduty/stampduty-calculator';\n\nconst allInputCosts = (\n  initSurveyorsFee,\n  initLegalFee,\n  initMortgageFee,\n  refurbCost,\n  otherCost,\n  propertyValue,\n  stampDutyType,\n  stampDutyRegion,\n  stampDutyBuyer,\n) => {\n  const stampDuty = calculateStampDuty(\n    propertyValue, stampDutyType, stampDutyRegion, stampDutyBuyer,\n  );\n\n  return (\n    initSurveyorsFee\n    + initLegalFee\n    + initMortgageFee\n    + refurbCost\n    + otherCost\n    + stampDuty\n    + propertyValue\n  );\n};\n\nexport default allInputCosts;\n","const freeCashLabels = [\n  'Remortgage advance',\n  'Remortgage deposit',\n  'Remortgage fees',\n  'Money in',\n  'Money out',\n  'Money left in',\n  'Monthly rental',\n  'Monthly mortgage payment',\n  'MOE',\n  'Letting agent fees',\n  'Monthly free cashflow',\n  'Gross yield',\n];\n\nconst initialFinanceLabels = [\n  'Mortgage advance',\n  'Deposit',\n  'Stamp duty',\n  'Professional fees',\n  'Refurb/other costs',\n  'Total money in',\n  'Total cost',\n  'Interest only mortgage (monthly)',\n  '25 Yr repayment mortgage (monthly)',\n];\n\nconst flipLabels = [\n  'Sale price',\n  'Selling costs',\n  'Total input costs',\n  'Profit (before tax)',\n  'Gain(%)',\n];\n\nconst stressLabels = [\n  'Stress test',\n  'Minimum rent'];\n\nexport default {\n  freeCashLabels,\n  initialFinanceLabels,\n  flipLabels,\n  stressLabels,\n};\n","import calculateStampDuty from './stampduty/stampduty-calculator';\nimport calculationsLabels from '../../labels/calculations-labels';\n\nconst percentSign = String.fromCharCode(37);\nconst freeCash = ({\n  loanToValue,\n  propertyValue,\n  doneUpValue,\n  mortgageInterestRatePercent,\n  monthlyRent,\n  moePercent,\n  agentsPercent,\n  refurbCost,\n  otherCost,\n  stampDutyType,\n  stampDutyRegion,\n  stampDutyBuyer,\n  remortgageFee,\n  remortgageValuationFee,\n  remortgageLegalFee,\n  initMortgageFee,\n  initLegalFee,\n  initSurveyorsFee,\n  repairingLease,\n}) => {\n  const isRepairing = repairingLease === 'yes';\n  const loanToVal = loanToValue / 100;\n  const remortgageAdvance = Math.round(doneUpValue * loanToVal);\n  const remortgageDeposit = Math.round(doneUpValue * (1 - loanToVal));\n  const remortgageMonthlyInterest = Math\n    .round(remortgageAdvance * mortgageInterestRatePercent / 1200);\n  const moe = isRepairing ? 0 : (monthlyRent * moePercent / 100);\n  const lettingAgentsFees = isRepairing ? 0 : (monthlyRent * agentsPercent / 100);\n  const freeCashFlowMonthly = monthlyRent - (repairingLease === 'yes' ? 0 : moe) - remortgageMonthlyInterest - lettingAgentsFees;\n  const totalOtherCosts = refurbCost + otherCost;\n  const sdltTotal = calculateStampDuty(\n    propertyValue, stampDutyType, stampDutyRegion, stampDutyBuyer,\n  );\n  const remortgageFees = remortgageFee + remortgageValuationFee + remortgageLegalFee;\n  const initialFees = initMortgageFee + initLegalFee + initSurveyorsFee;\n  const initialCost = initialFees + totalOtherCosts + sdltTotal + propertyValue;\n  const grossYield = (monthlyRent * 1200) / initialCost;\n  const labels = calculationsLabels.freeCashLabels;\n\n  return [\n    { label: labels[0], value: remortgageAdvance.toFixed(2) },\n    { label: labels[1], value: remortgageDeposit.toFixed(2) },\n    { label: labels[2], value: remortgageFees.toFixed(2) },\n    { label: labels[3], value: initialCost.toFixed(2) },\n    { label: labels[4], value: (remortgageAdvance - remortgageFees).toFixed(2) },\n    { label: labels[5], value: (initialCost - (remortgageAdvance - remortgageFees)).toFixed(2) },\n    { label: labels[6], value: monthlyRent.toFixed(2) },\n    { label: labels[7], value: remortgageMonthlyInterest.toFixed(2) },\n    { label: labels[8], value: moe.toFixed(2) },\n    { label: labels[9], value: lettingAgentsFees.toFixed(2) },\n    { label: labels[10], value: freeCashFlowMonthly.toFixed(2) },\n    { label: labels[11], value: grossYield.toFixed(2) + percentSign },\n  ];\n};\n\nexport default freeCash;\n","import allInputCosts from './allInputCosts';\nimport freeCash from './freeCash';\nimport initialFinance from './initialFinance';\nimport flip from './flip';\nimport stressTest from './stressTest';\n\nconst getCurrencyCode = ({ stampDutyRegion }) => (stampDutyRegion === 'ireland' ? 8364 : 163);\n\nconst calculations = {\n  freeCash,\n  initialFinance,\n  flip,\n  allInputCosts,\n  stressTest,\n  getCurrencyCode,\n};\n\nexport default calculations;\n","import calculateStampDuty from './stampduty/stampduty-calculator';\nimport allInputCosts from './allInputCosts';\nimport calculationsLabels from '../../labels/calculations-labels';\n\nconst repaymentCalc = (principal, interest, term) => (\n  (interest / 100 / 12) * principal) / (1 - ((1 + (interest / 100 / 12)) ** (-term * 12))\n);\nconst initialFinance = ({\n  buyingCash,\n  initialLoanToValue,\n  mortgageInterestRatePercent,\n  propertyValue,\n  initSurveyorsFee,\n  initLegalFee,\n  initMortgageFee,\n  refurbCost,\n  otherCost,\n  stampDutyType,\n  stampDutyRegion,\n  stampDutyBuyer,\n}) => {\n  const isCash = buyingCash === 'yes';\n  const loanToVal = initialLoanToValue / 100;\n  const initMortgageAdvance = isCash ? 0 : Math.round(propertyValue * loanToVal);\n  const mortgageMonthlyInterest = Math\n    .round(initMortgageAdvance * mortgageInterestRatePercent / 1200);\n  const monthlyRepayment = repaymentCalc(initMortgageAdvance, mortgageInterestRatePercent, 25);\n  const initFees = initSurveyorsFee + initLegalFee + initMortgageFee;\n  const other = refurbCost + otherCost;\n  const initialDeposit = isCash ? propertyValue : Math.round(propertyValue * (1 - loanToVal));\n  const sdltTotal = calculateStampDuty(\n    propertyValue, stampDutyType, stampDutyRegion, stampDutyBuyer,\n  );\n  const totCost = allInputCosts(initSurveyorsFee, initLegalFee, initMortgageFee,\n    refurbCost, otherCost, propertyValue, stampDutyType, stampDutyRegion, stampDutyBuyer);\n  const totIn = totCost - initMortgageAdvance;\n  const labels = calculationsLabels.initialFinanceLabels;\n\n  return [\n    { label: labels[0], value: initMortgageAdvance.toFixed(2) },\n    { label: labels[1], value: initialDeposit.toFixed(2) },\n    { label: labels[2], value: sdltTotal.toFixed(2) },\n    { label: labels[3], value: initFees.toFixed(2) },\n    { label: labels[4], value: other.toFixed(2) },\n    { label: labels[5], value: totIn.toFixed(2) },\n    { label: labels[6], value: totCost.toFixed(2) },\n    { label: labels[7], value: mortgageMonthlyInterest.toFixed(2) },\n    { label: labels[8], value: monthlyRepayment.toFixed(2) },\n  ];\n};\n\nexport default initialFinance;\n","import allInputCosts from './allInputCosts';\nimport calculationsLabels from '../../labels/calculations-labels';\n\nconst flip = ({\n  sellingLegalFee,\n  agentSellingFee,\n  initSurveyorsFee,\n  initLegalFee,\n  initMortgageFee,\n  refurbCost,\n  otherCost,\n  propertyValue,\n  stampDutyType,\n  stampDutyRegion,\n  stampDutyBuyer,\n  doneUpValue,\n}) => {\n  const totCost = allInputCosts(initSurveyorsFee, initLegalFee, initMortgageFee,\n    refurbCost, otherCost, propertyValue, stampDutyType, stampDutyRegion, stampDutyBuyer);\n\n  const fees = sellingLegalFee + agentSellingFee;\n  const flipGain = Math.round((doneUpValue - totCost) / totCost * 10000) / 100;\n  const col = (flipGain >= 20) ? 'green' : 'red';\n  const labels = calculationsLabels.flipLabels;\n\n  return [\n    { label: labels[0], value: doneUpValue.toFixed(2) },\n    { label: labels[1], value: fees.toFixed(2) },\n    { label: labels[2], value: totCost.toFixed(2) || '0' },\n    { label: labels[3], value: ((doneUpValue - (totCost + fees)).toFixed(2) || '0'), col },\n    { label: labels[4], value: flipGain.toFixed(2) || 0, col },\n  ];\n};\n\nexport default flip;\n","import calculationsLabels from '../../labels/calculations-labels';\n\nconst stressTest = ({\n  doneUpValue,\n  monthlyRent,\n  loanToValue,\n  mortgageStressInterestRatePercent,\n  mortgageStressMultipePercent,\n}) => {\n  const minRent = Math.ceil(\n    doneUpValue\n    * loanToValue / 100\n    * mortgageStressInterestRatePercent / 1200\n    * mortgageStressMultipePercent / 100,\n  );\n  const pass = monthlyRent >= minRent;\n  const labels = calculationsLabels.stressLabels;\n\n  return [\n    { label: labels[0], value: pass ? 'pass' : 'fail' },\n    { label: labels[1], value: minRent.toFixed(2) },\n  ];\n};\n\nexport default stressTest;\n","import { types } from '../common/formConstants';\n\nconst field = {\n  label: 'User',\n  name: 'userEmail',\n  type: types.EMAIL,\n  defVal: '',\n  required: true,\n};\n\nexport default field;\n","/* eslint react/prop-types: 0 */\n/* eslint-env browser */\nimport React, { Component } from 'react';\nimport field from './formconfig';\n\nconst { name, type, label } = field;\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(e) {\n    this.setState({ email: e.target.value });\n  }\n\n  handleSubmit(e) {\n    const { props: { doLogin }, state: { email } } = this;\n    e.preventDefault();\n    if (email) {\n      doLogin(email);\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"column\" style={{ textAlign: 'center' }}>\n        <form onSubmit={this.handleSubmit}>\n          <input\n            className=\"form-control\"\n            key={name}\n            type={type}\n            name={name}\n            id={name}\n            autoComplete=\"off\"\n            placeholder={`${label} [${type}]`}\n            onChange={this.handleChange}\n            onBlur={this.handleChange}\n            required\n          />\n          <button\n            type=\"submit\"\n            className=\"btn-primary form-control\"\n          >\n            go\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n","/* eslint-env browser */\n/* eslint react/prop-types: 0 */\nimport React, { Component } from 'react';\nimport Form from './form/FormComponent';\nimport fields from './form/formconfig';\nimport '../css/app.css';\nimport SavedStateList from './saved/SavedStateComponents';\nimport Results from './results/ResultsComponent';\nimport calculations from '../logic/calculations/index';\nimport Login from './login/LoginComponent';\n\nconst urls = {\n  comparisons: process.env.REACT_APP_COMPARISONS_URL,\n};\n\nclass App extends Component {\n  static setDefaultFormData() {\n    const defaults = {};\n    fields.map((ob) => {\n      defaults[ob.name] = ob.defVal;\n      return false;\n    });\n    return defaults;\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {\n        dealFinance: [],\n        buyToLet: [],\n        stress: [],\n        flip: [],\n      },\n      currency: 163,\n      savedStates: { Items: [] },\n      currentState: { projectName: '' },\n      hasWorkingAPI: false,\n      userEmail: null,\n    };\n    this.calculate = this.calculate.bind(this);\n    this.saveState = this.saveState.bind(this);\n    this.deleteState = this.deleteState.bind(this);\n    this.selectState = this.selectState.bind(this);\n    this.login = this.login.bind(this);\n  }\n\n  componentDidMount() {\n    // this.getSavedStates(true);\n  }\n\n  getSavedStates(setDefault) {\n    const sortByNameThenDate = (\n      { projectName: pNameA, id: idA },\n      { projectName: pNameB, id: idB },\n    ) => {\n      if ((pNameA + idA) < (pNameB + idB)) return -1;\n      if ((pNameA + idA) > (pNameB + idB)) return 1;\n      return 0;\n    };\n    const { userEmail } = this.state;\n\n    fetch(`${urls.comparisons}/user/${userEmail}`)\n      .then(response => response.json())\n      .then((data) => {\n        if (data.Items.length > 0) {\n          data.Items.sort(sortByNameThenDate);\n        }\n        this.loadState(data, setDefault);\n      })\n      .catch(() => {\n        this.loadState(null, true);\n      });\n  }\n\n  findState(stateId) {\n    const { savedStates } = this.state;\n    return savedStates.Items.find(state => state.id === stateId);\n  }\n\n  loadState(data, setDefault) {\n    const { userEmail } = this.state;\n    const newState = {\n      savedStates: data || { Items: [] },\n      hasWorkingAPI: !!data,\n    };\n\n    if (setDefault) {\n      newState.currentState = App.setDefaultFormData();\n    }\n\n    if (userEmail && newState.currentState) {\n      newState.currentState.email = userEmail;\n    }\n\n    this.setState(newState);\n  }\n\n  calculate(changedField, newValue) {\n    const { currentState } = this.state;\n    const inputData = (changedField)\n      ? { ...currentState, [changedField]: newValue } : currentState;\n    const dealFinance = calculations.initialFinance(inputData);\n    const buyToLet = calculations.freeCash(inputData);\n    const flip = calculations.flip(inputData);\n    const stress = calculations.stressTest(inputData);\n    const currSymbol = calculations.getCurrencyCode(inputData);\n\n    document.getElementById('doc-title').text = inputData.projectName.replace(/ /g, '-');\n\n    const newState = {\n      data: {\n        dealFinance,\n        buyToLet,\n        stress,\n        flip,\n      },\n      currency: currSymbol,\n    };\n\n    if (changedField) {\n      newState.currentState = inputData;\n    }\n\n    this.setState(newState);\n  }\n\n  saveState() {\n    const { currentState, currentState: { projectName, postCode }, userEmail } = this.state;\n    if (projectName === '' || postCode === '') {\n      return;\n    }\n    const stateToSave = { ...currentState, email: userEmail };\n    fetch(urls.comparisons, {\n      method: 'PUT',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(stateToSave),\n    })\n      .then(response => response.json())\n      .then(() => {\n        this.getSavedStates(false);\n      })\n      .catch(() => this.setState({ savedStates: { Items: 'No save service available' } }))\n      .finally(() => {\n        this.setState({ error: null });\n      });\n  }\n\n  deleteState(stateId) {\n    const { userEmail } = this.state;\n    fetch(urls.comparisons, {\n      method: 'DELETE',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ id: stateId, email: userEmail }),\n    })\n      .then((resp) => {\n        if (resp.ok) {\n          const { currentState: id } = this.state;\n          this.getSavedStates(stateId === id);\n        } else {\n          throw new Error('delete failed');\n        }\n      }).catch(() => this.setState({ savedStates: { Items: 'No delete service avaialable' } }));\n  }\n\n  selectState(stateId) {\n    const selectedState = this.findState(stateId);\n    this.setState({ currentState: selectedState }, () => this.calculate());\n  }\n\n  handleNew(e) {\n    e.preventDefault();\n    this.setState(\n      { currentState: App.setDefaultFormData() }, () => this.calculate(),\n    );\n    e.target.blur();\n  }\n\n  login(email) {\n    this.setState({ userEmail: email }, () => {\n      this.getSavedStates(true);\n    });\n  }\n\n  render() {\n    const {\n      currency,\n      savedStates,\n      currentState,\n      hasWorkingAPI,\n      error,\n      userEmail,\n    } = this.state;\n    const { projectName, postCode } = currentState;\n    const showSave = (\n      hasWorkingAPI\n      && projectName !== ''\n      && postCode !== ''\n    );\n    const { Items } = savedStates;\n    const savedList = Items.length > 0 && userEmail ? (\n      <React.Fragment>\n        <h6>My saved stuff</h6>\n        <SavedStateList\n          data={Items}\n          ondelete={this.deleteState}\n          onclick={this.selectState}\n          useremail={userEmail}\n          filter={o => o.email === userEmail}\n        />\n        <h6>Other saved stuff</h6>\n        <SavedStateList\n          data={Items}\n          ondelete={this.deleteState}\n          onclick={this.selectState}\n          useremail={userEmail}\n          filter={o => o.email !== userEmail}\n        />\n      </React.Fragment>\n    ) : '';\n    const newButton = currentState.projectName !== '' ? (\n      <ul className=\"right\">\n        <li>\n          <button\n            type=\"submit\"\n            className=\"btn-primary form-control\"\n            onClick={event => this.handleNew(event)}\n          >\n            new\n          </button>\n        </li>\n      </ul>\n    ) : '';\n\n    return Object.keys(currentState).length > 1 ? (\n      <div className=\"App\">\n        <div className=\"column\" style={{ textAlign: 'center' }}>\n          <h5>Property investment deal analyser</h5>\n          <Form\n            name=\"propcalc\"\n            fields={fields}\n            formData={currentState}\n            twocols=\"yes\"\n            calculate={this.calculate}\n            currsymbol={currency}\n            onsave={this.saveState}\n            showsave={showSave}\n            error={error}\n          />\n          {newButton}\n        </div>\n        <div className=\"column results\">\n          {Results(this.state)}\n        </div>\n        <div className=\"column states\">\n          {savedList}\n        </div>\n      </div>\n    )\n      : (\n        <Login\n          doLogin={this.login}\n        />\n      );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nimport './css/bootstrap-override.scss';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}