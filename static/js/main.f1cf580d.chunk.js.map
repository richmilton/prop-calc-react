{"version":3,"sources":["logic/stampduty/stampduty-bands.js","components/formconfig.js","components/StatelessFormComponents.jsx","components/FormComponent.jsx","components/SavedStateComponents.jsx","components/ResultListComponent.jsx","util/validate-postcode.js","components/LinksComponent.jsx","components/ResultsComponent.jsx","logic/stampduty/stampduty-calculator.js","logic/calculations/allInputCosts.js","labels/calculations-labels.js","logic/calculations/freeCash.js","logic/calculations/index.js","logic/calculations/initialFinance.js","logic/calculations/flip.js","logic/calculations/stressTest.js","App.jsx","serviceWorker.js","index.js"],"names":["ireland","upto","rate","scotland","load","bands","commercial","england","wales","residential","first","thresholds","limit","concat","module","exports","percentSign","String","fromCharCode","types","NUMBER","TEXT","CHECKBOX","SELECT","fields","label","name","type","defVal","required","options","value","currencyPlaceholder","currRegEx","RegExp","addCurrencySymbolToLabel","currencyCode","currSymbol","replace","Label","_ref","doLabelClass","dynamicLabel","currency","labelWithCurrency","react_default","a","createElement","className","htmlFor","StatelessComponents","Input","_ref2","onInput","placeholder","onblur","key","id","onChange","e","autoComplete","checked","onBlur","Select","_ref3","map","opt","FormColumn","render","Form","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","doLabel","bind","assertThisInitialized","renderFields","renderFieldCols","handleChange","handleSave","calculate","fname","formData","val","Number","isNaN","parseFloat","preventDefault","onsave","target","blur","_this2","formFields","_this$props","currsymbol","forEach","field","ob","objectSpread","n","l","push","arrLength","Math","floor","length","left","slice","right","splice","_this$props2","twocols","button","showsave","onClick","Component","handleClick","callback","split","SavedStateListItem","milis","ondelete","onclick","style","width","dateFormat","Date","parseInt","SavedStateList","data","onselect","ind","projectName","SavedStateComponents_SavedStateListItem","ListItem","ResultList","ResultListComponent_ListItem","postCodeRegEx","validatePostcode","postCode","test","toUpperCase","urls","rmBuy","process","rmRent","nhpSold","gMap","Link","href","text","rel","Links","askingPrice","monthlyRent","propertyValue","urlType","stampDutyType","startsWith","oneK","oneHundredK","maxPrice","ceil","maxRent","Fragment","color","fontStyle","Results","currentState","dealFinance","buyToLet","stress","flip","ResultListComponent","calculateStampDuty","region","buyer","onePercentOfVal","sdltBands","_sdltBands$type$first","bandLimit","previousBandLimit","tax","idx","allInputCosts","initSurveyorsFee","initLegalFee","initMortgageFee","refurbCost","otherCost","stampDutyRegion","stampDutyBuyer","calculations_labels","calculations","freeCash","loanToValue","doneUpValue","mortgageInterestRatePercent","moePercent","agentsPercent","remortgageFee","remortgageValuationFee","remortgageLegalFee","repairingLease","loanToVal","remortgageAdvance","round","remortgageDeposit","remortgageMonthlyInterest","moe","lettingAgentsFees","freeCashFlowMonthly","remortgageFees","initialCost","grossYield","labels","calculationsLabels","toFixed","initialFinance","buyingCash","initialLoanToValue","isCash","initMortgageAdvance","initFees","other","initialDeposit","sdltTotal","totCost","totIn","sellingLegalFee","agentSellingFee","fees","flipGain","col","stressTest","mortgageStressInterestRatePercent","mortgageStressMultipePercent","minRent","pass","getCurrencyCode","App","state","savedStates","Items","hasWorkingAPI","saveState","deleteState","selectState","defaults","getSavedStates","setDefault","sortByNameThenDate","pNameA","idA","pNameB","idB","fetch","then","response","json","sort","loadState","catch","stateId","find","newState","setDefaultFormData","setState","changedField","newValue","inputData","defineProperty","document","getElementById","_this3","method","headers","Accept","Content-Type","body","JSON","stringify","finally","error","_this4","resp","ok","Error","_this5","selectedState","findState","_this6","_this7","_this$state","showSave","savedList","SavedStateComponents","newButton","event","handleNew","keys","textAlign","FormComponent","Boolean","window","location","hostname","match","ReactDOM","src_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f1cf580d.chunk.js","sourcesContent":["const ireland = [\n  { upto: 1000000, rate: 1 },\n  { upto: 'end', rate: 2 },\n];\nconst scotland = [{ upto: 250000, rate: 2, load: 3 },\n  { upto: 325000, rate: 5, load: 3 },\n  { upto: 750000, rate: 10, load: 3 },\n  { upto: 'end', rate: 12, load: 3 },\n];\nconst bands = {\n  commercial: {\n    england: [\n      { upto: 150000, rate: 0 },\n      { upto: 250000, rate: 2 },\n      { upto: 'end', rate: 5 },\n    ],\n    wales: [\n      { upto: 150000, rate: 0 },\n      { upto: 250000, rate: 1 },\n      { upto: 1000000, rate: 5 },\n      { upto: 'end', rate: 6 },\n    ],\n    scotland: [\n      { upto: 150000, rate: 0 },\n      { upto: 250000, rate: 1 },\n      { upto: 'end', rate: 5 },\n    ],\n    ireland,\n  },\n\n  residential: {\n    first: {\n      england: {\n        thresholds: [\n          { upto: 300000, rate: 0 },\n          { upto: 500000, rate: 5 },\n        ],\n        limit: 500000,\n      },\n      scotland: {\n        thresholds: [\n          { upto: 175000, rate: 0 },\n          ...scotland,\n        ],\n        limit: -1,\n      },\n    },\n    england: [\n      { upto: 125000, rate: 0, load: 3 },\n      { upto: 250000, rate: 2, load: 3 },\n      { upto: 925000, rate: 5, load: 3 },\n      { upto: 1500000, rate: 10, load: 3 },\n      { upto: 'end', rate: 12, load: 3 },\n    ],\n    wales: [\n      { upto: 180000, rate: 0, load: 3 },\n      { upto: 250000, rate: 3.5, load: 3 },\n      { upto: 400000, rate: 5, load: 3 },\n      { upto: 750000, rate: 7.5, load: 3 },\n      { upto: 1500000, rate: 10, load: 3 },\n      { upto: 'end', rate: 12, load: 3 },\n    ],\n    scotland: [\n      { upto: 145000, rate: 0, load: 3 },\n      ...scotland,\n    ],\n    ireland,\n  },\n};\n\nmodule.exports = bands;\n","const currencyPlaceholder = '##CURR##';\nconst percentSign = String.fromCharCode(37);\nconst types = {\n  NUMBER: 'number',\n  TEXT: 'text',\n  CHECKBOX: 'checkbox',\n  SELECT: 'select',\n};\n\nconst fields = [\n  {\n    label: 'Project name',\n    name: 'projectName',\n    type: types.TEXT,\n    defVal: '',\n    required: true,\n  },\n  {\n    label: 'Post code',\n    name: 'postCode',\n    type: types.TEXT,\n    defVal: '',\n    required: true,\n  },\n  {\n    label: `Asking price(${currencyPlaceholder})`,\n    name: 'askingPrice',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Purchase price(${currencyPlaceholder})`,\n    name: 'propertyValue',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Done up value(${currencyPlaceholder})`,\n    name: 'doneUpValue',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Monthly rent(${currencyPlaceholder})`,\n    name: 'monthlyRent',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: 'Cash purchase',\n    name: 'buyingCash',\n    type: types.CHECKBOX,\n    defVal: 'no',\n  },\n  {\n    label: `Initial LTV(${percentSign})`,\n    name: 'initialLoanToValue',\n    type: types.NUMBER,\n    defVal: 75,\n  },\n  {\n    label: `Surveyors fee(${currencyPlaceholder})`,\n    name: 'initSurveyorsFee',\n    type: types.NUMBER,\n    defVal: 600,\n  },\n  {\n    label: `Mortgage fee(${currencyPlaceholder})`,\n    name: 'initMortgageFee',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Legal fees(${currencyPlaceholder})`,\n    name: 'initLegalFee',\n    type: types.NUMBER,\n    defVal: 1500,\n  },\n  {\n    label: 'Stamp duty type',\n    name: 'stampDutyType',\n    type: types.SELECT,\n    options: [\n      { value: 'residential', name: 'Residential' },\n      { value: 'commercial', name: 'Commercial' },\n    ],\n    defVal: 'residential',\n  },\n  {\n    label: 'Stamp duty region',\n    name: 'stampDutyRegion',\n    type: types.SELECT,\n    options: [\n      { value: 'england', name: 'England/NI' },\n      { value: 'scotland', name: 'Scotland' },\n      { value: 'wales', name: 'Wales' },\n      { value: 'ireland', name: 'Ireland' },\n    ],\n    defVal: 'england',\n  },\n  {\n    label: 'Stamp duty buyer',\n    name: 'stampDutyBuyer',\n    type: types.SELECT,\n    options: [\n      { value: 'investor', name: 'Investor' },\n      { value: 'first', name: 'First time buyer' },\n      { value: 'home', name: 'Moving house' },\n    ],\n    defVal: 'investor',\n  },\n  {\n    label: `Refurbishment cost(${currencyPlaceholder})`,\n    name: 'refurbCost',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Other cost(${currencyPlaceholder})`,\n    name: 'otherCost',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Remortgage fee(${currencyPlaceholder})`,\n    name: 'remortgageFee',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Remortgage valuation fee(${currencyPlaceholder})`,\n    name: 'remortgageValuationFee',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Remortgage legal fees(${currencyPlaceholder})`,\n    name: 'remortgageLegalFee',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Letting agents rate(${percentSign})`,\n    name: 'agentsPercent',\n    type: types.NUMBER,\n    defVal: 10,\n  },\n  {\n    label: `\n    MOE rate(${percentSign})`,\n    name: 'moePercent',\n    type: types.NUMBER,\n    defVal: 15,\n  },\n  {\n    label: 'Repairing lease',\n    name: 'repairingLease',\n    type: types.CHECKBOX,\n    defVal: 'no',\n  },\n  {\n    label: `Interest rate(${percentSign})`,\n    name: 'mortgageInterestRatePercent',\n    type: types.NUMBER,\n    defVal: 6.0,\n  },\n  {\n    label: `Remortgage LTV(${percentSign})`,\n    name: 'loanToValue',\n    type: types.NUMBER,\n    defVal: 75,\n  },\n  {\n    label: `Solicitors selling fee(${currencyPlaceholder})`,\n    name: 'sellingLegalFee',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Agent/selling fee(${currencyPlaceholder})`,\n    name: 'agentSellingFee',\n    type: types.NUMBER,\n    defVal: 0,\n  },\n  {\n    label: `Mortgage stress test(${percentSign})`,\n    name: 'mortgageStressMultipePercent',\n    type: types.NUMBER,\n    defVal: 125,\n  },\n  {\n    label: `Stress interest rate(${percentSign})`,\n    name: 'mortgageStressInterestRatePercent',\n    type: types.NUMBER,\n    defVal: 5.0,\n  },\n];\n\nmodule.exports = {\n  fields,\n  currencyPlaceholder,\n  types,\n};\n","// stateless component Input. Currently handles types text, number, checkbox\n// passed through props\n/* eslint react/prop-types: 0 */\nimport React from 'react';\nimport { currencyPlaceholder } from './formconfig';\n\nconst currRegEx = new RegExp(currencyPlaceholder, 'g');\n\nconst addCurrencySymbolToLabel = (label, currencyCode) => {\n  const currSymbol = String.fromCharCode(currencyCode);\n  return label.replace(currRegEx, currSymbol);\n};\n\n// stateless component Label\nfunction Label({\n  name, doLabelClass, dynamicLabel, label, type, currency,\n}) {\n  const labelWithCurrency = addCurrencySymbolToLabel(label, currency);\n\n  return (\n    <div className={type === 'checkbox' ? 'checkbox-label' : 'input-label'}>\n      <label\n        htmlFor={name}\n        className={doLabelClass(name)}\n      >\n        {dynamicLabel(name, labelWithCurrency)}\n      </label>\n    </div>\n  );\n}\n\nfunction Input({\n  className, name, type, onInput,\n  placeholder, label, defVal, onblur, doLabelClass, dynamicLabel, currency, required,\n}) {\n  const labelWithCurrency = addCurrencySymbolToLabel(label, currency);\n\n  return (\n    <li key={name}>\n      <input\n        className={className || 'form-control'}\n        key={name}\n        type={type}\n        name={name}\n        id={name}\n        onChange={e => onInput(e)}\n        autoComplete=\"off\"\n        placeholder={placeholder || labelWithCurrency || `${name} [${type}]`}\n        value={defVal || ''}\n        checked={defVal === 'yes'}\n        onBlur={e => onblur(e)}\n        required={required || false}\n      />\n      {Label({\n        name, doLabelClass, dynamicLabel, label, type, currency,\n      })}\n    </li>\n  );\n}\n\n// stateless component Select\nfunction Select({\n  className, name, type, onInput, label, defVal, onblur, options, doLabelClass, dynamicLabel,\n}) {\n  return (\n    <li key={name}>\n      <select\n        value={defVal}\n        className={className || 'form-control'}\n        key={name}\n        name={name}\n        id={name}\n        onChange={e => onInput(e)}\n        onBlur={e => onblur(e)}\n      >\n        {options.map(\n          opt => (\n            <option\n              key={opt.value}\n              name={opt.name}\n              value={opt.value}\n            >\n              {opt.name}\n            </option>\n          ),\n        )}\n      </select>\n      {Label({\n        name, doLabelClass, dynamicLabel, label, type,\n      })}\n    </li>\n  );\n}\n\nconst StatelessComponents = {\n  Input,\n  Select,\n};\n\nexport default StatelessComponents;\n","/* eslint react/prop-types: 0 */\n/* eslint-env browser */\nimport React, { Component } from 'react';\nimport StatelessComponents from './StatelessFormComponents';\nimport { types } from './formconfig';\n\nconst { Input, Select } = StatelessComponents;\n\nfunction FormColumn({ render, fields, className }) {\n  return (\n    <ul className={className}>\n      {render(fields)}\n    </ul>\n  );\n}\n\nclass Form extends Component {\n  constructor(props) {\n    super(props);\n    this.doLabel = this.doLabel.bind(this);\n    this.doLabelClass = this.doLabelClass.bind(this);\n    this.renderFields = this.renderFields.bind(this);\n    this.renderFieldCols = this.renderFieldCols.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSave = this.handleSave.bind(this);\n  }\n\n  componentDidMount() {\n    const { props } = this;\n    props.calculate();\n  }\n\n  doLabel(fname, label) {\n    const { formData } = this.props;\n    return formData && formData[fname] ? label || fname : '';\n  }\n\n  doLabelClass(fname) {\n    const { formData } = this.props;\n    return formData && formData[fname] ? 'show' : 'hide';\n  }\n\n  handleChange({\n    type,\n    value,\n    checked,\n    name,\n  }) {\n    const { props } = this;\n    let val;\n\n    switch (type) {\n      case types.NUMBER:\n        val = Number.isNaN(value) ? 0 : (parseFloat(value) || 0);\n        break;\n      case types.CHECKBOX:\n        val = checked ? 'yes' : 'no';\n        break;\n      default:\n        val = value || '';\n    }\n\n    props.calculate(name, val);\n  }\n\n  handleSave(e) {\n    e.preventDefault();\n    const { onsave } = this.props;\n    onsave();\n    e.target.blur();\n  }\n\n  renderFields(fields) {\n    const formFields = [];\n    const { currsymbol, formData } = this.props;\n    fields.forEach((field) => {\n      const ob = { ...field };\n      ob.dynamicLabel = (n, l) => this.doLabel(n, l);\n      ob.doLabelClass = n => this.doLabelClass(n);\n      ob.onInput = e => this.handleChange(e.target);\n      ob.onblur = e => this.handleChange(e.target);\n      ob.currency = currsymbol;\n      ob.defVal = formData[ob.name];\n      if (ob.type === 'select') {\n        formFields.push(Select(ob));\n      } else {\n        formFields.push(Input(ob));\n      }\n    });\n    return formFields;\n  }\n\n  renderFieldCols() {\n    const { fields } = this.props;\n    const arrLength = Math.floor(fields.length / 2);\n    const left = fields.slice(0);\n    const right = left.splice(arrLength);\n\n    return [\n      <FormColumn\n        key=\"1\"\n        fields={left}\n        className=\"left\"\n        render={this.renderFields}\n      />,\n      <FormColumn\n        key=\"2\"\n        fields={right}\n        className=\"right\"\n        render={this.renderFields}\n      />,\n    ];\n  }\n\n  render() {\n    const {\n      name,\n      twocols,\n      fields,\n      showsave,\n    } = this.props;\n    const button = showsave ? (\n      <ul className=\"left\">\n        <li>\n          <button\n            type=\"submit\"\n            className=\"btn-primary form-control\"\n            onClick={this.handleSave}\n          >\n            save this\n          </button>\n        </li>\n      </ul>\n    ) : '';\n\n    return (\n      <form\n        name={name}\n        id={name}\n      >\n        {twocols === 'yes' ? this.renderFieldCols() : this.renderFields(fields)}\n        {button}\n      </form>\n    );\n  }\n}\n\nexport default Form;\n","/* eslint-env browser */\n/* eslint react/prop-types: 0 */\n// eslint-disable-next-line\nimport React from 'react';\nimport dateFormat from 'date-format';\n\nconst handleClick = (e, callback) => {\n  e.preventDefault();\n  e.target.blur();\n  callback(e.target.id.split('-')[1]);\n};\n\nconst showDate = milis => dateFormat('dd/MM hh:mm:ss', new Date(parseInt(milis, 0)));\n\nconst SavedStateListItem = ({\n  label,\n  value,\n  ondelete,\n  onclick,\n}) => (\n  <li>\n    <div className=\"state\">\n      <button\n        className=\"btn-primary form-control\"\n        style={{ width: '100%' }}\n        type=\"submit\"\n        id={`select-${value}`}\n        onClick={e => handleClick(e, onclick)}\n      >\n        {`${label} (${showDate(value)})`}\n      </button>\n    </div>\n    <div className=\"remove-state\">\n      <button\n        className=\"btn-sm btn-primary btn-warning\"\n        type=\"submit\"\n        id={`delete-${value}`}\n        onClick={e => handleClick(e, ondelete)}\n      >\n        delete\n      </button>\n    </div>\n  </li>\n);\n\nconst SavedStateList = ({\n  data,\n  ondelete,\n  onselect,\n  onclick,\n}) => {\n  if (data.map) {\n    return (\n      <ul>\n        {data.map(({ projectName, id }, ind) => {\n          const key = `li-${id}-${ind}`;\n          return (\n            <SavedStateListItem\n              ondelete={ondelete}\n              key={`li-${key}`}\n              label={projectName || 'untitled'}\n              value={id}\n              onselect={onselect}\n              onclick={onclick}\n            />\n          );\n        })}\n      </ul>\n    );\n  }\n  return '';\n};\n\nexport default SavedStateList;\n","/* eslint react/prop-types: 0 */\n// eslint-disable-next-line\nimport React, { Component } from 'react';\n\nconst ListItem = ({ label, value }) => (\n  <li>\n    <div className=\"label\">{label}</div>\n    <div className=\"value\">{value}</div>\n  </li>\n);\n\nconst ResultList = ({ data, id }) => (\n  <ul>\n    {data.map(({ label, value }, ind) => {\n      const key = `li-${id}-${ind}`;\n      return <ListItem key={`li-${key}`} label={label} value={value} />;\n    })}\n  </ul>\n);\n\nexport default ResultList;\n","// postcode validation regex\nconst postCodeRegEx = /^(GIR[ ]?0AA|((AB|AL|B|BA|BB|BD|BH|BL|BN|BR|BS|BT|CA|CB|CF|CH|CM|CO|CR|CT|CV|CW|DA|DD|DE|DG|DH|DL|DN|DT|DY|E|EC|EH|EN|EX|FK|FY|G|GL|GY|GU|HA|HD|HG|HP|HR|HS|HU|HX|IG|IM|IP|IV|JE|KA|KT|KW|KY|L|LA|LD|LE|LL|LN|LS|LU|M|ME|MK|ML|N|NE|NG|NN|NP|NR|NW|OL|OX|PA|PE|PH|PL|PO|PR|RG|RH|RM|S|SA|SE|SG|SK|SL|SM|SN|SO|SP|SR|SS|ST|SW|SY|TA|TD|TF|TN|TQ|TR|TS|TW|UB|W|WA|WC|WD|WF|WN|WR|WS|WV|YO|ZE)(\\d[\\dA-Z]?[ ]?\\d[ABD-HJLN-UW-Z]{2}))|BFPO[ ]?\\d{1,4})$/;\n\nconst validatePostcode = postCode => postCodeRegEx.test(postCode.toUpperCase());\n\nexport default validatePostcode;\n","/* eslint react/prop-types: 0 */\nimport React from 'react';\nimport validatePostcode from '../util/validate-postcode';\n\nconst urls = {\n  rmBuy: {\n    commercial: process.env.REACT_APP_RM_COM_BUY_URL,\n    residential: process.env.REACT_APP_RM_BUY_URL,\n  },\n  rmRent: {\n    commercial: process.env.REACT_APP_RM_COM_LET_URL,\n    residential: process.env.REACT_APP_RM_LET_URL,\n  },\n  nhpSold: process.env.REACT_APP_NHP_SOLD_URL,\n  gMap: process.env.REACT_APP_MAP_URL,\n};\n\nfunction Link({ href, text }) {\n  return (\n    <a\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      href={href}\n    >\n      {text}\n    </a>\n  );\n}\n\nfunction Links(\n  {\n    postCode,\n    askingPrice,\n    monthlyRent,\n    propertyValue,\n    stampDutyType,\n  },\n) {\n  const urlType = stampDutyType.startsWith('commercial') ? 'commercial' : 'residential';\n  const { oneK, oneHundredK } = { oneK: 1000, oneHundredK: 100000 };\n  const maxPrice = Math\n    .ceil((askingPrice || propertyValue || 400000) / oneHundredK * 1.2) * oneHundredK;\n  const maxRent = Math.ceil((monthlyRent || oneK) / oneK * 1.2) * oneK;\n\n  return (postCode && validatePostcode(postCode)) ? (\n    <React.Fragment>\n      <Link\n        href={urls.nhpSold + postCode}\n        text=\"sold\"\n      />\n      {' | '}\n      <Link\n        href={`${urls.rmBuy[urlType] + postCode}&maxPrice=${(maxPrice)}`}\n        text=\"for sale\"\n      />\n      {' | '}\n      <Link\n        href={`${urls.rmRent[urlType] + postCode}&maxPrice=${maxRent}`}\n        text=\"to let\"\n      />\n      {' | '}\n      <Link\n        href={urls.gMap + postCode}\n        text=\"gmap\"\n      />\n    </React.Fragment>\n  ) : <span style={{ color: 'red', fontStyle: 'italic' }}>use a full valid post code to see links here</span>;\n}\n\nexport default Links;\n","/* eslint react/prop-types: 0 */\nimport React from 'react';\nimport ResultList from './ResultListComponent';\nimport Links from './LinksComponent';\n\nfunction Results({ data, currentState }) {\n  const {\n    dealFinance,\n    buyToLet,\n    stress,\n    flip,\n  } = data;\n\n  return (\n    <React.Fragment>\n      <div className=\"res-block\">\n        <h6>Links for this post code</h6>\n        {Links(currentState)}\n      </div>\n      <div className=\"res-block\">\n        <h6>Deal finance</h6>\n        <ResultList id=\"1\" data={dealFinance} />\n      </div>\n      <div className=\"res-block\">\n        <h6>Buy to let</h6>\n        <ResultList id=\"2\" data={buyToLet} />\n      </div>\n      <div className=\"res-block\">\n        <h6>Stress test</h6>\n        <ResultList id=\"3\" data={stress} />\n      </div>\n      <div className=\"res-block\">\n        <h6>Flip</h6>\n        <ResultList id=\"4\" data={flip} />\n      </div>\n    </React.Fragment>\n  );\n}\n\nexport default Results;\n","import sdltBands from './stampduty-bands';\n\nconst calculateStampDuty = (val, type, region, buyer) => {\n  const onePercentOfVal = (val / 100);\n  let bands = sdltBands[type][region];\n  if (buyer === 'first' && type === 'residential') {\n    const { limit, thresholds } = sdltBands[type].first[region];\n    if (limit === -1 || val <= limit) {\n      bands = thresholds;\n    }\n  }\n\n  let tax = 0;\n  let bandLimit;\n  let previousBandLimit;\n  let load;\n\n  if (!type || !region) return 0;\n\n  for (let idx = 0; idx < bands.length; idx += 1) {\n    load = buyer === 'investor' ? (bands[idx].load || 0) : 0;\n\n    bandLimit = bands[idx].upto;\n    const { rate } = bands[idx];\n    previousBandLimit = idx > 0 ? bands[idx - 1].upto : 0;\n\n    if (bandLimit === 'end') { // end and return\n      tax += ((onePercentOfVal - (previousBandLimit / 100)) * (rate + load));\n      return tax;\n    }\n    if (val <= bandLimit) { // return before end\n      if (idx === 0) { // below first limit\n        tax += (onePercentOfVal * (rate + load));\n      } else { // below this limit\n        tax += ((onePercentOfVal - (previousBandLimit / 100)) * (rate + load));\n      }\n      return tax;\n    }\n    // add the tax rate for the whole band and carry on\n    tax += ((bandLimit - previousBandLimit) / 100 * (rate + load));\n  }\n  // shouldn't get here but code won't know should throw error\n  // console.error(`check stampduty-test-bands for property without upto: 'end' in last entry`);\n  return tax;\n};\n\nexport default calculateStampDuty;\n","import calculateStampDuty from '../stampduty/stampduty-calculator';\n\nconst allInputCosts = (\n  initSurveyorsFee,\n  initLegalFee,\n  initMortgageFee,\n  refurbCost,\n  otherCost,\n  propertyValue,\n  stampDutyType,\n  stampDutyRegion,\n  stampDutyBuyer,\n) => {\n  const stampDuty = calculateStampDuty(\n    propertyValue, stampDutyType, stampDutyRegion, stampDutyBuyer,\n  );\n\n  return (\n    initSurveyorsFee\n    + initLegalFee\n    + initMortgageFee\n    + refurbCost\n    + otherCost\n    + stampDuty\n    + propertyValue\n  );\n};\n\nexport default allInputCosts;\n","const freeCashLabels = [\n  'Remortgage advance',\n  'Remortgage deposit',\n  'Remortgage fees',\n  'Money in',\n  'Money out',\n  'Money left in',\n  'Monthly rental',\n  'Monthly mortgage payment',\n  'MOE',\n  'Letting agent fees',\n  'Monthly free cashflow',\n  'Gross yield',\n];\n\nconst initialFinanceLabels = [\n  'Mortgage advance',\n  'Deposit',\n  'Stamp duty',\n  'Professional fees',\n  'Refurb/other costs',\n  'Total money in',\n  'Total cost',\n];\n\nconst flipLabels = [\n  'Sale price',\n  'Selling costs',\n  'Total input costs',\n  'Profit (before tax)',\n  'Gain(%)',\n];\n\nconst stressLabels = [\n  'Stress test',\n  'Minimum rent'];\n\nexport default {\n  freeCashLabels,\n  initialFinanceLabels,\n  flipLabels,\n  stressLabels,\n};\n","import calculateStampDuty from '../stampduty/stampduty-calculator';\nimport calculationsLabels from '../../labels/calculations-labels';\n\nconst percentSign = String.fromCharCode(37);\nconst freeCash = ({\n  loanToValue,\n  propertyValue,\n  doneUpValue,\n  mortgageInterestRatePercent,\n  monthlyRent,\n  moePercent,\n  agentsPercent,\n  refurbCost,\n  otherCost,\n  stampDutyType,\n  stampDutyRegion,\n  stampDutyBuyer,\n  remortgageFee,\n  remortgageValuationFee,\n  remortgageLegalFee,\n  initMortgageFee,\n  initLegalFee,\n  initSurveyorsFee,\n  repairingLease,\n}) => {\n  const loanToVal = loanToValue / 100;\n  const remortgageAdvance = Math.round(doneUpValue * loanToVal);\n  const remortgageDeposit = Math.round(doneUpValue * (1 - loanToVal));\n  const remortgageMonthlyInterest = Math\n    .round(remortgageAdvance * mortgageInterestRatePercent / 1200);\n  const moe = repairingLease === 'yes' ? 0 : (monthlyRent * moePercent / 100);\n  const lettingAgentsFees = monthlyRent * agentsPercent / 100;\n  const freeCashFlowMonthly = monthlyRent - (repairingLease === 'yes' ? 0 : moe) - remortgageMonthlyInterest - lettingAgentsFees;\n  const totalOtherCosts = refurbCost + otherCost;\n  const sdltTotal = calculateStampDuty(\n    propertyValue, stampDutyType, stampDutyRegion, stampDutyBuyer,\n  );\n  const remortgageFees = remortgageFee + remortgageValuationFee + remortgageLegalFee;\n  const initialFees = initMortgageFee + initLegalFee + initSurveyorsFee;\n  const initialCost = initialFees + totalOtherCosts + sdltTotal + propertyValue;\n  const grossYield = (monthlyRent * 1200) / initialCost;\n  const labels = calculationsLabels.freeCashLabels;\n\n  return [\n    { label: labels[0], value: remortgageAdvance.toFixed(2) },\n    { label: labels[1], value: remortgageDeposit.toFixed(2) },\n    { label: labels[2], value: remortgageFees.toFixed(2) },\n    { label: labels[3], value: initialCost.toFixed(2) },\n    { label: labels[4], value: (remortgageAdvance - remortgageFees).toFixed(2) },\n    { label: labels[5], value: (initialCost - (remortgageAdvance - remortgageFees)).toFixed(2) },\n    { label: labels[6], value: monthlyRent.toFixed(2) },\n    { label: labels[7], value: remortgageMonthlyInterest.toFixed(2) },\n    { label: labels[8], value: moe.toFixed(2) },\n    { label: labels[9], value: lettingAgentsFees.toFixed(2) },\n    { label: labels[10], value: freeCashFlowMonthly.toFixed(2) },\n    { label: labels[11], value: grossYield.toFixed(2) + percentSign },\n  ];\n};\n\nexport default freeCash;\n","import allInputCosts from './allInputCosts';\nimport freeCash from './freeCash';\nimport initialFinance from './initialFinance';\nimport flip from './flip';\nimport stressTest from './stressTest';\n\nconst getCurrencyCode = ({ stampDutyType }) => (stampDutyType === 'ireland' ? 8364 : 163);\n\nconst calculations = {\n  freeCash,\n  initialFinance,\n  flip,\n  allInputCosts,\n  stressTest,\n  getCurrencyCode,\n};\n\nexport default calculations;\n","import calculateStampDuty from '../stampduty/stampduty-calculator';\nimport allInputCosts from './allInputCosts';\nimport calculationsLabels from '../../labels/calculations-labels';\n\nconst initialFinance = ({\n  buyingCash,\n  initialLoanToValue,\n  propertyValue,\n  initSurveyorsFee,\n  initLegalFee,\n  initMortgageFee,\n  refurbCost,\n  otherCost,\n  stampDutyType,\n  stampDutyRegion,\n  stampDutyBuyer,\n}) => {\n  const isCash = buyingCash === 'yes';\n  const loanToVal = initialLoanToValue / 100;\n  const initMortgageAdvance = isCash ? 0 : Math.round(propertyValue * loanToVal);\n  const initFees = initSurveyorsFee + initLegalFee + initMortgageFee;\n  const other = refurbCost + otherCost;\n  const initialDeposit = isCash ? propertyValue : Math.round(propertyValue * (1 - loanToVal));\n  const sdltTotal = calculateStampDuty(\n    propertyValue, stampDutyType, stampDutyRegion, stampDutyBuyer,\n  );\n  const totCost = allInputCosts(initSurveyorsFee, initLegalFee, initMortgageFee,\n    refurbCost, otherCost, propertyValue, stampDutyType, stampDutyRegion, stampDutyBuyer);\n  const totIn = totCost - initMortgageAdvance;\n  const labels = calculationsLabels.initialFinanceLabels;\n\n  return [\n    { label: labels[0], value: initMortgageAdvance.toFixed(2) },\n    { label: labels[1], value: initialDeposit.toFixed(2) },\n    { label: labels[2], value: sdltTotal.toFixed(2) },\n    { label: labels[3], value: initFees.toFixed(2) },\n    { label: labels[4], value: other.toFixed(2) },\n    { label: labels[5], value: totIn.toFixed(2) },\n    { label: labels[6], value: totCost.toFixed(2) },\n  ];\n};\n\nexport default initialFinance;\n","import allInputCosts from './allInputCosts';\nimport calculationsLabels from '../../labels/calculations-labels';\n\nconst flip = ({\n  sellingLegalFee,\n  agentSellingFee,\n  initSurveyorsFee,\n  initLegalFee,\n  initMortgageFee,\n  refurbCost,\n  otherCost,\n  propertyValue,\n  stampDutyType,\n  stampDutyRegion,\n  stampDutyBuyer,\n  doneUpValue,\n}) => {\n  const totCost = allInputCosts(initSurveyorsFee, initLegalFee, initMortgageFee,\n    refurbCost, otherCost, propertyValue, stampDutyType, stampDutyRegion, stampDutyBuyer);\n\n  const fees = sellingLegalFee + agentSellingFee;\n  const flipGain = Math.round((doneUpValue - totCost) / totCost * 10000) / 100;\n  const col = (flipGain >= 20) ? 'green' : 'red';\n  const labels = calculationsLabels.flipLabels;\n\n  return [\n    { label: labels[0], value: doneUpValue.toFixed(2) },\n    { label: labels[1], value: fees.toFixed(2) },\n    { label: labels[2], value: totCost.toFixed(2) || '0' },\n    { label: labels[3], value: ((doneUpValue - (totCost + fees)).toFixed(2) || '0'), col },\n    { label: labels[4], value: flipGain.toFixed(2) || 0, col },\n  ];\n};\n\nexport default flip;\n","import calculationsLabels from '../../labels/calculations-labels';\n\nconst stressTest = ({\n  doneUpValue,\n  monthlyRent,\n  loanToValue,\n  mortgageStressInterestRatePercent,\n  mortgageStressMultipePercent,\n}) => {\n  const minRent = Math.ceil(\n    doneUpValue\n    * loanToValue / 100\n    * mortgageStressInterestRatePercent / 1200\n    * mortgageStressMultipePercent / 100,\n  );\n  const pass = monthlyRent >= minRent;\n  const labels = calculationsLabels.stressLabels;\n\n  return [\n    { label: labels[0], value: pass ? 'pass' : 'fail' },\n    { label: labels[1], value: minRent.toFixed(2) },\n  ];\n};\n\nexport default stressTest;\n","/* eslint-env browser */\n/* eslint react/prop-types: 0 */\nimport React, { Component } from 'react';\nimport Form from './components/FormComponent';\nimport { fields } from './components/formconfig';\nimport './css/app.css';\nimport SavedStateList from './components/SavedStateComponents';\nimport Results from './components/ResultsComponent';\nimport calculations from './logic/calculations/index';\n\nconst urls = {\n  comparisons: process.env.REACT_APP_COMPARISONS_URL,\n};\n\nclass App extends Component {\n  static setDefaultFormData() {\n    const defaults = {};\n    fields.map((ob) => {\n      defaults[ob.name] = ob.defVal;\n      return false;\n    });\n    return defaults;\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {\n        dealFinance: [],\n        buyToLet: [],\n        stress: [],\n        flip: [],\n      },\n      currency: 163,\n      savedStates: { Items: [] },\n      currentState: { projectName: '' },\n      hasWorkingAPI: false,\n    };\n    this.calculate = this.calculate.bind(this);\n    this.saveState = this.saveState.bind(this);\n    this.deleteState = this.deleteState.bind(this);\n    this.selectState = this.selectState.bind(this);\n  }\n\n  componentDidMount() {\n    this.getSavedStates(true);\n  }\n\n  getSavedStates(setDefault) {\n    const sortByNameThenDate = (\n      { projectName: pNameA, id: idA },\n      { projectName: pNameB, id: idB },\n    ) => {\n      if ((pNameA + idA) < (pNameB + idB)) return -1;\n      if ((pNameA + idA) > (pNameB + idB)) return 1;\n      return 0;\n    };\n\n    fetch(urls.comparisons)\n      .then(response => response.json())\n      .then((data) => {\n        if (data.Items.length > 0) {\n          data.Items.sort(sortByNameThenDate);\n        }\n        this.loadState(data, setDefault);\n      })\n      .catch(() => {\n        this.loadState(null, true);\n      });\n  }\n\n  findState(stateId) {\n    const { savedStates } = this.state;\n    return savedStates.Items.find(state => state.id === stateId);\n  }\n\n  loadState(data, setDefault) {\n    const newState = {\n      savedStates: data || { Items: [] },\n      hasWorkingAPI: !!data,\n    };\n\n    if (setDefault) {\n      newState.currentState = App.setDefaultFormData();\n    }\n\n    this.setState(newState);\n  }\n\n  calculate(changedField, newValue) {\n    const { currentState } = this.state;\n    const inputData = (changedField)\n      ? { ...currentState, [changedField]: newValue } : currentState;\n    const dealFinance = calculations.initialFinance(inputData);\n    const buyToLet = calculations.freeCash(inputData);\n    const flip = calculations.flip(inputData);\n    const stress = calculations.stressTest(inputData);\n    const currSymbol = calculations.getCurrencyCode(inputData);\n\n    document.getElementById('doc-title').text = inputData.projectName.replace(/ /g, '-');\n\n    const newState = {\n      data: {\n        dealFinance,\n        buyToLet,\n        stress,\n        flip,\n      },\n      currency: currSymbol,\n    };\n\n    if (changedField) {\n      newState.currentState = inputData;\n    }\n\n    this.setState(newState);\n  }\n\n  saveState() {\n    const { currentState } = this.state;\n    const { projectName, postCode } = currentState;\n    if (projectName === '' || postCode === '') {\n      return;\n    }\n    fetch(urls.comparisons, {\n      method: 'PUT',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(currentState),\n    })\n      .then(response => response.json())\n      .then(() => {\n        this.getSavedStates(false);\n      })\n      .catch(() => this.setState({ savedStates: { Items: 'No save service available' } }))\n      .finally(() => {\n        this.setState({ error: null });\n      });\n  }\n\n  deleteState(stateId) {\n    fetch(urls.comparisons, {\n      method: 'DELETE',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ id: stateId }),\n    })\n      .then((resp) => {\n        if (resp.ok) {\n          const { currentState } = this.state;\n          this.getSavedStates(stateId === currentState.id);\n        } else {\n          throw new Error('delete failed');\n        }\n      }).catch(() => this.setState({ savedStates: { Items: 'No delete service avaialable' } }));\n  }\n\n  selectState(stateId) {\n    const selectedState = this.findState(stateId);\n    this.setState({ currentState: selectedState }, () => this.calculate());\n  }\n\n  handleNew(e) {\n    e.preventDefault();\n    this.setState(\n      { currentState: App.setDefaultFormData() }, () => this.calculate(),\n    );\n    e.target.blur();\n  }\n\n  render() {\n    const {\n      currency,\n      savedStates,\n      currentState,\n      hasWorkingAPI,\n      error,\n    } = this.state;\n    const { projectName, postCode } = currentState;\n    const showSave = (\n      hasWorkingAPI\n      && projectName !== ''\n      && postCode !== ''\n    );\n    const { Items } = savedStates;\n    const savedList = Items ? (\n      <SavedStateList\n        data={Items}\n        ondelete={this.deleteState}\n        onclick={this.selectState}\n      />\n    ) : '';\n    const newButton = currentState.projectName !== '' ? (\n      <ul className=\"right\">\n        <li>\n          <button\n            type=\"submit\"\n            className=\"btn-primary form-control\"\n            onClick={event => this.handleNew(event)}\n          >\n            new\n          </button>\n        </li>\n      </ul>\n    ) : '';\n\n    return Object.keys(currentState).length > 1 ? (\n      <div className=\"App\">\n        <div className=\"column\" style={{ textAlign: 'center' }}>\n          <h5>Property investment deal analyser</h5>\n          <Form\n            name=\"propcalc\"\n            fields={fields}\n            formData={currentState}\n            twocols=\"yes\"\n            calculate={this.calculate}\n            currsymbol={currency}\n            onsave={this.saveState}\n            showsave={showSave}\n            error={error}\n          />\n          {newButton}\n        </div>\n        <div className=\"column results\">\n          {Results(this.state)}\n        </div>\n        <div className=\"column states\">\n          {savedList}\n        </div>\n      </div>\n    ) : '';\n  }\n}\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport './css/bootstrap-override.scss';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}